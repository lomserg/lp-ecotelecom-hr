!function(e){function t(t){for(var i,r,o=t[0],l=t[1],c=t[2],u=0,d=[];u<o.length;u++)r=o[u],a[r]&&d.push(a[r][0]),a[r]=0;for(i in l)Object.prototype.hasOwnProperty.call(l,i)&&(e[i]=l[i]);for(m&&m(t);d.length;)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var e,t=0;t<s.length;t++){for(var n=s[t],i=!0,o=1;o<n.length;o++){var l=n[o];0!==a[l]&&(i=!1)}i&&(s.splice(t--,1),e=r(r.s=n[0]))}return e}var i={},a={92:0},s=[];function r(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=i,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/assets/webpack/";var o=window.webpackJsonp=window.webpackJsonp||[],l=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var m=l;s.push([1587,1]),n()}({108:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),a=n.n(i),s=n(5);function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(e){super(e),r(this,"componentDidMount",()=>{this.viewOnly||(this.$community_title=$(this.title),this.enableTooltip())}),r(this,"componentDidUpdate",e=>{this.viewOnly||this.props.is_responsive!==e.is_responsive&&this.enableTooltip()}),r(this,"componentWillUnmount",()=>{const{is_responsive:e}=this.props;this.viewOnly||e||this.$community_title.tooltip("dispose")}),r(this,"enableTooltip",()=>{const{title:e,is_responsive:t}=this.props;t?this.$community_title.tooltip("dispose"):this.$community_title.tooltip({html:!0,placement:"bottom",title:Object(s.m)(e)})}),this.$community_title=null,this.viewOnly=e.viewOnly,this.state={className:"evnt-horizontal-img"}}handleImageLoaded(e){const t=e.target;t.height>t.width&&this.setState({className:"evnt-vertical-img"})}render(){const{blockClassName:e,noImgClass:t,image:n,title:i}=this.props;return a.a.createElement("div",{className:e||"evnt-people-cell community"},a.a.createElement("div",{className:"evnt-community-table"},a.a.createElement("div",{className:"evnt-community-cell logo-cell"},a.a.createElement("div",{className:"evnt-logo-wrapper"},a.a.createElement("img",{src:n,alt:"",onLoad:this.handleImageLoaded.bind(this),className:t?"":this.state.className}))),a.a.createElement("div",{className:"evnt-community-cell name-cell"},a.a.createElement("p",{ref:e=>this.title=e},i))))}}},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),a=n(1),s=n.n(a);const r=document.getElementById("modal-app");class o extends i.Component{constructor(e){super(e),this.scrollPosition=0,this.keepScroll=e.keepScroll,this.el=document.createElement("div")}componentDidMount(){const e=this.props.is_admin;this.keepScroll||(this.scrollPosition=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop,$("body").addClass("evnt-no-scroll evnt-blur"),e&&$("html").addClass("no-scroll")),r.appendChild(this.el)}componentWillUnmount(){const e=this.props.is_admin;r.removeChild(this.el),this.keepScroll||($("body").removeClass("evnt-no-scroll evnt-blur"),e&&$("html").removeClass("no-scroll"),window.scrollTo(0,this.scrollPosition))}render(){return s.a.createPortal(this.props.children,this.el)}}},112:function(e,t){$.datepicker.regional.ru={closeText:"Закрыть",prevText:"&#x3C;Пред",nextText:"След&#x3E;",currentText:"Сегодня",monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],monthNamesShort:["Янв","Фев","Мар","Апр","Май","Июн","Июл","Авг","Сен","Окт","Ноя","Дек"],dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["вск","пнд","втр","срд","чтв","птн","сбт"],dayNamesMin:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Нед",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},$.datepicker.regional.uk={closeText:"Закрити",prevText:"&#x3C;Попередній",nextText:"Наступний&#x3E;",currentText:"Сьогодні",monthNames:["Січень","Лютий","Березень","Квітень","Травень","Червень","Липень","Серпень","Вересень","Жовтень","Листопад","Грудень"],monthNamesShort:["Січ","Лют","Берез","Квіт","Трав","Черв","Лип","Серп","Верес","Жовт","Листоп","Груд"],dayNames:["неділя","понеділок","вівторок","середа","четвер","п'ятниця","субота"],dayNamesShort:["Ндл","Пнд","Втр","Срд","Чтв","Птн","Сбт"],dayNamesMin:["Нд","Пн","Вт","Ср","Чт","Пт","Сб"],weekHeader:"Тиж",dateFormat:"dd.mm.yy",firstDay:1,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""}},116:function(e,t){FontDetect=function(){function e(){if(!t){t=!0;var e=document.body,n=document.body.firstChild,a=document.createElement("div");a.id="fontdetectHelper",(i=document.createElement("span")).innerText="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",a.appendChild(i),e.insertBefore(a,n),a.style.position="absolute",a.style.visibility="hidden",a.style.top="-200px",a.style.left="-100000px",a.style.width="100000px",a.style.height="200px",a.style.fontSize="100px"}}var t=!1,n=["serif","sans-serif","monospace","cursive","fantasy"],i=null;return{onFontLoaded:function(n,i,a,s){if(n){var r=s&&s.msInterval?s.msInterval:100,o=s&&s.msTimeout?s.msTimeout:2e3;if(i||a){if(t||e(),this.isFontLoaded(n))return void(i&&i(n));var l=this,c=(new Date).getTime(),m=setInterval((function(){if(l.isFontLoaded(n))return clearInterval(m),void i(n);(new Date).getTime()-c>o&&(clearInterval(m),a&&a(n))}),r)}}},isFontLoaded:function(a){var s=0,r=0;t||e();for(var o=0;o<n.length;++o){if(i.style.fontFamily=a+","+n[o],s=i.offsetWidth,o>0&&s!=r)return!1;r=s}return!0},whichFont:function(e){for(var t=$(e).css("font-family").split(","),n=t.shift();n;){if(n=n.replace(/^\s*['"]?\s*([^'"]*)\s*['"]?\s*$/,"$1"),this.isFontLoaded(n))return n;n=t.shift()}return null}}}()},119:function(e,t,n){e.exports=n.p+"data/67fed7e3da02ae6c3c0a3caa8c4c813c.svg"},12:function(e,t,n){"use strict";function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));class a{constructor(){i(this,"show",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=$("#modal_error");i.find("h4, h5").text(e),n?i.find(".modal-body").html(t):i.find(".modal-body").text(t),i.modal("show")})),i(this,"showWithReload",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const a=$("#modal_error");a.find("h4, h5").text(e),a.find(".modal-body")[n?"html":"text"](t),a.on("hide.bs.modal",()=>{i?window.location=i:window.location.reload()}),a.modal("show")})),i(this,"showInfo",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"INFO",t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,a=$("#modal_info");a.find("h4").text(e),i&&a.find(".uui-button, .close").unbind("click").click(i),n?a.find(".modal-body").html(t):a.find(".modal-body").text(t),a.modal("show")}))}}},122:function(e,t,n){"use strict";(function(e){var t=n(71),i=n.n(t);n(167),n(166),n(168),n(169),n(170);window.jQuery=window.jQuery||i.a,window.$=window.$||i.a,window.localeValues&&e.updateLocale(window.locale,window.localeValues),e.locale(window.locale),String.prototype.format=String.prototype.f=function(){const e=arguments;return this.replace(/\{(\d+)\}/g,(function(t,n){return e[n]?e[n]:t}))},String.prototype.capitalize=function(){const e=this.valueOf();return e.charAt(0).toUpperCase()+e.slice(1)},window.valueFilled=e=>!!e&&("object"==typeof e&&e instanceof Array?e.length>0:"string"!=typeof e||e.trim().length>0),String.prototype.stripHTML=String.prototype.f=function(){return this.replace(/<(?:.|\n)*?>/gm,"").trim()},window.generate_uuid=()=>([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e=>(e^crypto.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)),window.bojectIsEmpty=e=>0===Object.keys(e).length,RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}).call(this,n(38))},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}var a,s,r;a=i,r=(e,t)=>{const n={class_name:"",styles:{}};if(e)if("image"===e.type){n.class_name=" with-image";let i=null;e.image?i=e.image:e.images&&(i=e.images[t]),i&&(n.styles={backgroundImage:`url("${i}")`})}else n.class_name=" with-gradient "+e.class;return n},(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s="prepareBranding"))in a?Object.defineProperty(a,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[s]=r},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),a=n.n(i),s=n(1),r=n.n(s),o=n(5);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(e){super(e),l(this,"componentDidMount",()=>{this.viewOnly||(this.$evnt_title=$(r.a.findDOMNode(this)).find("h2"),this.enableTooltip())}),l(this,"componentDidUpdate",e=>{this.viewOnly||this.props.is_responsive!==e.is_responsive&&this.enableTooltip()}),l(this,"componentWillUnmount",()=>{this.viewOnly||this.$evnt_title.length>0&&this.$evnt_title.tooltip("dispose")}),l(this,"enableTooltip",()=>{const{title:e,is_responsive:t}=this.props;t?this.$evnt_title.tooltip("dispose"):this.$evnt_title.tooltip({html:!0,placement:"bottom",title:Object(o.m)(e)})}),this.$evnt_title=null,this.viewOnly=e.viewOnly}render(){const{title:e,languages:t}=this.props,n=t?a.a.createElement("span",{className:"evnt-language"}," "+t.join("/")):null;return a.a.createElement("div",{className:"evnt-card-cell event-name-cell"},a.a.createElement("div",{className:"evnt-event-name"},a.a.createElement("h2",null,e,n)))}}},126:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),a=n.n(i),s=n(8),r=n.n(s),o=n(23),l=n.n(o);function c(e){let{time_stamp:t}=e;const n=1e3*t.start,i=1e3*t.end,s=l()(n),r=l()(i);let o="";if(t.format)o=`${s.format(t.format)} - ${r.format(t.format)}`;else if(s.isSame(r,"year"))if(s.isSame(r,"month"))if(s.isSame(r,"day")){o=""+s.locale(window.PORTAL_SETTINGS.current_locale).format("D MMM YYYY")}else{o=`${s.locale(window.PORTAL_SETTINGS.current_locale).format("D")} - ${r.locale(window.PORTAL_SETTINGS.current_locale).format("D MMM YYYY")}`}else{o=`${s.locale(window.PORTAL_SETTINGS.current_locale).format("D MMM")} - ${r.locale(window.PORTAL_SETTINGS.current_locale).format("D MMM YYYY")}`}else{o=`${s.locale(window.PORTAL_SETTINGS.current_locale).format("D MMM YYYY")} - ${r.locale(window.PORTAL_SETTINGS.current_locale).format("D MMM YYYY")}`}return a.a.createElement("div",{className:"evnt-details-cell date-cell"},a.a.createElement("p",null,o))}c.propTypes={time_stamp:r.a.shape({start:r.a.number.isRequired,end:r.a.number.isRequired,format:r.a.string}).isRequired}},127:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),a=n.n(i),s=n(5),r=n(119),o=n.n(r);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(e){super(e),l(this,"enableTooltip",()=>{this.$speakers&&0!==this.$speakers.length&&(this.props.isResponsive?this.$speakers.tooltip("dispose"):$.each(this.$speakers,(e,t)=>{const n=$(t),i=n.find("img").attr("src"),a=n.attr("data-name"),r=n.attr("data-job-title")||"";n.tooltip({html:!0,placement:"top",template:'<div class="tooltip evnt-speaker-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',title:`<div class="evnt-speaker-photo"><div class="evnt-photo-wrapper"><img src="${i}" alt="">\n            </div></div><div class="evnt-speaker-name">${Object(s.m)(a)}</div>\n            <div class="evnt-job-title">${Object(s.m)(r)}</div>`})}))}),this.$speakers=null,this.viewOnly=e.viewOnly;const t=window.PORTAL_LOCALE.pages.speakers;this.name=t.incognito_name,this.job_title=t.incognito_title}componentDidMount(){this.viewOnly||(this.$speakers=$(this.component).find(".evnt-speaker:not(.more)"),this.enableTooltip())}componentDidUpdate(e){this.viewOnly||this.props.isResponsive!==e.isResponsive&&this.enableTooltip()}componentWillUnmount(){this.viewOnly||this.$speakers&&this.$speakers.length>0&&this.$speakers.tooltip("dispose")}render(){const{name:e,job_title:t,props:n}=this,{speakers:i,photo_count:s,isSmallResponsive:r}=n;let l=null,c=null;if(0===i.photos.length&&0===i.count)l=a.a.createElement("div",{className:"evnt-speaker","data-name":e,"data-job-title":t},a.a.createElement("div",{className:"evnt-photo-wrapper"},a.a.createElement("img",{src:o.a,alt:""})));else{let e=s,t=Object.assign([],i.photos),n=i.count;e<t.length+n&&(e-=1,e<t.length&&(n+=t.length-e,t=t.slice(0,e))),l=t.map(e=>a.a.createElement("div",{key:e.id,className:"evnt-speaker","data-name":e.name,"data-job-title":e.job_title},a.a.createElement("div",{className:"evnt-photo-wrapper"},a.a.createElement("img",{src:e.avatar,alt:""})))),n>0&&(c=a.a.createElement("div",{className:"evnt-speaker more"},a.a.createElement("div",{className:"evnt-photo-wrapper"},a.a.createElement("span",null,t.length>0?"+":"",n))))}return a.a.createElement("div",{className:"evnt-people-cell speakers",ref:e=>{this.component=e}},a.a.createElement("div",{className:"speakers-wrapper"+(r?" mobile":" desktop")},l,c))}}},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));class i{}var a,s,r;a=i,r=(e,t,n,i)=>{if("undefined"!=typeof ga)try{let a={hitType:e,eventCategory:t,eventAction:n,eventLabel:i};window.USER&&window.USER.id&&ga("set","dimension1",window.USER.id),window.USER&&window.USER.epam_id&&ga("set","dimension2",window.USER.epam_id),ga("send",a)}catch(e){console.log("Google Analytics is not available.")}},(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s="sendData"))in a?Object.defineProperty(a,s,{value:r,enumerable:!0,configurable:!0,writable:!0}):a[s]=r},1434:function(e,t,n){e.exports=n.p+"data/f78c09bb30eb52e815b5a90dbce42be9.svg"},1435:function(e,t,n){e.exports=n.p+"data/3bcdc108b64f0b3340e52e9a48e951d3.svg"},1436:function(e,t,n){e.exports=n.p+"data/dc2094c379937bb157735dd56735efea.svg"},1437:function(e,t,n){e.exports=n.p+"data/3d2ac05f4c327b4ce7fe4ce17e72f5be.svg"},1438:function(e,t,n){e.exports=n.p+"data/7b18ddd3d3f0bf16002322ad883162eb.svg"},1439:function(e,t,n){e.exports=n.p+"data/b3c55a67b56ccfb83f7df5a62c605b8a.svg"},1440:function(e,t,n){e.exports=n.p+"data/8533445100a90d1acd319d17d449894f.svg"},1441:function(e,t,n){e.exports=n.p+"data/370b81d7378cfdd7f043f3dc88c46462.svg"},1442:function(e,t,n){e.exports=n.p+"data/41e513a34666dec0662aeb3a953bf3b9.svg"},1443:function(e,t,n){e.exports=n.p+"data/7eccd7d4e64fa703c4dfd3570bd32b91.svg"},1444:function(e,t,n){e.exports=n.p+"data/2344cd0c8fb29e451f4cb72f638e1eef.svg"},15:function(e,t,n){"use strict";function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));class a{constructor(){i(this,"show",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=$("#modal_error");i.find("h5").text(e),n?i.find(".modal-body").html(t):i.find(".modal-body").text(t),i.modal("show")}))}}},1587:function(e,t,n){n(58),n(116),e.exports=n(1660)},16:function(e,t,n){"use strict";function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));class a{}i(a,"checkKey",e=>null!==localStorage.getItem(e)),i(a,"checkKeyWithExpiration",e=>{if(null===localStorage.getItem(e))return!1;const t=parseInt(localStorage.getItem(e));return!(new Date(t)<=new Date)||(localStorage.removeItem(e),!1)}),i(a,"setKey",(e,t)=>{localStorage.setItem(e,t)}),i(a,"setKeyWithExpiration",(e,t)=>{localStorage.setItem(e,(new Date).getTime()+t)}),i(a,"removeKey",e=>{localStorage.removeItem(e)})},1660:function(e,t,n){"use strict";n.r(t);n(58);var i=n(0),a=n.n(i),s=(n(122),n(1)),r=n.n(s),o=n(22),l=n(2),c=n.n(l),m=n(20),u=n(8),d=n.n(u),p=n(4),h=n(6),v=n(3);class f extends i.Component{componentDidMount(){this.enableTooltips()}componentWillUnmount(){this.enableTooltips(!1)}enableTooltips(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const{community:t}=this.props,n=e?{html:!0,placement:"top",title:t.title}:"dispose";$(r.a.findDOMNode(this)).tooltip(n)}render(){const{community:e}=this.props;return a.a.createElement("a",{href:"/communities/"+e.url,className:"evnt-logo-wrapper","data-original-title":e.title,title:""},a.a.createElement("img",{src:e.logo,alt:"",className:"evnt-horizontal-img"}))}}function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}f.propTypes={community:d.a.shape({title:d.a.string.isRequired,logo:d.a.string.isRequired,url:d.a.string.isRequired}).isRequired};class b extends i.Component{constructor(e){super(e),g(this,"setResponsive",()=>{this.calculateSize();const e=h.a.isResponsive(576);this.isResponsive!==e&&(this.isResponsive=e,this.forceUpdate())}),this.localeSource=e.localeSource,this.isResponsive=h.a.isResponsive(576),this.state={blockCount:0,showMore:!1},this.myCommunities=e.myCommunities}componentDidMount(){window.addEventListener("resize",this.setResponsive),this.calculateSize()}componentWillReceiveProps(e){const{myCommunities:t}=this.props;e.myCommunities.length!==t.length&&(this.myCommunities=e.myCommunities,this.calculateSize())}componentWillUnmount(){window.removeEventListener("resize",this.setResponsive)}handleAmplitude(e,t){v.a.sendData(e,null)}calculateSize(){if(this.isResponsive)return;const{myCommunities:e}=this;let t=document.getElementsByClassName("evnt-panel-wrapper")[0].offsetWidth;t>1080&&(t=1080);const n=Math.floor(t/120);this.setState({blockCount:n,showMore:e.length>n})}render(){const{blockCount:e,showMore:t}=this.state,{myCommunities:n}=this,{localeSource:{my_button:i,see_all:s}}=this.props;if(this.isResponsive||0===e||!n||!n.length)return null;let r=null;t&&(r=a.a.createElement("a",{href:"/user-profile#subscriptions",onClick:this.handleAmplitude.bind(this,"my_subscriptions_from_card"),className:"evnt-logo-wrapper more","data-original-title":"",title:""},a.a.createElement("span",{className:"evnt-more-text"},s)));const o=(n.length>e?n.slice(0,e-1):n).map(e=>a.a.createElement(f,{key:e.id,community:e}));return a.a.createElement("div",{className:"evnt-communities-wrapper"},a.a.createElement("div",{className:"evnt-link-wrapper"},a.a.createElement("a",{href:"/user-profile#subscriptions",className:"evnt-my-communities",onClick:this.handleAmplitude.bind(this,"my_subscriptions_from_title")},i)),a.a.createElement("div",{className:"evnt-communities-list"},o,r))}}b.defaultProps={myCommunities:[]},b.propTypes={myCommunities:d.a.arrayOf(d.a.shape({id:d.a.number.isRequired,title:d.a.string.isRequired,logo:d.a.string.isRequired,url:d.a.string.isRequired}))};class y extends i.Component{constructor(e){super(e),this.isResponsive=h.a.isResponsive(576)}componentDidMount(){window.addEventListener("resize",this.setResponsive);const e=setTimeout(()=>{"function"==typeof initAnimate&&(initAnimate(),clearTimeout(e))},100)}componentWillUnmount(){window.removeEventListener("resize",this.setResponsive)}handleAmplitude(e,t,n,i){v.a.sendData(e,{[t]:n})}setResponsive(){const e=h.a.isResponsive(576);this.isResponsive!==e&&(this.isResponsive=e)}render(){const{myCommunities:e,localeSource:t,localeSource:{header:n,text:i,button:s,my_button:r}}=this.props;let o=null;return o=this.isResponsive&&e.length>0?a.a.createElement(p.a,{text:r,color:"grass",link:"/user-profile#subscriptions",onClick:this.handleAmplitude.bind(this,"communities","param_communities_source","top")}):a.a.createElement(p.a,{text:s,color:"grass",link:"/communities",onClick:this.handleAmplitude.bind(this,"communities","param_communities_source","top")}),a.a.createElement("section",{className:"evnt-panel evnt-hero-panel evnt-welcome-communities-panel"},a.a.createElement("div",{className:"evnt-panel-wrapper"},a.a.createElement("div",{className:"evnt-text-wrapper"},a.a.createElement("div",{className:"evnt-text"},a.a.createElement("h1",null,n),a.a.createElement("p",null,i),o),a.a.createElement("div",{className:"evnt-image"},a.a.createElement("div",{id:"animation_container"},a.a.createElement("canvas",{id:"canvas",width:"640",height:"330",style:{position:"absolute",display:"block"}}),a.a.createElement("div",{id:"dom_overlay_container",style:{pointerEvents:"none",overflow:"hidden",width:"640px",height:"330px",position:"absolute",left:"0px",top:"0px",display:"block"}})))),a.a.createElement(b,{myCommunities:e,localeSource:t})))}}y.defaultProps={myCommunities:[]},y.propTypes={myCommunities:d.a.arrayOf(d.a.shape({id:d.a.number.isRequired,title:d.a.string.isRequired,logo:d.a.string.isRequired,url:d.a.string.isRequired}))};var w=n(1434),E=n.n(w),_=n(1435),N=n.n(_),k=n(1436),S=n.n(k),C=n(861),P=n.n(C),L=n(1437),T=n.n(L),O=n(1438),I=n.n(O),x=n(1439),R=n.n(x),A=n(1440),D=n.n(A),j=n(1441),M=n.n(j),z=n(1442),H=n.n(z),U=n(1443),W=n.n(U);class V extends i.Component{constructor(e){super(e),this.localeSource=e.localeSource}render(){return a.a.createElement("section",{className:"evnt-panel evnt-hero-panel evnt-welcoming-description-panel"},a.a.createElement("div",{className:"evnt-panel-wrapper"},a.a.createElement("div",{className:"evnt-statistics-wrapper"},a.a.createElement("div",{className:"evnt-statistics-row"},a.a.createElement("div",{className:"evnt-statistics-cell"},a.a.createElement("div",{className:"evnt-statistic-icon"},a.a.createElement("img",{src:E.a,alt:""})),a.a.createElement("div",{className:"evnt-statistic-count"},a.a.createElement("img",{src:N.a,alt:""})),a.a.createElement("div",{className:"evnt-statistic-text"},a.a.createElement("p",null,this.localeSource.statistics.members))),a.a.createElement("div",{className:"evnt-statistics-cell"},a.a.createElement("div",{className:"evnt-statistic-icon"},a.a.createElement("img",{src:S.a,alt:""})),a.a.createElement("div",{className:"evnt-statistic-count"},a.a.createElement("img",{src:P.a,alt:""})),a.a.createElement("div",{className:"evnt-statistic-text"},a.a.createElement("p",null,this.localeSource.statistics.communities))),a.a.createElement("div",{className:"evnt-statistics-cell"},a.a.createElement("div",{className:"evnt-statistic-icon"},a.a.createElement("img",{src:T.a,alt:""})),a.a.createElement("div",{className:"evnt-statistic-count"},a.a.createElement("img",{src:P.a,alt:""})),a.a.createElement("div",{className:"evnt-statistic-text"},a.a.createElement("p",null,this.localeSource.statistics.articles))),a.a.createElement("div",{className:"evnt-statistics-cell"},a.a.createElement("div",{className:"evnt-statistic-icon"},a.a.createElement("img",{src:I.a,alt:""})),a.a.createElement("div",{className:"evnt-statistic-count"},a.a.createElement("img",{src:R.a,alt:""})),a.a.createElement("div",{className:"evnt-statistic-text"},a.a.createElement("p",null,this.localeSource.statistics.events))))),a.a.createElement("div",{className:"evnt-abilities-wrapper"},a.a.createElement("div",{className:"evnt-abilities-row"},a.a.createElement("div",{className:"evnt-abilities-cell"},a.a.createElement("div",{className:"evnt-abilities-content"},a.a.createElement("div",{className:"evnt-abilities-icon"},a.a.createElement("span",null,"1"),a.a.createElement("img",{src:D.a,alt:""})),a.a.createElement("div",{className:"evnt-abilities-text"},a.a.createElement("p",null,this.localeSource.abilities.text_1)))),a.a.createElement("div",{className:"evnt-abilities-cell"},a.a.createElement("div",{className:"evnt-abilities-content"},a.a.createElement("div",{className:"evnt-abilities-icon"},a.a.createElement("span",null,"2"),a.a.createElement("img",{src:M.a,alt:""})),a.a.createElement("div",{className:"evnt-abilities-text"},a.a.createElement("p",null,this.localeSource.abilities.text_2)))),a.a.createElement("div",{className:"evnt-abilities-cell"},a.a.createElement("div",{className:"evnt-abilities-content"},a.a.createElement("div",{className:"evnt-abilities-icon"},a.a.createElement("span",null,"3"),a.a.createElement("img",{src:H.a,alt:""})),a.a.createElement("div",{className:"evnt-abilities-text"},a.a.createElement("p",null,this.localeSource.abilities.text_3)))),a.a.createElement("div",{className:"evnt-abilities-cell"},a.a.createElement("div",{className:"evnt-abilities-content"},a.a.createElement("div",{className:"evnt-abilities-icon"},a.a.createElement("span",null,"4"),a.a.createElement("img",{src:W.a,alt:""})),a.a.createElement("div",{className:"evnt-abilities-text"},a.a.createElement("p",null,this.localeSource.abilities.text_4))))))))}}var F=n(265);function B(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class q extends i.Component{constructor(e){super(e),B(this,"resize",()=>{this.timeout=!0;const{moreItems:e,tabItems:t,showDropdown:n}=this.state;if(this.tabsList.offsetWidth<=this.tabsBar.offsetWidth){if(0===e.length)return void(this.timeout=null);if(this.currentBarWidth<this.tabsBar.offsetWidth){let n=this.tabsBar.offsetWidth-t.reduce((e,t)=>e+t.width,0)-(e.length>1?this.moreWidth:0)-this.defaultMargin;for(;e.length>0&&n-e[0].width>0;){const i=e.splice(0,1)[0];t.push(i),n-=i.width,1===e.length&&(n+=this.moreWidth)}}this.setState({tabItems:t,moreItems:e,showDropdown:0!==e.length&&n},()=>{this.timeout=null}),this.currentBarWidth=this.tabsBar.offsetWidth}else{if(0===t.length)return void(this.timeout=null);do{const n=t.splice(t.length-1,1)[0];e.unshift(n)}while(t.length>0&&this.tabsList.offsetWidth-this.tabsBar.offsetWidth+this.defaultMargin<=0);this.setState({tabItems:t,moreItems:e},()=>{this.timeout=null}),this.currentBarWidth=this.tabsBar.offsetWidth}}),B(this,"handleClick",(e,t)=>{const{onChange:n}=this.props;n&&n(e.id)}),B(this,"handleClickOutside",e=>{const t=this.dropdown;t&&t.id!==e.target.id&&this.ddOpen(!1)}),B(this,"ddOpen",e=>{this.setState({showDropdown:e})}),this.state={showDropdown:!1,tabItems:e.items,moreItems:e.items.length>0?[e.items[0]]:[]},this.timeout=null,this.currentBarWidth=null,this.moreWidth=null,this.defaultMargin=0}componentDidMount(){const{items:e}=this.props;this.currentBarWidth=this.tabsBar.offsetWidth-1;const t=Object.assign([],e).map(e=>{const t={...e},n=this["item_"+t.id];return t.width=n.offsetWidth,t});this.moreWidth=this.more?this.more.offsetWidth:0,this.setState({tabItems:[],moreItems:t},this.resize),document.addEventListener("click",this.handleClickOutside),window.addEventListener("resize",()=>{this.timeout||setTimeout(this.resize,50)})}componentWillUnmount(){document.removeEventListener("click",this.handleClickOutside),window.removeEventListener("resize",this.resize)}render(){const{size:e,additionalClasses:t,activeItem:n}=this.props,{showDropdown:i,tabItems:s,moreItems:r}=this.state,o=[e?"size-"+e:null,t].flat().filter(e=>void 0!==e&&null!=e&&0!==e.length);o.unshift("evnt-tabs-bar");let l=[];s.length>0&&(l=s.map(e=>{let t=null;return e.icon&&(t=a.a.createElement("span",{className:`evnt-tab-icon ${e.icon} `})),a.a.createElement("li",{id:e.id,key:e.id,ref:t=>{this["item_"+e.id]=t},className:"evnt-tab-item"},a.a.createElement("div",{onClick:this.handleClick.bind(this,e),onKeyUp:this.handleClick.bind(this,e),className:"evnt-tab-content"+(n===e.id?" active":""),role:"button",tabIndex:"0"},t,a.a.createElement("span",{className:"evnt-tab-text"},e.title)))}));let c=[];return r.length>0&&(c=a.a.createElement("li",{id:"more",key:"more",className:"evnt-tab-item dropdown",ref:e=>{this.more=e},onClick:this.ddOpen.bind(this,!0),onKeyUp:this.ddOpen.bind(this,!0),role:"button",tabIndex:"0"},a.a.createElement("div",{id:"moreTab",className:"evnt-tab-content dropdown-toggle"},a.a.createElement("span",{className:"evnt-tab-text"},"More")),a.a.createElement("ul",{className:"dropdown-menu"+(i?" show":""),id:"more","aria-labelledby":"moreTab",ref:e=>{this.dropdown=e}},r.map(e=>a.a.createElement("li",{key:e.id,className:"dropdown-item"+(n===e.id?" active":""),onClick:this.handleClick.bind(this,e),onKeyUp:this.handleClick.bind(this,e),role:"button",tabIndex:"0"},e.title))))),a.a.createElement("div",{className:o.join(" "),ref:e=>{this.tabsBar=e}},a.a.createElement("ul",{className:"evnt-tabs-list",ref:e=>{this.tabsList=e}},l,c))}}q.propTypes={size:d.a.oneOf(["36","60"]),onChange:d.a.func.isRequired,activeItem:d.a.string.isRequired,items:d.a.arrayOf(d.a.shape({id:d.a.string.isRequired,title:d.a.string.isRequired,icon:d.a.string})).isRequired,additionalClasses:d.a.string},q.defaultProps={size:"60",additionalClasses:""};var G=n(124),Y=n(125),K=n(126),X=n(127),Q=n(108);function J(e){let{item:t,size:n,viewOnly:i,children:s,onClick:r,isResponsive:o,isSmallResponsive:l}=e;const{languages:c,title:m,time_stamp:u,branding:d,speakers:p,attendees:h,event_status:v,community:f}=t,g=window.PORTAL_LOCALE,b=G.a.prepareBranding(d,n),y=a.a.createElement(Y.a,{viewOnly:i,title:m,languages:c,is_responsive:o}),w=a.a.createElement(K.a,{time_stamp:u});let E=null;v&&(E=a.a.createElement("div",{className:"evnt-card-cell status-cell"},a.a.createElement("span",{className:""+v},g.cards.events.statuses[v.replace(/-/g,"_")])));let _=null,N=null;h>0&&"l"===n&&(l?N=a.a.createElement("div",{className:"evnt-card-cell attendees-cell mobile"},a.a.createElement("p",null,h)):_=a.a.createElement("div",{className:"evnt-details-cell attendees-cell desktop"},a.a.createElement("p",null,h)));const k=a.a.createElement(X.a,{viewOnly:i,speakers:p,photo_count:l?3:4,is_responsive:o,is_small_responsive:l});let S=null;return f&&(S=a.a.createElement(Q.a,{image:f.logo,title:f.title,is_responsive:o})),a.a.createElement("div",{className:`evnt-promo-card size-${n}${b.class_name}`},a.a.createElement("a",{href:"/events/"+t.url,onClick:r},a.a.createElement("div",{className:"evnt-card-wrapper"},a.a.createElement("div",{className:"evnt-background-container"},a.a.createElement("div",{className:"evnt-background",style:b.styles})),a.a.createElement("div",{className:"evnt-card-heading"},a.a.createElement("div",{className:"evnt-event-details-table"},w,_)),a.a.createElement("div",{className:"evnt-card-body"},N,E,y),a.a.createElement("div",{className:"evnt-card-footer"},a.a.createElement("div",{className:"evnt-people-table"},k,S)))),s)}function Z(e){let{items:t,tab:n,period:s}=e;const r=()=>h.a.isResponsive()||h.a.isMobile(),o=()=>h.a.isResponsive(576),[l,c]=Object(i.useState)(r()),[m,u]=Object(i.useState)(o());Object(i.useEffect)(()=>{function e(){c(r()),u(o())}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}});const d=Object(i.useCallback)(()=>{v.a.sendEvent("events_block_card_click",{param_active_tab:n,param_active_period_tab:s})});function p(e){return t.map(t=>a.a.createElement(J,{key:t.id,item:t,size:e,onClick:d,isResponsive:l,isSmallResponsive:m}))}let f=null;return 1===t.length?f=a.a.createElement("div",{className:"evnt-simple-promo-cards-container one-card"},p("l")):2===t.length?f=a.a.createElement("div",{className:"evnt-simple-promo-cards-container two-cards"},p("l")):3===t.length?f=a.a.createElement("div",{className:"evnt-simple-promo-cards-container three-cards"},p("m")):4===t.length&&(f=a.a.createElement("div",{className:"evnt-simple-promo-cards-container four-cards"},p("m"))),f}function ee(e){let{text:t,link:n,arrow:i,onClick:s}=e;return a.a.createElement("a",{href:n,className:"evnt-link-text "+(i?i+"-arrow":""),onClick:s},t)}function te(e){let{image:t,description:n,linkText:i,linkUrl:s,onClick:r,linkButton:o}=e;return o?a.a.createElement("div",{className:"evnt-empty-panel"},a.a.createElement("div",{className:"evnt-empty-wrapper"},a.a.createElement("div",{className:"evnt-empty-image"},a.a.createElement("img",{src:t,alt:""})),a.a.createElement("div",{className:"evnt-empty-text"},a.a.createElement("p",null,n)),a.a.createElement("div",{className:"evnt-empty-button"},a.a.createElement(p.a,{color:"new-green",text:i,link:s,onClick:r})))):a.a.createElement("div",{className:"evnt-empty-panel"},a.a.createElement("div",{className:"evnt-empty-wrapper"},a.a.createElement("div",{className:"evnt-empty-image"},a.a.createElement("img",{src:t,alt:""})),a.a.createElement("div",{className:"evnt-empty-text"},a.a.createElement("p",null,n),a.a.createElement(ee,{text:i,link:s,arrow:"right",onClick:r}))))}J.propTypes={size:d.a.oneOf(["l","m","s"]),item:d.a.shape({title:d.a.string}).isRequired,viewOnly:d.a.bool,isResponsive:d.a.bool,isSmallResponsive:d.a.bool,onClick:d.a.func,children:d.a.node},J.defaultProps={size:"s",viewOnly:!1,isResponsive:!1,isSmallResponsive:!1,onClick:void 0,children:null},Z.propTypes={items:d.a.arrayOf(d.a.shape({id:d.a.number})).isRequired,tab:d.a.string.isRequired,period:d.a.string},Z.defaultProps={period:"empty"},ee.propTypes={text:d.a.string.isRequired,link:d.a.string.isRequired,arrow:d.a.oneOf(["","left","right"]),onClick:d.a.func},ee.defaultProps={arrow:!1,onClick:void 0},te.propTypes={image:d.a.string.isRequired,description:d.a.string,linkText:d.a.string,linkUrl:d.a.string,linkButton:d.a.bool,onClick:d.a.func},te.defaultProps={description:"",linkText:"",linkUrl:"",linkButton:!1,onClick:void 0};var ne=n(862),ie=n.n(ne);function ae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class se extends i.Component{constructor(e){super(e),ae(this,"loadContent",()=>{c.a.get("/api/v2/parts/events/popular",{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{this.setState({isLoading:!1,items:e.data})}).catch(e=>{this.setState({isLoading:!1})})}),this.state={isLoading:!0,items:[]},this.locale=window.PORTAL_LOCALE.pages.landing.part_events.tabs.popular}componentDidMount(){this.loadContent()}render(){const{isLoading:e,items:t}=this.state;let n;n=e?a.a.createElement("div",{key:"loader",className:"evnt-cards-loading"},a.a.createElement("div",{className:"evnt-loader"})):0===t.length?a.a.createElement(te,{key:"emptyPanel",description:this.locale.empty_state.text,image:ie.a,linkText:this.locale.empty_state.see_all,linkUrl:"/events",onClick:se.handleEmptyClick}):a.a.createElement(Z,{key:"simpleEventCardsLayout",items:t,tab:"popular"});return[a.a.createElement("div",{key:"switchContainer",className:"evnt-switch-container"},a.a.createElement("div",{className:"evnt-switch-cell left-cell"},a.a.createElement("p",null,this.locale.description)),a.a.createElement("div",{className:"evnt-switch-cell right-cell"},t.length>0&&a.a.createElement("a",{href:"/events?f[0][order]=most_popular",onClick:se.handleClick,className:"evnt-link-text right-arrow"},this.locale.see_all))),n]}}ae(se,"handleClick",()=>{v.a.sendEvent("events_block_redirect_filtered_events_page",{param_active_tab:"popular"})}),ae(se,"handleEmptyClick",()=>{v.a.sendEvent("events_block_empty_state_see_all_click",{param_active_tab:"popular"})});var re=n(29),oe=n.n(re);function le(e){let{items:t,disabled:n,size:i,additionalClasses:s,activeItem:r,onClick:o}=e;const l=i?"size-"+i:null,c=n?"disabled":null,m=oe()(l,c,s,"evnt-multiswitch");return a.a.createElement("div",{className:m},t.map(e=>a.a.createElement("div",{key:e.id,className:"evnt-multiswitch-item"+(r===e.id?" active":""),onClick:()=>o(e.id),onKeyUp:()=>o(e.id),role:"button",tabIndex:"0"},a.a.createElement("span",{className:"evnt-multiswitch-text"},e.title))))}le.propTypes={disabled:d.a.bool,size:d.a.oneOf(["","24","30","36","42","48"]),additionalClasses:d.a.string,activeItem:d.a.string,items:d.a.arrayOf(d.a.shape({id:d.a.string,title:d.a.string})).isRequired,onClick:d.a.func},le.defaultProps={activeItem:"",disabled:!1,size:"24",onClick:{},additionalClasses:""};var ce=n(528),me=n.n(ce),ue=n(529),de=n.n(ue),pe=n(1444),he=n.n(pe);function ve(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class fe extends i.Component{constructor(e){super(e),ve(this,"handleClick",()=>{const{period:e}=this.state;v.a.sendEvent("events_block_redirect_filtered_events_page",{param_active_tab:"from_my_communities",param_active_period_tab:e})}),ve(this,"loadContent",()=>{const{period:e}=this.state;c.a.get("/api/v2/parts/events/from-my-communities",{headers:{"X-Requested-With":"XMLHttpRequest"},params:{filters:{period:e}}}).then(e=>{this.setState({isLoading:!1,isFirstLoad:!1,items:e.data})}).catch(e=>{let t=!1,n=!1;401===e.response.status?t=!0:406===e.response.status&&(n=!0),this.setState({isLoading:!1,items:[],loginRequired:t,noCommunities:n})})}),ve(this,"setPeriod",e=>{const{period:t}=this.state;t!==e&&(v.a.sendEvent("events_block_time_period_tab_click",{param_active_tab:"from_my_communities",param_active_period_tab:e}),this.setState({period:e,isLoading:!0},this.loadContent))}),this.state={isFirstLoad:!0,isLoading:!0,items:[],period:"upcoming",loginRequired:!1,noCommunities:!1},this.locale=window.PORTAL_LOCALE.pages.landing.part_events.tabs.from_my_communities,this.periods=[{id:"upcoming",title:this.locale.upcoming},{id:"past",title:this.locale.past}]}componentDidMount(){this.loadContent()}render(){const{isLoading:e,items:t,period:n,loginRequired:i,noCommunities:s,isFirstLoad:r}=this.state;let o;o=e?a.a.createElement("div",{key:"loader",className:"evnt-cards-loading"},a.a.createElement("div",{className:"evnt-loader"})):i?a.a.createElement(te,{key:"emptyPanel",description:this.locale.login_required.text,image:de.a,linkText:this.locale.login_required.login,linkButton:!0,linkUrl:`/login-again?return_url=${window.location.origin}${window.location.pathname}`,onClick:fe.handleLoginClick}):s?a.a.createElement(te,{key:"emptyPanel",description:this.locale.no_communities.text,image:he.a,linkText:this.locale.no_communities.see_all,linkUrl:"/communities",onClick:fe.handleEmptyCommunityClick}):0===t.length?a.a.createElement(te,{key:"emptyPanel",description:this.locale.empty_state.text,image:me.a,linkText:this.locale.empty_state.see_all,linkUrl:"/events",onClick:fe.handleEmptyEventsClick}):a.a.createElement(Z,{key:"SimpleEventCardsLayout",items:t,tab:"from_my_communities",period:n});const l=!r&&(t.length>0||!i&&!s)?a.a.createElement("div",{className:"evnt-switch-cell center-cell"},a.a.createElement(le,{activeItem:n,items:this.periods,onClick:this.setPeriod})):null,c=t.length>0?a.a.createElement("div",{className:"evnt-switch-cell right-cell"},a.a.createElement("a",{href:`/events?f[0][my_communities][]=${window.PORTAL_LOCALE.filters.titles.my_communities}#${n}`,onClick:this.handleClick,className:"evnt-link-text right-arrow"},this.locale.see_all)):null;return[a.a.createElement("div",{key:"switchContainer",className:"evnt-switch-container"},a.a.createElement("div",{className:"evnt-switch-cell left-cell"},a.a.createElement("p",null,this.locale.description)),l,c),o]}}function ge(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ve(fe,"handleLoginClick",()=>{v.a.sendEvent("events_block_login_click",{param_active_tab:"from_my_communities"})}),ve(fe,"handleEmptyCommunityClick",()=>{v.a.sendEvent("events_block_empty_state_see_all_click",{param_active_tab:"from_my_communities"})}),ve(fe,"handleEmptyEventsClick",()=>{v.a.sendEvent("events_block_empty_state_see_all_click",{param_active_tab:"from_my_communities"})});class be extends i.Component{constructor(e){super(e),ge(this,"loadContent",()=>{c.a.get("/api/v2/parts/talks/live",{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{this.setState({isLoading:!1,items:e.data})}).catch(e=>{this.setState({isLoading:!1})})}),this.state={isLoading:!0,items:[]},this.locale=window.PORTAL_LOCALE.pages.landing.part_events.tabs.live}componentDidMount(){this.loadContent()}render(){const{isLoading:e,items:t}=this.state;let n;n=e?a.a.createElement("div",{key:"loader",className:"evnt-cards-loading"},a.a.createElement("div",{className:"evnt-loader"})):0===t.length?a.a.createElement(te,{key:"content",description:this.locale.empty_state.text,image:ie.a,linkText:this.locale.empty_state.see_all,linkUrl:"/events",onClick:be.handleEmptyClick}):a.a.createElement(Z,{key:"content",items:t,tab:"live"});return[a.a.createElement("div",{key:"header",className:"evnt-switch-container"},a.a.createElement("div",{className:"evnt-switch-cell left-cell"},a.a.createElement("p",null,this.locale.description))),n]}}function ye(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ge(be,"handleEmptyClick",()=>{v.a.sendEvent("events_block_empty_state_see_all_click",{param_active_tab:"live"})});class we extends i.Component{constructor(e){super(e),ye(this,"loadContent",()=>{c.a.get("/api/v2/parts/events/near-me",{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{this.setState({isLoading:!1,items:e.data.items,location:e.data.location})}).catch(e=>{let t=!1;401===e.response.status&&(t=!0),this.setState({isLoading:!1,items:[],loginRequired:t})})}),this.state={isFirstLoad:!0,isLoading:!0,items:[],loginRequired:!1,location:""},this.locale=window.PORTAL_LOCALE.pages.landing.part_events.tabs.near_me}componentDidMount(){this.loadContent()}render(){const{isLoading:e,items:t,loginRequired:n,location:i}=this.state;let s;s=e?a.a.createElement("div",{key:"loader",className:"evnt-cards-loading"},a.a.createElement("div",{className:"evnt-loader"})):n?a.a.createElement(te,{key:"emptyPanel",description:this.locale.login_required.text,image:de.a,linkText:this.locale.login_required.login,linkButton:!0,linkUrl:`/login-again?return_url=${window.location.origin}${window.location.pathname}`,onClick:we.handleLoginClick}):0===t.length?a.a.createElement(te,{key:"emptyPanel",description:this.locale.empty_state.text,image:me.a,linkText:this.locale.empty_state.see_all,linkUrl:"/events",onClick:we.handleEmptyEventsClick}):a.a.createElement(Z,{key:"SimpleEventCardsLayout",items:t,tab:"near_me"});const r=t.length>0?a.a.createElement("div",{className:"evnt-switch-cell right-cell"},a.a.createElement("a",{href:"/events?f[0][near_me][]="+window.PORTAL_LOCALE.filters.titles.near_me,onClick:we.handleClick,className:"evnt-link-text right-arrow"},this.locale.see_all)):null;return[a.a.createElement("div",{key:"switchContainer",className:"evnt-switch-container"},a.a.createElement("div",{className:"evnt-switch-cell left-cell"},a.a.createElement("p",null,this.locale.description,i?": "+i:"")),r),s]}}function Ee(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}ye(we,"handleClick",()=>{v.a.sendEvent("events_block_redirect_filtered_events_page",{param_active_tab:"near_me"})}),ye(we,"handleLoginClick",()=>{v.a.sendEvent("events_block_login_click",{param_active_tab:"near_me"})}),ye(we,"handleEmptyEventsClick",()=>{v.a.sendEvent("events_block_empty_state_see_all_click",{param_active_tab:"near_me"})});class _e extends i.Component{constructor(e){super(e),Ee(this,"handleClick",()=>{const{period:e}=this.state;v.a.sendEvent("events_block_redirect_filtered_events_page",{param_active_tab:"my_events",param_active_period_tab:e})}),Ee(this,"handleEmptyEventsClick",()=>{const{period:e}=this.state;v.a.sendEvent("events_block_empty_state_see_all_click",{param_active_tab:"my_events",param_active_period_tab:e})}),Ee(this,"loadContent",()=>{const{period:e}=this.state;c.a.get("/api/v2/parts/events/my-events",{headers:{"X-Requested-With":"XMLHttpRequest"},params:{filters:{period:e}}}).then(e=>{this.setState({isLoading:!1,isFirstLoad:!1,items:e.data})}).catch(e=>{let t=!1;401===e.response.status&&(t=!0),this.setState({isLoading:!1,items:[],loginRequired:t})})}),Ee(this,"setPeriod",e=>{const{period:t}=this.state;t!==e&&(v.a.sendEvent("events_block_time_period_tab_click",{param_active_tab:"my_events",param_active_period_tab:e}),this.setState({period:e,isLoading:!0},this.loadContent))}),this.state={isFirstLoad:!0,isLoading:!0,items:[],period:"upcoming",loginRequired:!1},this.locale=window.PORTAL_LOCALE.pages.landing.part_events.tabs.my_events,this.periods=[{id:"upcoming",title:this.locale.upcoming},{id:"past",title:this.locale.past}]}componentDidMount(){this.loadContent()}render(){const{isLoading:e,items:t,period:n,loginRequired:i,isFirstLoad:s}=this.state;let r;r=e?a.a.createElement("div",{key:"loader",className:"evnt-cards-loading"},a.a.createElement("div",{className:"evnt-loader"})):i?a.a.createElement(te,{key:"emptyPanel",description:this.locale.login_required.text,image:de.a,linkText:this.locale.login_required.login,linkButton:!0,linkUrl:`/login-again?return_url=${window.location.origin}${window.location.pathname}`,onClick:_e.handleLoginClick}):0===t.length?a.a.createElement(te,{key:"emptyPanel",description:this.locale.empty_state.text,image:me.a,linkText:this.locale.empty_state.see_all,linkUrl:"/events",onClick:this.handleEmptyEventsClick}):a.a.createElement(Z,{key:"SimpleEventCardsLayout",items:t,tab:"my_events",period:n});const o=s||!(t.length>0)&&i?null:a.a.createElement("div",{className:"evnt-switch-cell center-cell"},a.a.createElement(le,{activeItem:n,items:this.periods,onClick:this.setPeriod})),l=t.length>0?a.a.createElement("div",{className:"evnt-switch-cell right-cell"},a.a.createElement("a",{href:`/events?f[0][my_events][]=${window.PORTAL_LOCALE.filters.titles.my_events}#${n}`,onClick:this.handleClick,className:"evnt-link-text right-arrow"},this.locale.see_all)):null;return[a.a.createElement("div",{key:"switchContainer",className:"evnt-switch-container"},a.a.createElement("div",{className:"evnt-switch-cell left-cell"},a.a.createElement("p",null,this.locale.description)),o,l),r]}}function Ne(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Ee(_e,"handleLoginClick",()=>{v.a.sendEvent("events_block_login_click",{param_active_tab:"my_events"})});const ke="events_block_active_tab";class Se extends i.Component{constructor(e){super(e),Ne(this,"handleChange",e=>{const{active:t}=this.state;t!==e&&this.setState({active:e},()=>{const t={activeTab:e,date:(new Date).getTime()+36e5};localStorage.setItem(ke,JSON.stringify(t)),v.a.sendEvent("events_block_tab_click",{param_tab_name:e})})});const t=JSON.parse(localStorage.getItem(ke));let n="popular";t&&t.activeTab&&t.date>(new Date).getTime()&&(n=t.activeTab),this.items=[{id:"popular",title:window.PORTAL_LOCALE.pages.landing.part_events.tabs.popular.title,component:se},{id:"live",title:window.PORTAL_LOCALE.pages.landing.part_events.tabs.live.title,component:be},{id:"from_my_communities",title:window.PORTAL_LOCALE.pages.landing.part_events.tabs.from_my_communities.title,component:fe},{id:"my_events",title:window.PORTAL_LOCALE.pages.landing.part_events.tabs.my_events.title,component:_e},{id:"near_me",title:window.PORTAL_LOCALE.pages.landing.part_events.tabs.near_me.title,component:we}],this.state={active:n}}render(){const{active:e}=this.state,t=this.items.find(t=>t.id===e).component;return a.a.createElement("section",{className:"evnt-panel evnt-landing-promo-section"},a.a.createElement("div",{className:"evnt-panel-wrapper"},a.a.createElement(q,{items:this.items,activeItem:e,onChange:this.handleChange}),a.a.createElement(t,null)))}}function Ce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Pe extends i.Component{constructor(e){super(e),Ce(this,"loadContent",()=>{const e=this,t=new Promise((e,t)=>{c.a.get("/api/v2/parts/communities/subscribed").then(t=>{e(t.data)}).catch(t=>{e([])})}),n=new Promise((e,t)=>{c.a.get("/api/v2/parts/events/promoted").then(t=>{e(t.data)}).catch(t=>{e([])})});Promise.all([t,n]).then(t=>{e.setState({isLoading:!1,myCommunities:t[0],promoted:t[1]})})}),this.state={isLoading:!0,myCommunities:[],promoted:[]},this.localeSource=window.PORTAL_LOCALE,this.loggedUser=window.USER&&window.USER.id}componentDidMount(){(new m.a).performAction(this.loadContent)}render(){const{isLoading:e,myCommunities:t,promoted:n}=this.state;if(e)return a.a.createElement("div",{className:"evnt-main-container"},a.a.createElement("div",{className:"evnt-global-loader"},a.a.createElement("div",{className:"evnt-loader"})));const i=a.a.createElement(y,{myCommunities:t,localeSource:this.localeSource.pages.landing.welcome_hero_section}),s=a.a.createElement(Se,null),r=!this.loggedUser&&a.a.createElement(V,{localeSource:this.localeSource.pages.landing.welcoming_block}),o=n.length>0&&a.a.createElement(F.a,{localeSource:this.localeSource,events:n});return a.a.createElement("div",{className:"evnt-main-container"},a.a.createElement("main",null,i,r,s,o))}}class Le extends i.Component{componentDidMount(){v.a.sendData("pv",null)}render(){return a.a.createElement(o.b,{pageComponent:Pe})}}Object(s.render)(a.a.createElement(Le,null),document.getElementById("app"))},18:function(e,t,n){"use strict";function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));class a{constructor(){i(this,"show",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=$("#modal_error");i.find("h5").text(e),n?i.find(".modal-body").html(t):i.find(".modal-body").html(`<p>${t}</p>`),i.modal("show")}))}}},20:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var i=n(70),a=n(67),s=n(66),r=n(72),o=n(73),l=n(79);function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){let e=window.location.href.trim();return e.indexOf("#")>=0?e=e.split("#")[0]:e.indexOf("?")>=0&&(e=e.split("?")[0]),e}class u{constructor(e){var t=this;c(this,"performAction",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{action:i}=t;if(i){if(i.loginCallbackCaller===t.caller){if(window.USER&&!window.USER.id)return t.clearAction(),void(e&&e());if("method"===i.actionType){const n=t.actionAfterLoginClasses[t.action.className];if(!n)return;const s=n[i.methodName];if(!s)return;const r=new a.a;i.params?s(i.params).then(()=>{i.title&&i.message&&r.show(i.title,i.message),e&&e()}).catch(()=>{e&&e()}):s().then(()=>{i.title&&i.message&&r.show(i.title,i.message),e&&e()}).catch(()=>{e&&e()})}else if("action"===i.actionType){if(!n)return void(e&&e());const a=n[i.action];t.clearAction(),a?(a(),e&&e()):e&&e()}else{const e=$("html, body"),t=$("#"+i.data_id);if(!i.skipScroll){const n=$("#"+i.scrollToId),a=$(".evnt-responsive-header"),s=(a.length>0?a.height():$("header").height())+20;n.length>0?e.scrollTop(n.offset().top-s):t.length>0?e.scrollTop(t.offset().top-s):e.scrollTop(parseInt(i.scroll))}let n="";if(i.data_id&&(n+="#"+i.data_id),n+=":first","domClick"===i.actionType){const t=e.find(n)[0];t&&t.click()}else e.find(n).trigger("click")}t.clearAction()}}else e&&e()})),c(this,"isAction",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return e?null!==t.action&&t.action.type===e:null!==t.action})),c(this,"clearAction",()=>{localStorage.removeItem(this.key),this.action=null}),this.caller=e,this.key=m(),this.action=function(e){let t=localStorage.getItem(e);return t?(t=JSON.parse(t),new Date(t.exp_time)<new Date&&(t=null,localStorage.removeItem(e)),t):null}(this.key),this.actionAfterLoginClasses={CalendarHandler:i.a,SubscriptionHandler:s.a,ArticleLikeHandler:r.a,SendMessageButtonHandler:o.a,DiscussionLikeHandler:l.a}}}c(u,"prepareActionCallback",e=>{e&&(e.date=(new Date).getTime(),localStorage.setItem(m(),JSON.stringify(e)))})},22:function(e,t,n){"use strict";var i=n(0),a=n.n(i),s=n(7),r=n(27);i.Component;var o=n(39);class l extends i.Component{render(){const{item:e,actions:t}=this.props;return a.a.createElement("li",{className:`nav-item evnt-responsive-menu-icon${e.selected?" active":""}${e.icon?" "+e.icon:""}`},a.a.createElement("a",{className:"nav-link",href:e.url,onClick:t.itemClick.bind(this,e.url,e.key)},e.title))}}class c extends i.Component{render(){const{item:e,actions:t}=this.props,n=e.items.filter(e=>e.selected).length>0,i=e.items.map(e=>a.a.createElement("a",{key:e.key,className:"dropdown-item"+(e.selected?" active":""),href:e.url,onClick:t.itemClick.bind(this,e.url,e.key)},e.title));return a.a.createElement("li",{className:"nav-item subnavbar-nav dropdown"+(n?" active":"")},a.a.createElement("a",{className:"nav-link dropdown-item dropdown-toggle",href:"#",onClick:e=>e.preventDefault(),"data-toggle":"dropdown"},e.title),a.a.createElement("div",{className:"dropdown-menu"},i))}}class m extends i.Component{render(){const{item:e,actions:t}=this.props,n=(e.items.filter(e=>e.selected).length,e.items.map(e=>a.a.createElement("a",{key:e.key,className:"dropdown-item"+(e.selected?" active":""),href:e.url,onClick:t.itemClick.bind(this,e.url,e.key)},e.title)));return a.a.createElement("li",{className:"nav-item evnt-responsive-menu-icon subnavbar-nav"+(e.icon?" "+e.icon:"")},a.a.createElement("a",{className:"nav-link",href:"#",onClick:e=>e.preventDefault()},e.title),a.a.createElement("div",{className:"dropdown-menu show"},n))}}var u=n(3),d=n(31),p=n(14),h=n(20),v=n(40),f=n(26);function g(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class b extends i.Component{constructor(e){super(e),g(this,"componentDidMount",()=>{const e=new h.a;e.isAction(this.actionAfterLoginType)&&e.performAction(null,this);const t=Object(v.parse)(location.search);"create_event"===t.after_actions_type&&"1"==t.after_actions_valid&&(this.triggerShow(),window.history.pushState(null,null,window.location.href.split("?")[0]))}),g(this,"triggerShow",()=>{this.button.click()}),g(this,"createEvent",(e,t)=>{this.skipPreventDefault||(this.skipPreventDefault=!1,t.preventDefault(),t.stopPropagation(),this.showPopup(e),p.a.sendData("event","Client menu","client_menu_using","'Create event' link clicked"),this.props.header_menu?u.a.sendAnyPageData("create_component",{param_create_option:"event"}):u.a.sendData("request_new_event",null))}),g(this,"showPopup",e=>{if(e.user.id)e.actions.popup.toggle(s.b,!0);else{const t={actionBeforeLoginParams:{actionType:"action",action:"triggerShow",type:this.actionAfterLoginType},origin:{url:"/",type:"create_event",saveAfterAction:!0}};e.actions.popup.toggle(s.c,!0,t)}}),this.currentLocale=window.PORTAL_LOCALE,this.portal_settings=window.PORTAL_SETTINGS,this.user=window.USER,this.actionAfterLoginType=f.b,this.skipPreventDefault=!1}render(){const e=this.props.isSimple?"evnt-button sky small":"dropdown-item create-icon",t=this.props.isSimple?this.currentLocale.menu.create:this.currentLocale.menu.create_event;return a.a.createElement(Ht.Consumer,null,n=>a.a.createElement("a",{className:e,href:"#",ref:e=>this.button=e,onClick:this.createEvent.bind(this,n)},t))}}var y=n(83),w=n(2),E=n.n(w);function _(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class N extends i.Component{constructor(e){super(e),_(this,"localization",window.PORTAL_LOCALE.pages.search),_(this,"state",{query:"",searchInProgress:!1,searchResults:[],total:0,active:!1}),_(this,"handleEnterSearch",e=>{"Enter"===e.key&&setTimeout(this.openSearchPage(),100)}),_(this,"handleSearchChange",e=>{const t={query:e.target.value};t.query.trim().length<2&&(t.searchResults=[],t.total=0),this.setState(t,()=>{this.closeTooltip(),this.state.query.trim().length>=2&&this.processSearch()})}),_(this,"handleSearchFocus",()=>{this.props.isResponsive||this.callMenuResize(!0),this.state.query.length>=2&&this.processSearch()}),_(this,"callMenuResize",e=>{setTimeout(()=>{let t=setInterval(()=>{window.dispatchEvent(new CustomEvent("menuResize"))},10);this.setState({active:e}),setTimeout(()=>{clearInterval(t),t=null,e||this.closeTooltip()},500)},100)}),_(this,"handleSearchBlur",e=>{this.props.isResponsive||this.callMenuResize(!1),this.source&&this.source.cancel()}),_(this,"handleClear",()=>{this.setState({query:"",searchInProgress:!1,searchResults:[],total:0},()=>{this.closeTooltip(),this.source&&this.source.cancel()})}),_(this,"processSearch",()=>{this.props.isResponsive||this.setState({searchInProgress:!0},()=>{this.source&&this.source.cancel(),this.source=this.CancelToken.source();const e={query:this.state.query,limit:5};E.a.get("/api/v2/search-entity",{params:e,paramsSerializer:e=>$.param(e),cancelToken:this.source.token}).then(e=>{const{data:t,total:n}=e.data;this.setState({searchInProgress:!1,searchResults:t,total:n})}).catch(e=>{this.setState({searchInProgress:!1,searchResults:[],total:0})})})}),_(this,"openSearchPage",()=>{const{query:e}=this.state;e.length<2?this.showTooltip():(this.source&&this.source.cancel(),window.location.href="/search?f%5B0%5D%5Bsearch%5D="+encodeURIComponent(e.trim()))}),_(this,"showTooltip",()=>{$(this.searchRef.current).tooltip("show")}),_(this,"closeTooltip",e=>{e&&$(e.target).hasClass("evnt-search-icon")||$(".tooltip.evnt-global-search-tooltip").hasClass("show")&&(e&&0!==$(e.target).closest($(this.searchRef.current)).length||$(this.searchRef.current).tooltip("hide"))}),_(this,"closeSearchResults",e=>{e&&0!==$(e.target).closest("li.evnt-global-search").length||this.setState({searchInProgress:!1,searchResults:[],total:0})}),this.searchRef=a.a.createRef(),this.CancelToken=E.a.CancelToken,this.source=null}componentDidMount(){$(this.searchRef.current).tooltip({html:!0,placement:"bottom",template:'<div class="tooltip evnt-global-search-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"manual",title:this.localization.tooltip}),document.addEventListener("click",this.closeTooltip),document.addEventListener("click",this.closeSearchResults)}componentWillUnmount(){document.removeEventListener("click",this.closeTooltip),document.removeEventListener("click",this.closeSearchResults),this.closeTooltip()}render(){const{query:e,searchResults:t,total:n,active:s}=this.state,{isResponsive:r}=this.props;let o=null,l=null;(e.length>0||s)&&(l=" active",e.length>0&&(o=a.a.createElement("span",{className:"evnt-clear-icon",onClick:this.handleClear})));const c=a.a.createElement(i.Fragment,null,a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control evnt-search small"+(l||""),ref:this.searchRef,maxLength:200,placeholder:this.localization.placeholder,value:e,onChange:this.handleSearchChange,onKeyDown:this.handleEnterSearch,onBlur:this.handleSearchBlur,onFocus:this.handleSearchFocus}),o,a.a.createElement("div",{className:"evnt-search-field-button",onClick:this.openSearchPage},a.a.createElement("span",{className:"evnt-search-icon"})),a.a.createElement(k,{query:e,searchResults:t,total:n}));return r?a.a.createElement("div",{className:"evnt-responsive-global-search-field"},c):a.a.createElement("li",{className:"evnt-tools-menu evnt-global-search nav-item"},a.a.createElement("div",{className:"evnt-global-search-field"},c))}}function k(e){let{query:t,searchResults:n,total:i}=e;if(0===i)return null;const s=window.PORTAL_LOCALE.filters.search_page.categories,r=n.map(e=>{const{url:t,type:n}=e,{event_title:i,talk_title:r,community_title:o,article_title:l}=e;return a.a.createElement("a",{key:t,href:t,className:"dropdown-item"},a.a.createElement("div",{className:"evnt-label small"},s[function(e){if("community"===e)return"communities";return e+"s"}(n)]),a.a.createElement("p",null,i||r||o||l))});return a.a.createElement("div",{className:"dropdown-menu search-results-container"},a.a.createElement("div",{className:"evnt-menu-scroll"},r),a.a.createElement("div",{className:"evnt-all-results"},a.a.createElement("a",{href:"/search?f%5B0%5D%5Bsearch%5D="+encodeURIComponent(t)},window.PORTAL_LOCALE.pages.search.show_results.replace("{0}",i))))}function S(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const C={page:o.a,group:c},P={page:l,group:m};class L extends i.Component{constructor(e){super(e),S(this,"portalMenu",e=>{e.stopPropagation(),e.preventDefault(),this.setState({isEvent:!1})}),S(this,"eventMenuItemClick",(e,t,n)=>{n.stopPropagation(),n.preventDefault(),r.a.goToItem(e),e.includes("#")&&this.props.actions.toggleMenu(!1);let i={param_select_value:t};"discussions"==t||"communities"==window.ENTITY_TYPE?i.param_community_id=window.EVENT.id:window.EVENT&&(i.param_event_id=window.EVENT.id),u.a.sendData("navi",i)}),S(this,"changeLanguage",(e,t)=>{const{activeItem:n}=this.state;if(e.preventDefault(),n!==t){const e=window.location.pathname.startsWith("/error")?this.return_url:window.location.pathname+window.location.search;d.a.changeLanguage(t,()=>{window.location=e})}}),S(this,"handleNavigationClick",(e,t,n,i)=>{u.a.sendAnyPageData(e,t),n&&n.actions.popup.toggle(s.c,!0,null,i)}),this.layoutHandler=this.props.layoutHandler,this.portalLocale=window.PORTAL_LOCALE,this.language=window.PORTAL_SETTINGS.current_locale,this.languageItems=window.PORTAL_SETTINGS.locales.map(e=>({id:e,title:this.portalLocale.menu.language[e],active:this.language===e}));const t=this.languageItems.find(e=>e.active);this.createEntitiesComponents={events:b,communities:y.a},this.state={isEvent:this.layoutHandler.isEvent(),activeItem:t?t.id:null},this.pageName=window.PORTAL_PAGE_NAME,this.return_url=window.hasOwnProperty("ORIGINAL_URL")?window.ORIGINAL_URL:window.location.pathname+window.location.search}render(){const{isEvent:e,activeItem:t}=this.state,{layoutHandler:n}=this.props;let s=null,r=null;if(e){const e=n.eventMenuItems(1).map(e=>{const t=C[e.type];return a.a.createElement(t,{key:e.key,ref:e.key,item:e,actions:{itemClick:this.eventMenuItemClick},onClick:this.handleNavigationClick.bind(this,e.key,null,null)})});let t=n.event.title;n.event.logo&&!1===n.event.logo.same_as_event_title&&(t=n.event.logo.text);let i=null;e.length>0&&(i=a.a.createElement("div",{className:"evnt-menu-divider"},a.a.createElement("span",null,t))),s=a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",{className:"evnt-responsive-navigation navbar-nav"},a.a.createElement("li",{className:"nav-item evnt-responsive-menu-icon back-icon",onClick:this.portalMenu.bind(this)},a.a.createElement("a",{className:"nav-link",href:"#"},this.portalLocale.menu.back_to_menu))),i,a.a.createElement("ul",{className:"evnt-responsive-navigation navbar-nav"},e))}else{const e=n.menuItems().map(e=>{const t=P[e.type];return a.a.createElement(t,{key:e.key,ref:e.key,item:e,actions:{itemClick:this.eventMenuItemClick},onClick:this.handleNavigationClick.bind(this,e.key,null,null)})});let t=null;window.location.pathname.startsWith("/search")||(t=a.a.createElement(N,{isResponsive:!0})),s=a.a.createElement(i.Fragment,null,t,a.a.createElement("ul",{className:"evnt-responsive-navigation navbar-nav"},e))}const o=n.policyMenuItems().map(e=>{const t=e.url===window.location.pathname;return a.a.createElement("li",{className:"nav-item evnt-responsive-menu-extra "+(t?"active":""),key:e.key},a.a.createElement("a",{className:"nav-link",href:e.url},e.title))}),l=a.a.createElement("ul",{className:"evnt-responsive-navigation navbar-nav evnt-responsive-nav-extra"},o);let c=null;return window.PORTAL_SETTINGS.locale_switcher_enabled&&(c=a.a.createElement("ul",{className:"evnt-responsive-navigation navbar-nav"},a.a.createElement("li",{className:"nav-item subnavbar-nav dropdown"},a.a.createElement("a",{className:"nav-link dropdown-item dropdown-toggle",href:"/","data-toggle":"dropdown"},this.portalLocale.menu.language.title,": ",this.portalLocale.menu.language[this.language]),a.a.createElement("div",{className:"dropdown-menu"},this.languageItems.map(e=>a.a.createElement("a",{key:e.id,onClick:t=>this.changeLanguage(t,e.id),className:"dropdown-item"+(t===e.id?" active":""),href:"/"},e.title)))))),n.isSignedUser()&&(r=a.a.createElement("ul",{className:"evnt-responsive-navigation navbar-nav"},a.a.createElement("li",{className:"nav-item evnt-responsive-menu-icon collections-icon"},a.a.createElement("a",{className:"nav-link",href:"/user-profile/collections",onClick:this.handleNavigationClick.bind(this,"my_collections_mobile_menu",null,null)},this.portalLocale.menu.my_collections)))),a.a.createElement("div",{className:"evnt-responsive-menu-wrapper"},a.a.createElement("div",{className:"evnt-responsive-menu evnt-responsive-platform-menu"},a.a.createElement("div",{className:"menu-wrapper"},a.a.createElement("div",{className:"menu-scroll"},s,r,c,l))))}}var T=n(34),O=n(1695);function I(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class x extends i.Component{constructor(e){super(e),I(this,"componentDidMount",()=>{this.wsHandler.registerCallbacks(this.callbacks()),this.state.receivedState||setTimeout(()=>{this.wsHandler.perform("unread_messages")},100)}),I(this,"callbacks",()=>[{id:this.uuid,action:"connected",callback:this.props.context.userWSHandler.perform.bind(this,"unread_messages")},{id:this.uuid,action:"new_message",callback:this.new_message},{id:this.uuid,action:"unread_messages",callback:this.unread_messages}]),I(this,"unread_messages",e=>{this.setState({newMessage:e>0,receivedState:!0},()=>{this.props.updateNewMessagesCount(e)})}),I(this,"new_message",e=>{this.props.context.user.id!==e.message.user_id&&this.setState({newMessage:!0,receivedState:!0})}),this.actionAfterLoginType=f.c,this.wsHandler=e.context.userWSHandler,this.uuid=Object(O.a)(),this.state={newMessage:!1,receivedState:!1}}componentWillUnmount(){this.wsHandler.unbindCallbacks(this.uuid)}render(){return this.state.newMessage?a.a.createElement("div",{className:"evnt-new-messages-icon"}):null}}function R(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class A extends i.Component{constructor(e){super(e),R(this,"componentDidMount",()=>{this.setMenuItems(),window.addEventListener("resize",this.setMenuItems),this.$responsiveDropdown&&this.$responsiveDropdown.parent("li").on("show.bs.dropdown",()=>{this.props.togglePortalMenu&&this.props.togglePortalMenu(!1)})}),R(this,"componentWillUnmount",()=>{window.removeEventListener("resize",this.setMenuItems)}),R(this,"setMenuItems",()=>{let e=this.items.filter(e=>"admin_area"!==e.key||"admin_area"===e.key&&this.layoutHandler.user.is_admin&&this.layoutHandler.viewportWidth()>1024);this.props.context.userWSHandler||(e=e.filter(e=>"chats"!==e.key)),this.setState({menuItems:e})}),R(this,"updateNewMessagesCount",e=>{const t=this.state.menuItems.find(e=>"chats"===e.key);t&&(t.title=`${this.portalLocale.menu.chats}${e>0?` <span>(${e})</span>`:""}`,t.icon=e>0?"messages-icon new":"messages-icon",this.setState({menuItems:this.state.menuItems}))}),R(this,"sendAmplitude",(e,t,n)=>{u.a.sendAnyPageData(e,t)}),this.layoutHandler=this.props.layoutHandler,this.portalLocale=window.PORTAL_LOCALE,this.pageName=window.PORTAL_PAGE_NAME;const t=window.hasOwnProperty("ORIGINAL_URL")?window.ORIGINAL_URL:window.location.pathname+encodeURIComponent(window.location.search);this.items=[{key:"my_profile",title:this.portalLocale.menu.profile,url:"/user-profile",icon:"profile-icon",selected:"my_profile"===this.pageName,onClick:this.sendAmplitude.bind(this,"profile",{param_profile_menu_action:"My profile"})},{key:"my_collections",title:this.portalLocale.menu.my_collections,url:"/user-profile/collections",icon:"collections-icon",selected:"my_profile"===this.pageName,onClick:this.sendAmplitude.bind(this,"profile",{param_profile_menu_action:"My collections"})},{key:"chats",title:this.portalLocale.menu.chats,url:"/chats",icon:"messages-icon",selected:"chats"===this.pageName,onClick:this.sendAmplitude.bind(this,"chats",{param_profile_menu_action:"Chats"})},{key:"profile_settings",title:this.portalLocale.menu.settings,url:"/user-profile/edit/personal-data",icon:"profile-settings-icon",selected:"profile_settings"===this.pageName,onClick:this.sendAmplitude.bind(this,"profile",{param_profile_menu_action:"Personal settings"})},{key:"admin_area",title:this.portalLocale.menu.admin,url:"/admin",icon:"admin-icon",selected:!1,onClick:this.sendAmplitude.bind(this,"profile",{param_profile_menu_action:"Admin area"})},{key:"log_out",title:this.portalLocale.menu.logout,url:"/logout?return_url="+t,icon:"logout-icon",selected:!1,onClick:this.sendAmplitude.bind(this,"profile",{param_profile_menu_action:"Log out"})}],this.state={menuItems:[]}}render(){const{isResponsive:e,context:t}=this.props,n=a.a.createElement("div",{className:"evnt-profile-photo"},a.a.createElement("img",{src:this.layoutHandler.user.photo,alt:""}));let i=null;t.userWSHandler&&(i=a.a.createElement(x,{updateNewMessagesCount:this.updateNewMessagesCount,context:t}));const s=this.state.menuItems.map(e=>a.a.createElement("a",{key:e.key,className:"dropdown-item "+e.icon,onClick:e.onClick,href:e.url,dangerouslySetInnerHTML:{__html:e.title}}));return e?a.a.createElement("li",{className:"evnt-responsive-profile-menu dropdown"},a.a.createElement("a",{href:"#",className:"nav-link dropdown-toggle",ref:e=>this.$responsiveDropdown=$(e),id:"responsiveNavbarDropdown","data-toggle":"dropdown"},n,i),a.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"responsiveNavbarDropdown"},s)):a.a.createElement("li",{className:"evnt-tools-menu profile nav-item dropdown"},a.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"navbarDropdown","data-toggle":"dropdown"},n,i),a.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"navbarDropdown"},s))}}var D=n(4);function j(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class M extends i.Component{constructor(e){super(e),j(this,"componentWillUnmount",()=>{window.removeEventListener("resize",this.setResponsiveMenuHeight),this.state.isOpen&&($("body").removeClass("evnt-no-scroll"),window.scrollTo(0,self.scrollPosition))}),j(this,"setResponsiveMenuHeight",()=>{let e=$(".evnt-responsive-menu-wrapper .evnt-responsive-menu .menu-wrapper .menu-scroll");const t=$(".evnt-responsive-header").outerHeight(),n=$(window).height()-t;e.css({height:n})}),j(this,"toggleMenu",e=>{const t=this;t.setState({isOpen:e},()=>{e?(t.setResponsiveMenuHeight(),t.scrollPosition=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop,$("body").addClass("evnt-no-scroll")):($("body").removeClass("evnt-no-scroll"),window.scrollTo(0,t.scrollPosition))})}),j(this,"handleLogoClick",e=>{u.a.sendAnyPageData("logo",null)}),this.layoutHandler=this.props.layoutHandler;const t=new h.a,n=Object(v.parse)(location.search),i=t.isAction(f.b)||t.isAction(f.a)||t.isAction(f.c)||n&&("create_event"===n.after_actions_type||"create_community"===n.after_actions_type)&&"1"==n.after_actions_valid;this.portalLocale=window.PORTAL_LOCALE,this.state={isOpen:i},this.scrollPosition=0,this.return_url=window.hasOwnProperty("ORIGINAL_URL")?window.ORIGINAL_URL:window.location.pathname+encodeURIComponent(window.location.search)}componentDidMount(){window.addEventListener("resize",this.setResponsiveMenuHeight),this.setResponsiveMenuHeight(),this.state.isOpen&&(this.scrollPosition=window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop,$("body").addClass("evnt-no-scroll"))}componentDidUpdate(e,t,n){this.state.isOpen&&!$("body").hasClass("evnt-no-scroll")&&$("body").addClass("evnt-no-scroll")}render(){const{isOpen:e}=this.state,{context:t}=this.props;let n=null,i=null;if(e){n=a.a.createElement("div",{className:"evnt-responsive-hide-menu",onClick:this.toggleMenu.bind(this,!1)});let e=this.props.actions?this.props.actions:{};e.toggleMenu=this.toggleMenu,i=a.a.createElement(L,{layoutHandler:this.layoutHandler,actions:e})}else n=a.a.createElement("div",{className:"evnt-responsive-toggle-box",onClick:this.toggleMenu.bind(this,!0)},a.a.createElement("span",null),a.a.createElement("span",null),a.a.createElement("span",null));let s=null;return s=this.layoutHandler.isSignedUser()?a.a.createElement(Ht.Consumer,null,e=>a.a.createElement(A,{isResponsive:!0,togglePortalMenu:this.toggleMenu,layoutHandler:this.layoutHandler,context:e})):a.a.createElement("li",{className:"evnt-responsive-header-button login"},a.a.createElement(D.a,{text:this.portalLocale.menu.login,size:"small",color:"transparent white",link:"/login?return_url="+encodeURIComponent(this.return_url)})),a.a.createElement("div",{className:"evnt-responsive-header-wrapper"},a.a.createElement("div",{className:"evnt-responsive-header"},n,a.a.createElement("a",{href:"/",onClick:this.handleLogoClick,className:"evnt-responsive-brand-logo"},a.a.createElement("span",{className:"evnt-logo"},a.a.createElement("img",{height:"31",alt:"",src:T.a}))),a.a.createElement("ul",{className:"evnt-responsive-header-tools evnt-tools-menu navbar-nav"},s)),i)}}var z=n(55),H=n(56);function U(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class W extends i.Component{constructor(e){super(e),U(this,"createEntity",(e,t,n)=>{n.preventDefault(),u.a.sendEvent("create_entity",{param_entity_type:e},()=>{window.location=t})}),this.currentLocale=e.locale}render(){const{user:e}=this.props,t=[];if(e.can_create_event&&t.push({type:"event",class:"create-event",title:this.currentLocale.event,url:"/admin/events#create_new"}),e.can_create_community&&t.push({type:"community",class:"create-community",title:this.currentLocale.community,url:"/admin/communities#create_new"}),0===t.length)return null;return a.a.createElement("li",{className:"evnt-tools-menu create nav-item dropdown"},a.a.createElement("a",{href:"#",className:"evnt-button new-green evnt-icon-button add-icon small dropdown-toggle",id:"createDropdown","data-toggle":"dropdown"},this.currentLocale.title),a.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"createDropdown"},t.map(e=>a.a.createElement("a",{className:"dropdown-item create-icon "+e.class,key:e.type,href:"#",onClick:this.createEntity.bind(this,e.type,e.url)},e.title))))}}function V(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const F={page:o.a,group:z.a};class B extends i.Component{constructor(e){super(e),V(this,"componentDidMount",()=>{FontDetect.onFontLoaded("Source Sans Pro Regular",()=>{const e=()=>{this.init||(this.init=!0,this.setState({menuItems:this.props.layoutHandler.menuItems(),extendedMenuItems:[{key:"0",title:"",url:"#",icon:"",selected:!1,type:"page"}]},()=>{this.handler=new d.a(this,window.PORTAL_SETTINGS.chats_enabled?46:0),window.addEventListener("resize",this.resizeNavigation),window.addEventListener("menuResize",this.resizeNavigation)}))};let t=new Image;t.onload=e,t.onerror=e,t.src=T.a,setTimeout(e,1500)}),localStorage.getItem("tooltip_was_hidden")||(this.initTooltip(),this.showTooltip(),document.addEventListener("mousedown",this.hideTooltip))}),V(this,"componentDidUpdate",()=>{this.handleResize=!1}),V(this,"componentWillUnmount",()=>{this.handleResize=!0,window.removeEventListener("resize",this.resizeNavigation),window.removeEventListener("menuResize",this.resizeNavigation),document.removeEventListener("mousedown",this.hideTooltip)}),V(this,"resizeNavigation",()=>{this.handleResize||this.handler.resize()}),V(this,"changeLanguage",(e,t)=>{const{activeItem:n}=this.state;if(e.preventDefault(),n!==t){const e=window.location.pathname.startsWith("/error")?this.return_url:window.location.pathname+window.location.search;d.a.changeLanguage(t,()=>{window.location=e})}}),V(this,"handleNavigationClick",(e,t,n,i)=>{t&&u.a.sendAnyPageData(e,null),n&&n.actions.popup.toggle(s.c,!0,null,i)}),V(this,"itemClick",(e,t,n)=>{u.a.sendAnyPageData(t,null)}),V(this,"initTooltip",()=>{$(this.collectionsNav).tooltip({html:!0,placement:"bottom",container:"body",trigger:"manual",template:'<div class="tooltip evnt-popup-tooltip collections-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',title:this.portalLocale.menu.my_collections_tooltip})}),V(this,"showTooltip",()=>{$(this.collectionsNav).tooltip("show")}),V(this,"hideTooltip",()=>{this.layoutHandler.isSignedUser()&&($(this.collectionsNav).tooltip("hide"),localStorage.getItem("tooltip_was_hidden")||localStorage.setItem("tooltip_was_hidden",(new Date).getTime()))}),V(this,"sendAmplitude",e=>{const t=((new Date).getTime()-localStorage.getItem("tooltip_was_hidden"))/1e3;u.a.sendAnyPageData("my_collections_header",{param_first_click:t<5})}),this.layoutHandler=this.props.layoutHandler,this.handleResize=!0,this.handler=null,this.portalLocale=window.PORTAL_LOCALE,this.language=window.PORTAL_SETTINGS.current_locale,this.languageItems=window.PORTAL_SETTINGS.locales.map(e=>({id:e,title:this.portalLocale.menu.language[e],active:this.language===e}));const t=this.languageItems.find(e=>e.active);this.state={menuItems:[],extendedMenuItems:[],activeItem:t?t.id:null},this.init=!1,this.return_url=window.hasOwnProperty("ORIGINAL_URL")?window.ORIGINAL_URL:window.location.pathname+window.location.search,this.handleClickOutside=this.hideTooltip.bind(this)}render(){const{menuItems:e,extendedMenuItems:t,activeItem:n}=this.state;let i=null,s=null,r=null,o=null,l=null;if(e.length>0){const t=e.map(e=>{const t=F[e.type];return a.a.createElement(t,{key:e.key,ref:e.key,item:e,actions:{itemClick:this.itemClick}})});l=a.a.createElement("ul",{className:"evnt-navigation navbar-nav",ref:"navigationBar"},t)}let c=null;t.length>0&&(c=a.a.createElement(H.a,{menuItems:t,actions:{itemClick:this.itemClick},ref:"extendedMenu",rightSubmenu:!0}));let m=null;return window.location.pathname.startsWith("/search")||(m=a.a.createElement(N,{isResponsive:!1})),window.PORTAL_SETTINGS.locale_switcher_enabled&&(s=a.a.createElement("li",{className:"evnt-tools-menu language nav-item dropdown"},a.a.createElement("a",{className:"dropdown-toggle",href:"",id:"languageDropdown","data-toggle":"dropdown"},a.a.createElement("span",null,this.portalLocale.menu.language[this.language+"_short"])),a.a.createElement("div",{className:"dropdown-menu dropdown-menu-right","aria-labelledby":"languageDropdown"},a.a.createElement("p",{className:"dropdown-header"},this.portalLocale.menu.language.title,":"),this.languageItems.map(e=>a.a.createElement("a",{key:e.id,onClick:t=>this.changeLanguage(t,e.id),className:"dropdown-item"+(n===e.id?" active":""),href:"/"},e.title))))),this.layoutHandler.isSignedUser()?(i=a.a.createElement(Ht.Consumer,null,e=>a.a.createElement(A,{isResponsive:!1,layoutHandler:this.layoutHandler,context:e})),r=a.a.createElement("li",{className:"evnt-tools-menu collections nav-item",ref:e=>this.collectionsNav=e},a.a.createElement("a",{href:"/user-profile/collections",className:"evnt-collections-button",onClick:this.sendAmplitude})),o=a.a.createElement(W,{user:window.USER,locale:this.portalLocale.menu.create_entity})):i=a.a.createElement("li",{className:"evnt-header-button login"},a.a.createElement(D.a,{text:this.portalLocale.menu.login,size:"small",color:"transparent white",link:"/login?return_url="+encodeURIComponent(this.return_url)})),a.a.createElement("div",{className:"evnt-platform-header"},a.a.createElement("a",{href:"/",className:"evnt-brand-logo",ref:"navigationLogo",onClick:this.handleNavigationClick.bind(this,"logo",!0,null)},a.a.createElement("span",{className:"evnt-logo"},a.a.createElement("img",{src:T.a,height:"32",alt:""}))),a.a.createElement("div",{className:"evnt-navigation-wrapper navbar-expand"},l,c,a.a.createElement("ul",{className:"evnt-header-tools navbar-nav",ref:"navigationTools"},m,o,r,s,i)))}}var q=n(82);function G(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Y extends i.Component{constructor(e){super(e),G(this,"componentWillUnmount",()=>{window.removeEventListener("resize",this.setResponsive)}),G(this,"setResponsive",()=>{const e=this.layoutHandler.isResponsive();this.isResponsive!==e&&(this.isResponsive=e,this.forceUpdate())}),this.layoutHandler=this.props.layoutHandler,this.isResponsive=this.layoutHandler.isResponsive()}componentDidMount(){window.addEventListener("resize",this.setResponsive)}render(){const e=this.isResponsive?M:B,t=a.a.createElement(q.a,{layoutHandler:this.layoutHandler.isCommunityMenu()?this.layoutHandler:null});return a.a.createElement("header",null,a.a.createElement(Ht.Consumer,null,t=>a.a.createElement(e,{layoutHandler:this.layoutHandler,context:t})),t)}}function K(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class X extends i.Component{constructor(e){super(e),K(this,"handleNavigationClick",(e,t,n)=>{n.stopPropagation(),n.preventDefault(),["cookie_policy","privacy_notice","policy"].includes(e)||u.a.sendAnyPageData(e,null),r.a.goToItem(t)}),K(this,"handleAskClick",()=>{u.a.sendAnyPageData("ask",null)}),this.user=window.USER,this.layoutHandler=this.props.layoutHandler}render(){let e=null;const t=this.layoutHandler.footerItems().map(e=>a.a.createElement("li",{key:e.key},a.a.createElement("a",{href:e.url,onClick:this.handleNavigationClick.bind(this,e.key,e.url)},e.title))),n=a.a.createElement("div",{className:"evnt-footer-navigation-wrapper"},a.a.createElement("ul",{className:"evnt-footer-navigation"},t)),i=this.layoutHandler.onTheWeb();if(i.length>0){const t=i.map((e,t)=>{let n=e.url;"email-icon"!==e.icon||e.url.includes("mailto:")||(n="mailto:"+e.url);const i={href:n};return e.url.startsWith("mailto:")?i.onClick=this.handleAskClick:i.target="_blank",a.a.createElement("li",{key:t,className:e.icon},a.a.createElement("a",i))});e=a.a.createElement("div",{className:"evnt-footer-icon-navigation-wrapper"},a.a.createElement("ul",{className:"evnt-footer-navigation"},t))}let s=null;const r=this.layoutHandler.prepareCopyright();r&&(s=a.a.createElement("div",{className:"evnt-logo-copyright-cell copyright-cell"},a.a.createElement("p",{className:"evnt-copyright"},"© ",r)));let o=null,l=T.a;return l&&(o=a.a.createElement("div",{className:"evnt-logo-copyright-cell logo-cell"},a.a.createElement("div",{className:"evnt-logo"},a.a.createElement("img",{src:l,alt:""})))),a.a.createElement("footer",null,a.a.createElement("div",{className:"evnt-footer evnt-promo-footer"},a.a.createElement("div",{className:"evnt-footer-wrapper"},a.a.createElement("div",{className:"evnt-footer-logo-copyright"},a.a.createElement("div",{className:"evnt-logo-copyright-table"},o,s)),n,e)))}}var Q=n(16),J=n(11);function Z(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ee extends i.Component{constructor(){super(...arguments),Z(this,"close",e=>{e.preventDefault(),e.stopPropagation(),this.props.closeBanner()})}render(){const{portalAlert:e,withoutHeader:t,topPosition:n,keepScroll:i,additionalClass:s}=this.props;let r=null;return r=t?" top-position without-header":` evnt-platform-alert ${n?"top":"bottom"}-position`,a.a.createElement(J.a,{keepScroll:i},a.a.createElement("div",{className:`alert evnt-alert ${s||"epam-login-alert"}${r}`},a.a.createElement("div",{className:"evnt-alert-wrapper"},a.a.createElement("div",{className:"evnt-alert-content"},a.a.createElement("div",{className:"evnt-message-wrapper"},a.a.createElement("p",null,e))),a.a.createElement("button",{type:"button",className:"close",onClick:this.close}))))}}var te=n(85),ne=n.n(te);function ie(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ae extends i.Component{constructor(){super(...arguments),ie(this,"close",e=>{e.preventDefault(),e.stopPropagation(),new Q.a.setKeyWithExpiration("desktop_banner",12096e5),this.props.closeDesktopBanner()})}componentDidMount(){const{banner:e}=this.props;e.application&&(e.application.ios||e.application.android)&&u.a.sendData("show_mobi_desktop_banner")}render(){const{banner:e}=this.props;if(!e.application)return null;const t=e.application.ios?a.a.createElement("a",{href:e.application.ios,className:"evnt-download-button app-store-button"}):null,n=e.application.android?a.a.createElement("a",{href:e.application.android,className:"evnt-download-button google-play-button"}):null;if(!t&&!n)return null;const i=window.PORTAL_SETTINGS.mobile_app_name,s="mobi-Z"===i?"mobi-z":"";return a.a.createElement("div",{className:"evnt-app-banner mobile-app-banner evnt-platform-banner top-position "+s},a.a.createElement("div",{className:"evnt-banner-wrapper"},a.a.createElement("div",{className:"evnt-banner-content"},a.a.createElement("div",{className:"evnt-banner-table"},a.a.createElement("div",{className:"evnt-banner-cell icon-cell"},a.a.createElement("img",{src:ne.a,alt:""})),a.a.createElement("div",{className:"evnt-banner-cell info-cell"},a.a.createElement("p",{className:"evnt-app-name"},i),a.a.createElement("p",{className:"evnt-description"},window.PORTAL_LOCALE.mobile_apps.banner.desktop.body)),a.a.createElement("div",{className:"evnt-banner-cell actions-cell"},t,n))),a.a.createElement("div",{className:"evnt-close",onClick:this.close})))}}function se(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class re extends i.Component{constructor(e){super(e),se(this,"close",e=>{e.preventDefault(),e.stopPropagation(),this.setState({showBanner:!1},()=>{new Q.a.setKeyWithExpiration(this.storageKey,2592e5)})}),this.banner=null,this.storageKey="";let t=!1;window.BANNER&&window.BANNER.mobile_banner&&(this.banner=window.BANNER.mobile_banner,this.storageKey=`${this.banner.store}_banner_${this.banner.bannered_id?this.banner.bannered_id:""}`,t=this.banner&&!Q.a.checkKeyWithExpiration(this.storageKey)),this.state={showBanner:t},this.currentLocale=!window.EVENT&&window.PORTAL_LOCALE.mobile_apps.banner?window.PORTAL_LOCALE.mobile_apps.banner:I18n.client.event_pages_erb.mobile_apps.banner}render(){if(!this.state.showBanner)return null;const e=`evnt-${this.banner.bannered_id?"event":"platform"}-banner`;return a.a.createElement("div",{className:"evnt-app-banner smart-app-banner top-position "+e},a.a.createElement("div",{className:"evnt-banner-wrapper"},a.a.createElement("div",{className:"evnt-banner-content"},a.a.createElement("div",{className:"evnt-banner-table"},a.a.createElement("div",{className:"evnt-banner-cell icon-cell"},a.a.createElement("div",{className:"evnt-app-icon",style:{backgroundImage:`url(${this.banner.image})`}})),a.a.createElement("div",{className:"evnt-banner-cell info-cell"},a.a.createElement("p",{className:"evnt-app-name"},this.banner.name),a.a.createElement("p",{className:"evnt-company-name"},this.banner.developer),a.a.createElement("p",{className:"evnt-description"},this.currentLocale.text," ",this.banner.store_full)),a.a.createElement("div",{className:"evnt-banner-cell actions-cell"},a.a.createElement("a",{href:this.banner.link_by_store,target:"_blank",className:"evnt-action-link"},this.currentLocale.open)))),a.a.createElement("div",{className:"evnt-close",onClick:this.close})))}}var oe=n(49),le=n.n(oe),ce=n(6);function me(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ue{constructor(e,t){me(this,"connect",()=>{this.isConnected||(window.ActionCable=window.ActionCable||le.a.createConsumer("//"+window.location.host+"/websocket"),this.cable=window.ActionCable,this.channel=this.cable.subscriptions.create({channel:"UsersChannel",room:"user_"+this.user_id},{connected:()=>{this.isConnected=!0},received:e=>{e.action&&this.callbacks.hasOwnProperty(e.action)?this.callbacks[e.action](e.message):console.error("received unsupported message: "+e)},disconnected:()=>{this.isConnected=!1},rejected:()=>{this.isConnected=!1}}))}),me(this,"unbindChannels",()=>{this.cable.subscriptions.remove(this.channel)}),this.user_id=e,this.callbacks=t,this.isConnected=!1,this.cable=null,this.connect()}}function de(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}me(ue,"getNpsIterationKey",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e||(e=!!window.hasOwnProperty("NPS_ITERATION")&&window.NPS_ITERATION);const t=window.USER;return`nps_${t.id}_${e.id}`})),me(ue,"npsIterationIsAvailable",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e||window.hasOwnProperty("SKIP_NPS_SURVEY"))return!1;window.USER;const t=!!window.hasOwnProperty("NPS_ITERATION")&&window.NPS_ITERATION;if(t){const e=ue.getNpsIterationKey(t);return!Q.a.checkKeyWithExpiration(e)&&!(ce.a.isMobile()||ce.a.isResponsive())}return!1})),me(ue,"needAdditionalClass",()=>window.hasOwnProperty("EVENT"));class pe extends i.Component{constructor(e){super(e),de(this,"updateDesktopBannerVisibility",()=>{const e=!this.showNpsIteration&&!this.event&&!Q.a.checkKeyWithExpiration("desktop_banner")&&this.desktopBannerInfo&&document.body.clientWidth>1025;this.state.showDesktopBanner!==e&&this.setState({showDesktopBanner:e})}),de(this,"closeAlertBanner",()=>{this.setState({showAlertBanner:!1})}),de(this,"closeDesktopBanner",()=>{this.setState({showDesktopBanner:!1})}),this.user=window.USER,this.event=window.EVENT,this.error_code=window.ERROR_CODE,this.showNpsIteration=ue.npsIterationIsAvailable(e.viewOnly);const t=!(!window.hasOwnProperty("PORTAL_ALERT")||!window.PORTAL_ALERT);this.desktopBannerInfo=window.BANNER?window.BANNER.desktop_banner:null;const n=!this.showNpsIteration&&!this.event&&!Q.a.checkKeyWithExpiration("desktop_banner")&&this.desktopBannerInfo&&document.body.clientWidth>1025;t&&(window.SKIP_NPS_SURVEY=!0),this.state={showAlertBanner:t,showDesktopBanner:n}}componentDidMount(){window.addEventListener("resize",this.updateDesktopBannerVisibility)}componentWillUnmount(){window.removeEventListener("resize",this.updateDesktopBannerVisibility)}render(){if(this.props.viewOnly)return null;const{showAlertBanner:e,showDesktopBanner:t}=this.state;let n=null,s=null,r=a.a.createElement(re,{key:"MobileBanner"});return e&&(n=a.a.createElement(ee,{key:"AlertBanner",closeBanner:this.closeAlertBanner,portalAlert:PORTAL_ALERT,topPosition:!0})),t&&(s=a.a.createElement(ae,{key:"DesktopBanner",closeDesktopBanner:this.closeDesktopBanner,banner:this.desktopBannerInfo})),a.a.createElement(i.Fragment,null,n,null,s,r)}}var he=n(1),ve=n.n(he);const fe=document.getElementById("modal-app");class ge extends i.Component{constructor(e){super(e),this.el=document.createElement("div")}componentDidMount(){fe.appendChild(this.el)}componentWillUnmount(){fe.removeChild(this.el)}render(){return ve.a.createPortal(this.props.children,this.el)}}class be extends i.Component{constructor(e){super(e),this.locale=window.PORTAL_LOCALE.nps.popup.step1}render(){const{callbacks:e,value:t}=this.props;return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group rating-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",{className:"evnt-form-description"},this.locale.info),a.a.createElement("div",{className:"evnt-numerical-rating-wrapper"},a.a.createElement("div",{className:"evnt-numbers-wrapper"},[...Array(11)].map((n,i)=>i===t?a.a.createElement("span",{key:i,className:"active"},i):a.a.createElement("span",{key:i,onClick:t=>e.setValue(i)},i))),a.a.createElement("div",{className:"evnt-rating-text-wrapper"},a.a.createElement("p",null,this.locale.bad),a.a.createElement("p",null,this.locale.good))))))}}class ye extends i.Component{constructor(e){super(e),this.locale=window.PORTAL_LOCALE.nps.popup.step2,this.url=window.location.origin}render(){return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group social-icons-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",{className:"evnt-form-description"},this.locale.info),a.a.createElement("div",{className:"evnt-icons-wrapper"},a.a.createElement("div",{className:"evnt-social-icon facebook"},a.a.createElement("a",{target:"_blank",href:"https://www.facebook.com/sharer/sharer.php?u="+this.url})),a.a.createElement("div",{className:"evnt-social-icon vk"},a.a.createElement("a",{target:"_blank",href:"https://vk.com/share.php?url="+this.url})),a.a.createElement("div",{className:"evnt-social-icon twitter"},a.a.createElement("a",{target:"_blank",href:"https://twitter.com/intent/tweet?url="+this.url})),a.a.createElement("div",{className:"evnt-social-icon linked-in"},a.a.createElement("a",{target:"_blank",href:"https://www.linkedin.com/sharing/share-offsite/?url="+this.url})),a.a.createElement("div",{className:"evnt-social-icon telegram"},a.a.createElement("a",{target:"_blank",href:"https://t.me/share/url?url="+this.url}))))))}}class we extends i.Component{constructor(e){super(e),this.locale=window.PORTAL_LOCALE.nps.popup.step3}render(){const{callbacks:e,comment:t}=this.props;return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",{className:"evnt-form-description"},this.locale.info),a.a.createElement("textarea",{className:"evnt-text-fields",maxLength:5e3,rows:"3",cols:"10",value:t,onChange:e.setComment,placeholder:this.locale.start_type}))))}}class Ee extends i.Component{constructor(e){super(e),this.locale=window.PORTAL_LOCALE.nps.popup.step4,this.reasons=[{title:this.locale.communities,items:[{key:"no_communities_by_interests",value:this.locale.no_communities_by_interests},{key:"poor_information_about_communities",value:this.locale.poor_information_about_communities},{key:"communities_don_t_engage",value:this.locale.communities_don_t_engage},{key:"lack_of_content",value:this.locale.lack_of_content}]},{title:this.locale.events,items:[{key:"no_events_by_interests",value:this.locale.no_events_by_interests},{key:"difficult_to_find_event",value:this.locale.difficult_to_find_event},{key:"small_variety_events",value:this.locale.small_variety_events},{key:"poor_events_interface",value:this.locale.poor_events_interface}]},{title:this.locale.communication,items:[{key:"friends_not_use_platform",value:this.locale.friends_not_use_platform},{key:"no_global_search",value:this.locale.no_global_search},{key:"poor_personalization",value:this.locale.poor_personalization},{key:"lack_of_content_articles_events_videos",value:this.locale.lack_of_content_articles_events_videos}]}]}render(){const{callbacks:e,comment:t,reasons:n}=this.props,i=this.reasons.map((t,i)=>{const s=0===i?a.a.createElement("p",{className:"evnt-form-description"},this.locale.info):null;return a.a.createElement("div",{key:i,className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},s,a.a.createElement("label",{className:"evnt-form-label"},t.title,":"),a.a.createElement("div",{className:"evnt-input-group"},t.items.map((t,i)=>a.a.createElement("p",{key:i,className:"evnt-checkbox"},a.a.createElement("input",{type:"checkbox",className:"form-check-input",checked:n.includes(t.key),onChange:e.setReasons.bind(this,t.key),id:t.key}),a.a.createElement("label",{htmlFor:t.key,className:"form-check-label"},t.value))))))});return a.a.createElement("div",{className:"evnt-form-content"},i,a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.locale.my_comment),a.a.createElement("textarea",{className:"evnt-text-fields",maxLength:5e3,rows:"3",cols:"10",value:t,onChange:e.setComment,placeholder:this.locale.start_type}))))}}function _e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const Ne={step1:be,step2:ye,step3:we,step4:Ee};class ke extends i.Component{constructor(e){var t;super(e),t=this,_e(this,"resizeCallback",()=>{const e=ue.npsIterationIsAvailable(this.props.viewOnly);e!==this.state.showPopup&&this.setState({showPopup:e},()=>{e&&!this.userChannel&&this.initPopup()})}),_e(this,"initPopup",()=>{this.initUserChannel(),u.a.sendAnyPageData("survey_show",{param_user_id:this.user.id})}),_e(this,"initUserChannel",()=>{const e={nps_survey:this.nps_survey};this.user&&this.user.id&&(this.userChannel=new ue(this.user.id,e))}),_e(this,"closePopup",(function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(e){const e=ue.getNpsIterationKey();Q.a.setKeyWithExpiration(e,24*n*60*60*1e3)}t.setState({showPopup:!1}),u.a.sendAnyPageData(1===n?"survey_not_now":"survey_close",{param_user_id:t.user.id})})),_e(this,"nps_survey",()=>{this.posted||this.setState({showPopup:!1})}),_e(this,"setValue",e=>{this.setState({value:e})}),_e(this,"setComment",e=>{this.setState({comment:e.target.value})}),_e(this,"setReasons",e=>{let t=this.state.reasons;t.includes(e)?t=t.filter(t=>t!==e):t.push(e),this.setState({reasons:t})}),_e(this,"sendData",()=>{this.posted=!0;const{step:e,answer_id:t,value:n,comment:i,reasons:a}=this.state;let s={authenticity_token:$("meta[name=csrf-token]").attr("content")};1===e&&(s.value=n),i&&(s.comment=i),a.length>0&&(s.reasons=a),t&&(s.answer_id=t),E()({method:t?"PUT":"POST",url:"/api/v2/nps/"+(t?"update":"create"),headers:{"X-Requested-With":"XMLHttpRequest"},data:s,responseType:"json"}).then(t=>{if(1===e){let e=2;7===n||8===n?e=3:n<7&&(e=4),this.setState({step:e,answer_id:t.data.id}),u.a.sendAnyPageData("survey_send_score",{param_user_id:this.user.id})}else this.setState({showPopup:!1})}).catch(e=>{this.posted=!1,403===e.response.status?this.setState({showPopup:!1}):window.handleGlobalError(e.response,null,()=>{this.setState({showPopup:!1})})})}),this.locale=window.PORTAL_LOCALE.nps.popup,this.posted=!1,this.user=window.USER,this.state={showPopup:ue.npsIterationIsAvailable(e.viewOnly),answer_id:null,step:1,value:null,comment:"",reasons:[]},this.additionalClass=ue.needAdditionalClass()?" with-bottom-banners":""}componentDidMount(){this.state.showPopup&&this.initPopup(),window.addEventListener("resize",this.resizeCallback)}componentWillUnmount(){this.userChannel&&this.userChannel.unbindChannels(),window.removeEventListener("resize",this.resizeCallback)}render(){const{showPopup:e,step:t,value:n,comment:i,reasons:s}=this.state;if(!e)return null;const r={setValue:this.setValue,setComment:this.setComment,setReasons:this.setReasons,closePopup:this.closePopup},o=Ne["step"+t],l=a.a.createElement(o,{value:n,comment:i,reasons:s,callbacks:r}),c=this.locale["step"+t];let m=null;c.hasOwnProperty("not_now")&&(m=a.a.createElement(D.a,{text:c.not_now,size:"small",color:"transparent sky",additionalClasses:"cancel-button",onClick:this.closePopup}));let u=null;if(c.hasOwnProperty("send")){let e=!1;1===t?e=null===n:t>2&&(e=!i&&0===s.length),u=a.a.createElement(D.a,{text:c.send,size:"small",color:"sky",additionalClasses:"submit-button",disabled:e,onClick:this.sendData})}return a.a.createElement(ge,null,a.a.createElement("div",{className:"evnt-popup evnt-survey-popup"+this.additionalClass},a.a.createElement("div",{className:"evnt-popup-container"},a.a.createElement("div",{className:"evnt-popup-heading"},a.a.createElement("h3",null,c.title),a.a.createElement("div",{className:"evnt-popup-close",onClick:this.closePopup.bind(this,!0,30)})),a.a.createElement("div",{className:"evnt-popup-scroll"},a.a.createElement("div",{className:"evnt-popup-body"},l)),a.a.createElement("div",{className:"evnt-popup-footer"},m,u))))}}var Se=n(25);function Ce(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Pe extends i.Component{constructor(e){super(e),Ce(this,"componentDidMount",()=>{Object(Se.a)(),window.addEventListener("resize",Se.a),u.a.sendAnyPageData("login_popup_opening",this.amplitudeParams)}),Ce(this,"componentWillUnmount",()=>{window.removeEventListener("resize",Se.a)}),Ce(this,"handleLogin",(e,t)=>{t.preventDefault(),t.stopPropagation();let n=`/${e}?return_url=${encodeURIComponent(this.return_url)}`;const i=this.props.loginParams;i&&i.hasOwnProperty("actionBeforeLoginParams")&&h.a.prepareActionCallback(i.actionBeforeLoginParams),u.a.sendAnyPageData("from_login_popup_redirect_to_IAM",this.amplitudeParams),window.location=n});const{loginParams:t}=e,n=window.location.pathname+encodeURIComponent(window.location.search);this.return_url=t&&t.return_url?t.return_url:n,this.portalLocale=window.PORTAL_LOCALE.login.new.popup,this.login_popup=LOGIN_POPUP,this.amplitudeParams=null,window.EVENT&&(this.amplitudeParams={param_entity_type:window.ENTITY_TYPE,param_entity_id:window.EVENT.id})}render(){const{viewOnly:e}=this.props;return e?null:a.a.createElement(J.a,null,a.a.createElement("div",{className:"evnt-popup evnt-login-popup redirect-login"},a.a.createElement("div",{className:"evnt-popup-container"},a.a.createElement("div",{className:"evnt-popup-heading"},a.a.createElement("div",{className:"evnt-popup-close",onClick:this.props.closeCallback.bind(this,"login",!1,null)})),a.a.createElement("div",{className:"evnt-popup-scroll"},a.a.createElement("div",{className:"evnt-popup-body"},a.a.createElement("div",{className:"evnt-login-wrapper"},a.a.createElement("div",{className:"evnt-login-inner"},a.a.createElement("div",{className:"evnt-login-heading"},a.a.createElement("h2",null,this.portalLocale.title)),a.a.createElement("p",{className:"evnt-login-text"},this.portalLocale.text),a.a.createElement("div",{className:"evnt-login-redirect"},a.a.createElement("div",{className:"evnt-login-redirect-text"},a.a.createElement("p",null,this.portalLocale.text_2)),a.a.createElement("div",{className:"evnt-redirect-row"},a.a.createElement("div",{className:"evnt-icon events"}),a.a.createElement("div",{className:"evnt-description"},a.a.createElement("p",{className:"evnt-description-title"},this.portalLocale.events))),a.a.createElement("div",{className:"evnt-redirect-row"},a.a.createElement("div",{className:"evnt-icon communities"}),a.a.createElement("div",{className:"evnt-description"},a.a.createElement("p",{className:"evnt-description-title"},this.portalLocale.communities))),a.a.createElement("div",{className:"evnt-redirect-row"},a.a.createElement("div",{className:"evnt-icon notifications"}),a.a.createElement("div",{className:"evnt-description"},a.a.createElement("p",{className:"evnt-description-title"},this.portalLocale.notifications))),a.a.createElement("div",{className:"evnt-redirect-row"},a.a.createElement("div",{className:"evnt-icon features"}),a.a.createElement("div",{className:"evnt-description"},a.a.createElement("p",{className:"evnt-description-title"},this.portalLocale.and_more)))),a.a.createElement("p",{className:"evnt-login-text"},this.portalLocale.text_3),a.a.createElement("div",{className:"evnt-email-login"},a.a.createElement("div",{className:"evnt-form-group form-group buttons-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("div",{className:"evnt-group-table"},a.a.createElement("div",{className:"evnt-group-cell buttons-cell"},a.a.createElement(D.a,{text:this.portalLocale.sign_up,size:"small",color:"transparent sky",onClick:this.handleLogin.bind(this,"signup"),link:"#"}))))),a.a.createElement("div",{className:"evnt-form-group form-group buttons-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("div",{className:"evnt-group-table"},a.a.createElement("div",{className:"evnt-group-cell buttons-cell"},a.a.createElement(D.a,{text:this.portalLocale.login,size:"small",color:"sky-gradient",onClick:this.handleLogin.bind(this,"login"),link:"#"})))))))))))))}}var Le=n(18);class Te extends i.Component{constructor(e){super(e),this.steps=e.steps}render(){const{step:e,values:t,dependencies:n,actions:i}=this.props;let s=!1;const r=this.steps.map(e=>e.field).indexOf(e),o=this.steps.map((o,l)=>{const c=s;if(!c&&o.dependsOn&&(!n[o.field]||!n[o.field].isActive)){s=!0;const e=this.steps.filter(e=>e.dependsOn&&l>r);e.length>0&&(s=e.some(e=>!n[e.field]||!n[e.field].isActive))}const m=!s,u=t[o.field],d=valueFilled(u);let p="";return e===o.field?p=" active":s?(d||!o.isMandatory&&r>l)&&(p=" completed disabled"):p=d||!o.isMandatory&&r>l?" completed":" next",s=c,s||(s=!d&&o.isMandatory),a.a.createElement("li",{key:o.field,className:`evnt-wizard-navigation-item ${o.class}${p}`,onClick:()=>{m&&i.setStep(o.field)}},a.a.createElement("span",{className:"evnt-item-icon"}),a.a.createElement("span",{className:"evnt-item-text"},o.title))});return a.a.createElement("div",{className:"evnt-wizard-navigation-wrapper"},a.a.createElement("ul",{className:"evnt-wizard-navigation"},o))}}function Oe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ie extends i.Component{constructor(e){super(e),Oe(this,"componentDidMount",()=>{setTimeout(()=>{const e=ve.a.findDOMNode(this.control);e&&e.focus()},0)}),Oe(this,"change",e=>{const{actions:t}=this.props,n=e.target.value;this.setState({error:null},()=>t.setValue(this.field,n))}),Oe(this,"setError",e=>{this.setState({error:e})}),this.portalLocale=e.portalLocale,this.field=e.step,this.state={error:e.error?e.error:null},this.change=this.change.bind(this)}render(){return null}}var xe=n(86),Re=n.n(xe);function Ae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class De extends Ie{constructor(){super(...arguments),Ae(this,"change",e=>{const{actions:t}=this.props,n=e.target.value.replace(/\n/gm,"\r");this.setState({error:null},()=>t.setValue(this.field,n))}),Ae(this,"sendAmplitude",()=>{u.a.sendAnyPageData(this.props.amplitudeEventName,{param_description:this.props.value})})}render(){const{value:e}=this.props,{error:t}=this.state;let n=null;return t&&(n=t.map((e,t)=>a.a.createElement("p",{key:t,className:"evnt-error-text"},e))),a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group image-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("div",{className:"evnt-group-text",dangerouslySetInnerHTML:{__html:this.portalLocale.info}}),a.a.createElement("div",{className:"evnt-group-image"},a.a.createElement("img",{src:Re.a,alt:""})))),a.a.createElement("div",{className:"evnt-form-group form-group"+(t?" error":"")},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",{className:"evnt-form-description"},this.portalLocale.description),a.a.createElement("textarea",{className:"evnt-text-fields",rows:"3",cols:"10",maxLength:2e3,defaultValue:e,onChange:this.change,placeholder:this.portalLocale.placeholder,ref:e=>this.control=e}),n)))}}function je(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Me extends Ie{constructor(){super(...arguments),je(this,"componentDidMount",()=>{setTimeout(()=>{ve.a.findDOMNode(this.control).focus()},0),this.identityHint&&$(this.identityHint).tooltip({html:!0,placement:"right",template:'<div class="tooltip evnt-popup-tooltip evnt-identity-hint-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',title:this.portalLocale.identity.hint.format(this.props.info.identity_settings.name)})}),je(this,"sendAmplitude",()=>{u.a.sendAnyPageData(this.props.amplitudeEventName,{param_title:this.props.value})}),je(this,"changeIdentity",e=>{this.props.actions.setValue("is_internal",e)})}render(){const{value:e,info:{identity_settings:t}}=this.props,{error:n}=this.state;let i=null;n&&(i=n.map((e,t)=>a.a.createElement("p",{key:t,className:"evnt-error-text"},e)));let s=null;if(t.show){const e=this.props.actions.getValue("is_internal");s=a.a.createElement("div",{className:"evnt-form-group form-group identity-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.portalLocale.identity.title),a.a.createElement("p",{className:"evnt-checkbox"},a.a.createElement("input",{id:"occh1",type:"checkbox",className:"form-check-input",checked:e,defaultChecked:t.default_value,disabled:!t.editable,onChange:this.changeIdentity.bind(this,!e)}),a.a.createElement("label",{htmlFor:"occh1",className:"form-check-label"},this.portalLocale.identity.placeholder.format(t.name))),a.a.createElement("span",{className:"evnt-hint-icon",ref:e=>this.identityHint=e})))}return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("h2",null,this.portalLocale.title))),a.a.createElement("div",{className:"evnt-form-group form-group"+(n?" error":"")},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",{className:"evnt-form-description"},this.portalLocale.description),a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control small",maxLength:100,defaultValue:e,onChange:this.change,placeholder:this.portalLocale.placeholder,ref:e=>this.control=e}),i)),s)}}function $e(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ze extends Ie{constructor(e){super(e),$e(this,"componentDidMount",()=>{this.setState({selectedIds:this.props.value||[]})}),$e(this,"sendAmplitude",()=>{const e=this.props.value?this.categories.filter(e=>this.props.value.includes(e.id)).map(e=>e.title).join(","):"";u.a.sendAnyPageData(this.props.amplitudeEventName,{param_categories:e})}),$e(this,"toggleCategory",e=>{const{setValue:t,setDependencyState:n,getValue:i}=this.props.actions,a=this.state.selectedIds;this.setState({selectedIds:a.includes(e)?a.filter(t=>t!==e):a.concat(e)},()=>{const e=this.state.selectedIds;t(this.field,e);const a=this.categories.filter(t=>e.includes(t.id)),s={isActive:a.some(e=>e.subcategories.length>0),values:a};n(this.dependentField,s);const r=i(this.dependentField);if(r){const e=s.values.flatMap(e=>e.subcategories.map(e=>e.id),2),n=r.filter(t=>e.includes(t));t(this.dependentField,n)}})}),this.state={selectedIds:[]},this.categories=e.info.categories,this.dependentField="subcategories"}render(){const{selectedIds:e}=this.state,t=this.categories.map(t=>{const{id:n,title:i}=t;return a.a.createElement("div",{className:"evnt-tag-column",key:"category-"+n},a.a.createElement("div",{className:"evnt-tag-card "+(e.includes(n)?"checked":""),onClick:this.toggleCategory.bind(this,n)},a.a.createElement("div",{className:"evnt-card-wrapper"},a.a.createElement("div",{className:"evnt-card-body"},a.a.createElement("p",{className:"evnt-category-name"},i)))))});return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("h2",null,this.portalLocale.title))),a.a.createElement("div",{className:"evnt-form-group form-group categories-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("div",{className:"evnt-categories-wrapper"},a.a.createElement("div",{className:"evnt-tag-row"},t)))))}}function He(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ue extends Ie{constructor(e){super(e),He(this,"componentDidMount",()=>{const e=this.props.value||[],t=this.categories.flatMap(e=>e.subcategories.map(e=>e.id),2);this.setState({selectedIds:e.filter(e=>t.includes(e))})}),He(this,"sendAmplitude",()=>{const e=this.props.value?this.categories.flatMap(e=>e.subcategories).filter(e=>this.props.value.includes(e.id)).map(e=>e.title):"";u.a.sendAnyPageData(this.props.amplitudeEventName,{param_subcategories:e})}),He(this,"toggleCategory",e=>{const t=this.state.selectedIds;this.setState({selectedIds:t.includes(e)?t.filter(t=>t!==e):t.concat(e)},()=>{this.props.actions.setValue(this.field,this.state.selectedIds)})}),this.state={selectedIds:[]},this.categories=e.dependencies.values||[]}render(){const{selectedIds:e}=this.state,t=this.categories.filter(e=>e.subcategories.length>0).map(t=>{const{id:n,title:i,subcategories:s}=t,r=s.map(t=>{const{id:n,title:i}=t;return a.a.createElement("div",{className:"evnt-tag-column",key:"sub-"+n},a.a.createElement("div",{className:"evnt-tag-card "+(e.includes(n)?"checked":""),onClick:this.toggleCategory.bind(this,n)},a.a.createElement("div",{className:"evnt-card-wrapper"},a.a.createElement("div",{className:"evnt-card-body"},a.a.createElement("p",{className:"evnt-category-name"},i)))))});return a.a.createElement(a.a.Fragment,{key:"category-"+n},a.a.createElement("div",{className:"evnt-tag-name"},a.a.createElement("span",null,i)),a.a.createElement("div",{className:"evnt-tag-row"},r))});return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("h2",null,this.portalLocale.title))),a.a.createElement("div",{className:"evnt-form-group form-group categories-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("div",{className:"evnt-categories-wrapper"},t))))}}var We=n(87),Ve=n.n(We);function Fe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Be extends Ie{constructor(e){super(e),Fe(this,"dragArea",a.a.createRef()),Fe(this,"componentDidMount",()=>{this.dragCounter=0;let e=this.dragArea.current;e.addEventListener("dragenter",this.handleDragIn),e.addEventListener("dragleave",this.handleDragOut),e.addEventListener("dragover",this.handleDrag),e.addEventListener("drop",this.handleDrop)}),Fe(this,"handleDragIn",e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter++,e.dataTransfer.items&&e.dataTransfer.items.length>0&&this.setState({dragging:!0})}),Fe(this,"handleDragOut",e=>{e.preventDefault(),e.stopPropagation(),this.dragCounter--,this.dragCounter>0||this.setState({dragging:!1})}),Fe(this,"handleDrag",e=>{e.preventDefault(),e.stopPropagation()}),Fe(this,"handleDrop",e=>{if(e.preventDefault(),e.stopPropagation(),this.setState({drag:!1}),e.dataTransfer.files&&e.dataTransfer.files.length>0){let t=!1;const n=e.dataTransfer.files;0===n.length&&(t=!0),n.length>1&&(this.setError([this.portalLocale.error_many_files]),t=!0);const i=n[0];this.validateFile(i)||(t=!0),t?this.setState({dragging:!1}):this.setState({error:null,dragging:!1},()=>{this.url="",this.props.actions.setValue(this.field,i)}),e.dataTransfer.clearData(),this.dragCounter=0}}),Fe(this,"change",e=>{if(e.target.files.length>0){const t=e.target.files[0];if(!this.validateFile(t))return;this.setState({error:null,dragging:!1},()=>{this.url="",this.props.actions.setValue(this.field,t)})}}),Fe(this,"validateFile",e=>/\.(jpg|jpeg|png)$/i.test(e.name)?!(e.size/1048576>3)||(this.setError([this.portalLocale.error_size]),!1):(this.setError([this.portalLocale.error_format]),!1)),Fe(this,"delete",e=>{e.preventDefault(),e.stopPropagation(),this.url="",ve.a.findDOMNode(this.control).value="",this.setState({error:null},()=>this.props.actions.setValue(this.field,null))}),Fe(this,"readFile",()=>{const e=this;let t=new FileReader;t.onload=function(t){e.url=t.target.result,e.forceUpdate()},t.readAsDataURL(this.props.value)}),Fe(this,"sendAmplitude",e=>{u.a.sendAnyPageData(this.props.amplitudeEventName,{param_logo_attached:this.props.value?"yes":"no"}),e&&u.a.sendAnyPageData("community_onboarding_created",{param_community_id:e.id})}),this.state={dragging:!1}}componentWillUnmount(){let e=this.dragArea.current;e.removeEventListener("dragenter",this.handleDragIn),e.removeEventListener("dragleave",this.handleDragOut),e.removeEventListener("dragover",this.handleDrag),e.removeEventListener("drop",this.handleDrop)}render(){const{value:e}=this.props,{dragging:t,error:n}=this.state;let i=this.portalLocale.empty_text,s=Ve.a,r=null;e&&(this.url?s=this.url:this.readFile(),i=this.portalLocale.selected_text,r=a.a.createElement("div",{className:"evnt-filename-wrapper"},a.a.createElement("span",{className:"evnt-file"},this.portalLocale.file),a.a.createElement("span",{className:"evnt-filename fileinput-filename"},e.name),a.a.createElement("a",{href:"#",className:"evnt-filename-close close",onClick:this.delete})));let o=null;return n&&(o=n.map((e,t)=>a.a.createElement("p",{key:t,className:"evnt-uploader-error"},e))),a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("h2",null,this.portalLocale.title))),a.a.createElement("div",{className:"evnt-form-group form-group logo-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",{className:"evnt-form-description"},this.portalLocale.description),a.a.createElement("div",{className:"evnt-group-table logo-table dragndrop-uploader"+(t?" active":""),ref:this.dragArea},a.a.createElement("div",{className:"evnt-logo-wrapper"},a.a.createElement("div",{className:"evnt-logo"},a.a.createElement("img",{src:s,alt:"logo"}))),a.a.createElement("div",{className:"evnt-file-uploader-wrapper"},a.a.createElement("div",{className:"evnt-file-uploader fileinput fileinput-new"},r,a.a.createElement("span",{className:"btn btn-file evnt-button small grass"},a.a.createElement("span",null,i),a.a.createElement("input",{type:"file",name:"...",onChange:this.change,ref:e=>this.control=e}))),a.a.createElement("p",{className:"evnt-uploader-note"},this.portalLocale.note),o)))))}}function qe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ge extends i.Component{constructor(e){super(e),qe(this,"openCommunity",()=>{u.a.sendAnyPageData("community_onboarding_final",{param_final_step:"open community"}),window.location.href="/communities/"+this.props.community.url}),qe(this,"editCommunity",()=>{u.a.sendAnyPageData("community_onboarding_final",{param_final_step:"edit community"}),window.location.href=`/admin/communities/${this.props.community.id}/redirect`}),this.portalLocale=e.portalLocale,this.steps=e.steps}render(){const{completed:e,step:t,value:n,actions:s,dependencies:r}=this.props;if(e)return a.a.createElement(i.Fragment,null,a.a.createElement(D.a,{text:this.portalLocale.open_community,size:"small",additionalClasses:"submit-button",onClick:this.openCommunity}),a.a.createElement(D.a,{text:this.portalLocale.edit_community,size:"small",color:"grass",additionalClasses:"submit-button",onClick:this.editCommunity}));const o=this.steps.map(e=>e.field).indexOf(t),l=this.steps[o],c=0===o&&this.steps.length>1,m=o===this.steps.length-1&&this.steps.length>1,u=l.isMandatory&&!valueFilled(n);let d=null,p=null,h=null;if(!c){let e=o-1;for(;this.steps[e].dependsOn&&(!r[this.steps[e].field]||!r[this.steps[e].field].isActive);)e--;d=a.a.createElement(D.a,{text:this.portalLocale.back,size:"small",additionalClasses:"cancel-button",onClick:()=>{s.setStep(this.steps[e].field)},key:"back"})}if(m)h=a.a.createElement(D.a,{text:this.portalLocale.save,size:"small",color:"sky",disabled:u,additionalClasses:"submit-button",onClick:s.save,key:"save"});else{let e=o+1;for(;this.steps[e].dependsOn&&(!r[this.steps[e].field]||!r[this.steps[e].field].isActive);)e++;p=a.a.createElement(D.a,{text:this.portalLocale.next,size:"small",color:"sky",disabled:u,additionalClasses:"submit-button",onClick:()=>{s.setStep(this.steps[e].field)},key:"next"})}return[d,p,h]}}class Ye extends i.Component{render(){const{portalLocale:e,community:t}=this.props;return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("h2",null,e.title))),a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",{className:"evnt-form-description"},e.body),a.a.createElement("p",{className:"evnt-form-description"},e.description),a.a.createElement("div",{className:"evnt-community-info-table"},a.a.createElement("div",{className:"evnt-community-cell"},a.a.createElement("div",{className:"evnt-logo"},a.a.createElement("img",{src:t.logo,alt:""})),a.a.createElement("div",{className:"evnt-caption"},a.a.createElement("span",null,t.title)))))))}}function Ke(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Xe extends i.Component{constructor(e){super(e),Ke(this,"componentDidMount",()=>{this.loadData()}),Ke(this,"loadData",()=>{E.a.get("/api/v2/communities/new-community-info").then(e=>{const t=e.data,n=t&&t.identity_settings&&t.identity_settings.enabled&&t.identity_settings.default_value;this.navigationSteps=[{field:"title",class:"title-item",title:this.portalLocale.wizard_navigation.title,isMandatory:!0},{field:"description",class:"about-item",title:this.portalLocale.wizard_navigation.description,isMandatory:!0},{field:"categories",class:"categories-item",title:this.portalLocale.wizard_navigation.categories,isMandatory:!1},{field:"subcategories",class:"subcategories-item",title:this.portalLocale.wizard_navigation.subcategories,isMandatory:!1,dependsOn:"categories"},{field:"logo",class:"logo-item",title:this.portalLocale.wizard_navigation.logo,isMandatory:!1}],this.setState({pagePresenter:t,values:{is_internal:n}})}).catch(e=>{403===e.response.status?this.alertHandler.show(window.PORTAL_LOCALE.errors.blocked_head,window.PORTAL_LOCALE.errors.blocked_text):handleGlobalError(e.response),this.closeCallback(s.a,!1)})}),Ke(this,"getValue",e=>this.state.values[e]),Ke(this,"setValue",(e,t)=>{let{values:n,errors:i}=this.state;n[e]=t,delete i[e],this.setState({values:n})}),Ke(this,"setDependencyState",(e,t)=>{let{dependencies:n}=this.state;n[e]=t,this.setState({dependencies:n})}),Ke(this,"setStep",e=>{let{inProgress:t,step:n}=this.state;t||n===e||(this.currentStep.sendAmplitude(),this.setState({step:e}))}),Ke(this,"componentWillUnmount",()=>{$("body").removeClass("evnt-no-scroll evnt-blur"),document.documentElement.scrollTop=this.scrollPosition}),Ke(this,"hidePopup",()=>{const{inProgress:e}=this.state,t=this.portalLocale.errors;e?this.alertHandler.show(t.progress_head,t.progress_text):(u.a.sendAnyPageData("community_onboarding_close",{param_onboarding_step:this.state.completed?"congratulation":this.state.step}),this.closeCallback(s.a,!1))}),Ke(this,"handleAskHelp",()=>{u.a.sendAnyPageData("community_onboarding_help",{param_onboarding_step:this.state.completed?"congratulation":this.state.step})}),Ke(this,"save",()=>{this.state.inProgress||this.setState({inProgress:!0},()=>{const{values:e}=this.state,t=new FormData;Object.keys(e).forEach(n=>{const i=e[n];Array.isArray(i)?i.forEach(e=>{t.append(n+"[]",e)}):t.append(n,i)}),t.append("default_logo",window.DEFAULT_LOGO),t.append("is_unlisted",!1),t.append("authenticity_token",$("meta[name=csrf-token]").attr("content")),E.a.post("/api/v2/communities/create",t,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{const t=e.data;this.currentStep.sendAmplitude(t),this.setState({inProgress:!1,completed:!0,community:t})}).catch(e=>{this.setState({inProgress:!1},()=>{const t=e.response;if(422===t.status&&t.data){const e=this.navigationSteps.map(e=>e.field),n={};Object.keys(t.data).forEach(i=>{e.indexOf(i)<0||(n[i]=t.data[i])}),Object.keys(n).length>0&&this.setState({errors:n,step:Object.keys(n)[0]})}else 403===t.status?this.alertHandler.show(window.PORTAL_LOCALE.errors.blocked_head,window.PORTAL_LOCALE.errors.blocked_text):handleGlobalError(t,"CAN'T CREATE NEW COMMUNITY")})})})}),window.DEFAULT_LOGO=Math.floor(5*Math.random())+1,this.alertHandler=new Le.a,this.closeCallback=this.props.closeCallback,this.portalLocale=window.PORTAL_LOCALE.pages.communities.popup,this.state={pagePresenter:null,completed:!1,community:null,inProgress:!1,step:"title",values:{},dependencies:{},errors:{}},this.wizardSteps=[{type:"title",component:Me,amplitudeEventName:"community_onboarding_step_1"},{type:"description",component:De,amplitudeEventName:"community_onboarding_step_2"},{type:"categories",component:ze,amplitudeEventName:"community_onboarding_step_3"},{type:"subcategories",component:Ue,amplitudeEventName:"community_onboarding_step_4"},{type:"logo",component:Be,amplitudeEventName:"community_onboarding_step_5"}]}render(){const{community:e,pagePresenter:t,completed:n,inProgress:i,step:s,values:r,errors:o,dependencies:l}=this.state;if(null===t)return null;const c={getValue:this.getValue,setValue:this.setValue,setDependencyState:this.setDependencyState,setStep:this.setStep,hidePopup:this.hidePopup,save:this.save};let m=null,u=null,d=null;if(n)u=a.a.createElement(Ye,{portalLocale:this.portalLocale.steps.congratulation,community:e});else{i&&(m=a.a.createElement("div",{className:"evnt-popup-loader"},a.a.createElement("div",{className:"evnt-loader"}))),d=a.a.createElement(Te,{step:s,steps:this.navigationSteps,values:r,dependencies:l,actions:c});const e=this.wizardSteps.find(e=>e.type===s),n=e.component;u=a.a.createElement(n,{step:s,value:r[s],dependencies:l[s],error:o[s],actions:c,portalLocale:this.portalLocale.steps[s],info:t,amplitudeEventName:e.amplitudeEventName,ref:e=>this.currentStep=e})}let p=null;return t.community_ask&&(p=a.a.createElement("p",{className:"evnt-contact"},this.portalLocale.ask.capitalize(),a.a.createElement("a",{onClick:this.handleAskHelp,href:"mailto:"+t.community_ask},this.portalLocale.help.capitalize()))),a.a.createElement(J.a,null,a.a.createElement("div",{className:"evnt-popup evnt-onboarding-community-popup"},a.a.createElement("div",{className:"evnt-popup-container"},a.a.createElement("div",{className:"evnt-popup-heading"},a.a.createElement("h3",null,this.portalLocale.title),a.a.createElement("div",{className:"evnt-popup-close",onClick:this.hidePopup})),a.a.createElement("div",{className:"evnt-popup-scroll"},a.a.createElement("div",{className:"evnt-popup-body"},m,d,u)),a.a.createElement("div",{className:"evnt-popup-footer"},p,a.a.createElement(Ge,{completed:n,value:r[s],dependencies:l,step:s,steps:this.navigationSteps,actions:c,community:e,portalLocale:this.portalLocale.buttons})))))}}class Qe extends i.Component{constructor(e){super(e),this.steps=e.steps,this.popupLocalization=window.PORTAL_LOCALE.popups.new_event}render(){const{step:e,values:t,errors:n,dependencies:i,actions:s}=this.props;let r=!1;const o=this.steps.map(e=>e.type).indexOf(e),l=this.steps.map((l,c)=>{const m=r;if(!m&&l.dependsOn&&(!i[l.type]||!i[l.type].isActive)){r=!0;const e=this.steps.filter(e=>e.dependsOn&&c>o);e.length>0&&(r=e.some(e=>!i[e.type]||!i[e.type].isActive))}const u=!r,d=l.mandatoryFields.length>0,p=d&&void 0===l.mandatoryFields.map(e=>void 0!==t[e]&&valueFilled(t[e])).find(e=>!0!==e)||!d&&l.fieldsToCheckIfFilled.length>0&&l.fieldsToCheckIfFilled.every(e=>valueFilled(t[e])),h=void 0===Object.keys(n).find(e=>l.errorKeys.includes(e));let v="";return e===l.type?v=" active":r?(p||!d&&o>c)&&(v=" completed disabled"):v=p||!d&&o>c?" completed":" next",r=m,r||(r=!p&&d||!h),a.a.createElement("li",{key:l.type,className:`evnt-wizard-navigation-item ${l.wizardItemClass}${v}`,onClick:()=>{u&&s.setStep(l.type)}},a.a.createElement("span",{className:"evnt-item-icon"}),a.a.createElement("span",{className:"evnt-item-text"},this.popupLocalization.wizard[l.type].breadcrumb))});return a.a.createElement("div",{className:"evnt-wizard-navigation-wrapper"},a.a.createElement("ul",{className:"evnt-wizard-navigation"},l))}}function Je(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Ze extends i.Component{constructor(e){super(e),Je(this,"handleFocus",()=>{const e=this;try{const t=new google.maps.places.Autocomplete(e.input);google.maps.event.addDomListener(t,"place_changed",(function(){let n={};const i=t.getPlace();let a="",s="";i.address_components.forEach(t=>{"locality"===t.types[0]&&(n.city=t.long_name),"country"===t.types[0]&&(n.country=t.long_name),"route"===t.types[0]&&(a=t.long_name),"street_number"===t.types[0]&&(s=t.long_name),n.street=s?a+" "+s:a,n.url=i.url,n.location=e.input.value,n.latitude=i.geometry.location.lat(),n.longitude=i.geometry.location.lng()}),n.latitude&&n.longitude?(n.hasOwnProperty("city")||(n.city=null),e.props.setValue({location:n})):n={}}))}catch(e){console.log("Google API is not accessible.")}})}render(){const{value:e,localization:t}=this.props;return a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},t.fields.location),a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control small",placeholder:t.placeholders.location,onFocus:this.handleFocus,onChange:this.handleChange,defaultValue:e?e.location:"",ref:e=>this.input=e})))}}n(149),n(112);function et(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class tt extends i.Component{constructor(e){super(e),et(this,"initDatePickers",()=>{const e=this,{startDate:t,endDate:n}=this.props;this.$fromDate=$(this.fromDate).datepicker({showOtherMonths:!0,selectOtherMonths:!0,dateFormat:this.dateFormat}).on("change",(function(){let t=$.datepicker.parseDate(e.dateFormat,this.value);e.$toDate.datepicker("option","minDate",t),e.updateStartDate(t)})),this.$toDate=$(this.toDate).datepicker({showOtherMonths:!0,selectOtherMonths:!0,dateFormat:this.dateFormat}).on("change",(function(){let t=$.datepicker.parseDate(e.dateFormat,this.value);e.$fromDate.datepicker("option","maxDate",t),e.updateEndDate(t)})),t&&n&&(e.$fromDate.datepicker("setDate",t),e.$toDate.datepicker("setDate",n),e.$toDate.datepicker("option","minDate",t),e.$fromDate.datepicker("option","maxDate",n)),"en"!==this.regional&&$.datepicker.setDefaults($.datepicker.regional[this.regional])}),et(this,"initTimePickers",()=>{const e=this,{startTime:t,endTime:n}=e.props;$(e.fromTime).timepicker({showMeridian:!1,minuteStep:5,defaultTime:!1}),$(e.fromTime).timepicker().on("changeTime.timepicker",(function(t){const{startDate:n,endDate:i,endTime:a,errors:s}=e.props,r=t.time.hours?t.time.hours:"0",o=t.time.minutes?t.time.minutes:"00",l=`${r}:${o}`;if(""!==t.time.hours&&""!==t.time.minutes||$(e.fromTime).timepicker("setTime",l),n&&a&&i){const e=new Date(n);e.setHours(r),e.setMinutes(o);const t=new Date(i);t.setHours(a.split(":")[0]),t.setMinutes(a.split(":")[1]),e>=t?s.dateTime="error":delete s.dateTime}e.props.setValue({startTime:l},s)})),$(e.fromTime).timepicker().on("show.timepicker",(function(t){e.props.startTime||$(e.fromTime).timepicker("setTime","00:00")})),$(e.toTime).timepicker({showMeridian:!1,minuteStep:5,defaultTime:!1}),$(e.toTime).timepicker().on("changeTime.timepicker",(function(t){const{startDate:n,endDate:i,startTime:a,errors:s}=e.props,r=t.time.hours?t.time.hours:"0",o=t.time.minutes?t.time.minutes:"00",l=`${r}:${o}`;if(""!==t.time.hours&&""!==t.time.minutes||$(e.toTime).timepicker("setTime",l),n&&a&&i){const e=new Date(n);e.setHours(a.split(":")[0]),e.setMinutes(a.split(":")[1]);const t=new Date(i);t.setHours(r),t.setMinutes(o),e>=t?s.dateTime="error":delete s.dateTime}e.props.setValue({endTime:l},s)})),$(e.toTime).timepicker().on("show.timepicker",(function(t){e.props.endTime||$(e.toTime).timepicker("setTime","00:00")})),t&&n&&($(e.fromTime).timepicker("setTime",t),$(e.toTime).timepicker("setTime",n))}),et(this,"updateStartDate",e=>{let t={startDate:e};const{endDate:n,startTime:i,endTime:a,errors:s}=this.props;if(this.$toDate.datepicker("option","minDate",e),n||(this.$toDate.datepicker("setDate",e),t.endDate=e,t.participantRegistration=this.participantRegistration(e),this.$fromDate.datepicker("option","maxDate",e)),i&&a){const r=new Date(e);r.setHours(i.split(":")[0]),r.setMinutes(i.split(":")[1]);const o=new Date(n||t.endDate);o.setHours(a.split(":")[0]),o.setMinutes(a.split(":")[1]),r>=o?s.dateTime="error":delete s.dateTime}this.props.setValue(t,s)}),et(this,"updateEndDate",e=>{let t={endDate:e};const{startDate:n,startTime:i,endTime:a,errors:s}=this.props;if(this.$fromDate.datepicker("option","maxDate",e),this.props.startDate||(this.$fromDate.datepicker("setDate",e),t.startDate=e,this.$toDate.datepicker("option","minDate",e)),i&&a){const r=new Date(n||t.startDate);r.setHours(i.split(":")[0]),r.setMinutes(i.split(":")[1]);const o=new Date(e);o.setHours(a.split(":")[0]),o.setMinutes(a.split(":")[1]),r>=o?s.dateTime="error":delete s.dateTime}t.participantRegistration=this.participantRegistration(e),this.props.setValue(t,s)}),et(this,"participantRegistration",e=>{const{endDate:t,participantRegistration:n,selectedParticipantRegistration:i}=this.props,a=new Date;a.setHours(0,0,0,0);const s=t?new Date(t)>=a:n,r=new Date(e)>=a;let o=!1;return o=s?!!r&&(void 0===i||i):void 0!==i?i:r,o}),this.dateFormat="mm/dd/yy",this.regional=window.PORTAL_SETTINGS.current_locale}componentDidMount(){this.initDatePickers(),this.initTimePickers()}componentWillUnmount(){this.$fromDate&&this.$fromDate.datepicker("destroy"),this.$toDate&&this.$toDate.datepicker("destroy")}render(){const{startDate:e,endDate:t,startTime:n,endTime:i,localization:s,errors:r}=this.props;let o=null,l=null;r.hasOwnProperty("dateTime")&&e&&t&&n&&i&&(o=a.a.createElement("p",{className:"evnt-error-text"},s.error.dates),l="error");return[a.a.createElement("div",{key:"start",className:"evnt-form-group form-group date-group "+l},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},s.fields.start_date,"*"),a.a.createElement("div",{className:"evnt-datepicker small with-icon"},a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control",readOnly:!0,ref:e=>this.fromDate=e,placeholder:s.placeholders.date_from})),a.a.createElement("div",{className:"evnt-timepicker small with-icon"},a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control",readOnly:!0,ref:e=>this.fromTime=e})))),a.a.createElement("div",{key:"end",className:"evnt-form-group form-group date-group "+l},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},s.fields.end_date,"*"),a.a.createElement("div",{className:"evnt-datepicker small with-icon"},a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control",readOnly:!0,ref:e=>this.toDate=e,placeholder:s.placeholders.date_till})),a.a.createElement("div",{className:"evnt-timepicker small with-icon"},a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control",readOnly:!0,ref:e=>this.toTime=e})),o))]}}var nt=n(42),it=n(5);function at(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class st extends i.Component{constructor(e){super(e),at(this,"setError",()=>this.setState({error:!0})),at(this,"removeError",()=>this.setState({error:!1})),at(this,"change",e=>{Object(it.a)(this.state.value,e)||this.setState({value:e},()=>this.props.setValue({languages:e}))}),at(this,"collapse",()=>{this.refs.picker.expanded()&&this.refs.picker.toggleExpanded()}),at(this,"val",()=>this.refs.picker.val()),this.state={value:e.value||[],error:!1}}render(){const{value:e,values:t,localization:n}=this.props,{error:i}=this.state,s={title:n.title,please_select:n.please_select,nothing_found:n.nothing_found,start_typing:n.start_typing};return a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},s.title,"*"),a.a.createElement(nt.a,{ref:"picker",value:e,values:t,changeCallback:this.change,locale:s,uncheckAll:!0,error:i})))}}function rt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ot extends i.Component{constructor(e){super(e),rt(this,"sendAmplitude",()=>{const{title:e,formatId:t,participantRegistration:n}=this.props.values,i=this.props.info.formats.find(e=>e.id==t);u.a.sendAnyPageData(this.props.amplitudeEventName,{param_event_name:e,param_event_format:i.name,param_participant_registration:n})}),rt(this,"updateProperty",(e,t)=>{let n={};n[e]=t.target.value,this.props.actions.setValue(n)}),rt(this,"changeRegistration",e=>{this.props.actions.setValue({participantRegistration:e,selectedParticipantRegistration:e})}),rt(this,"changeIdentity",e=>{this.props.actions.setValue({is_internal:e})}),this.localization=this.props.localization,this.dateFormat="mm/dd/yy"}componentDidMount(){$(this.formatsSelect).selectpicker({container:"body"}),$(this.registrationHint).tooltip({html:!0,placement:"right",template:'<div class="tooltip evnt-popup-tooltip evnt-reg-hint-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',title:this.localization.hint.participant_registration}),this.identityHint&&$(this.identityHint).tooltip({html:!0,placement:"right",template:'<div class="tooltip evnt-popup-tooltip evnt-identity-hint-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',title:this.localization.hint.identity.format(this.props.info.identity_settings.name)}),setTimeout(()=>{const e=ve.a.findDOMNode(this.title);e&&e.focus()},0)}componentDidUpdate(e,t,n){this.linkStreamHint&&$(this.linkStreamHint).tooltip({html:!0,placement:"right",template:'<div class="tooltip evnt-popup-tooltip evnt-identity-hint-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',title:this.localization.hint.link_stream})}componentWillUnmount(){$(ve.a.findDOMNode(this)).find(this.formatsSelect).selectpicker("destroy")}render(){const{errors:e,values:t,info:n}=this.props,{title:i,languages:s,startDate:r,endDate:o,startTime:l,endTime:c,participantRegistration:m,selectedParticipantRegistration:u,formatId:d,linkStream:p,location:h,is_internal:v}=t;let f=null;if(["1","2"].includes(d)){let t=null;e.hasOwnProperty("link_stream")&&(t=a.a.createElement("p",{className:"evnt-error-text"},this.localization.error.link_stream)),f=a.a.createElement("div",{className:"evnt-form-group form-group"+(t?" error":"")},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.localization.fields.link_stream,a.a.createElement("span",{className:"evnt-hint-icon",ref:e=>this.linkStreamHint=e})),a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control small",ref:e=>this.link_stream=e,placeholder:this.localization.placeholders.link_stream,defaultValue:p,onChange:this.updateProperty.bind(this,"linkStream")}),t))}let g=null;["2","3"].includes(d)&&(g=a.a.createElement(Ze,{value:h,setValue:this.props.actions.setValue,localization:this.localization}));const b=new Date;b.setHours(0,0,0,0);const y=o&&new Date(o)<b,w=a.a.createElement("div",{className:"evnt-form-group form-group reg-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.localization.fields.participant_registration),a.a.createElement("div",{className:"evnt-filter-switch evnt-switch"},a.a.createElement("input",{id:"sw1",type:"checkbox",checked:m,disabled:y,onChange:this.changeRegistration.bind(this,!m)}),a.a.createElement("label",{htmlFor:"sw1"})),a.a.createElement("span",{className:"evnt-hint-icon",ref:e=>this.registrationHint=e})));let E=null;return n.identity_settings.show&&(E=a.a.createElement("div",{className:"evnt-form-group form-group identity-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.localization.fields.identity),a.a.createElement("p",{className:"evnt-checkbox"},a.a.createElement("input",{id:"oech1",type:"checkbox",className:"form-check-input",checked:v,defaultChecked:n.identity_settings.default_value,disabled:!n.identity_settings.editable,onChange:this.changeIdentity.bind(this,!v)}),a.a.createElement("label",{htmlFor:"oech1",className:"form-check-label"},this.localization.placeholders.identity.format(n.identity_settings.name))),a.a.createElement("span",{className:"evnt-hint-icon",ref:e=>this.identityHint=e})))),a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("div",{className:"evnt-group-text"},a.a.createElement("h2",null,this.localization.title)))),a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.localization.fields.title,"*"),a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control small",ref:e=>this.title=e,placeholder:this.localization.placeholders.title,defaultValue:i,onChange:this.updateProperty.bind(this,"title"),maxLength:100}))),a.a.createElement(st,{value:s,values:n.languages,setValue:this.props.actions.setValue,localization:this.localization.fields.languages}),a.a.createElement(tt,{startDate:r,endDate:o,startTime:l,endTime:c,participantRegistration:m,selectedParticipantRegistration:u,setValue:this.props.actions.setValue,localization:this.localization,errors:e}),a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.localization.fields.format,"*"),a.a.createElement("select",{className:"selectpicker evnt-select evnt-form-group-select small",ref:e=>this.formatsSelect=e,onChange:this.updateProperty.bind(this,"formatId"),defaultValue:d,title:this.localization.placeholders.participation_format},this.props.info.formats.map(e=>a.a.createElement("option",{key:e.id,value:e.id},e.name))))),f,g,w,E)}}function lt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class ct extends i.Component{constructor(e){super(e),lt(this,"sendAmplitude",()=>{u.a.sendAnyPageData(this.props.amplitudeEventName,null)}),lt(this,"updateProperty",e=>{this.props.actions.setValue({description:e.target.value})}),this.localization=this.props.localization}componentDidMount(){setTimeout(()=>{const e=ve.a.findDOMNode(this.focus);e&&e.focus()},0)}render(){const{description:e}=this.props.values;return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("div",{className:"evnt-group-text"},a.a.createElement("h2",null,this.localization.title),a.a.createElement("div",{dangerouslySetInnerHTML:{__html:this.localization.text}})))),a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("textarea",{className:"evnt-text-fields",rows:"3",cols:"10",defaultValue:e,ref:e=>this.focus=e,onChange:this.updateProperty}))))}}var mt=n(44),ut=n.n(mt),dt=n(46);function pt(){return(pt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function ht(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class vt extends i.Component{constructor(e){super(e),ht(this,"componentDidMount",()=>{document.addEventListener("click",e=>{$(e.target).parents(".evnt-tree-autocomplete").length<1&&this.state.isExpanded&&this.toggleExpanded()}),$(this.myCommunitiesHint).tooltip({html:!0,placement:"right",template:'<div class="tooltip evnt-popup-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',title:this.localization.hint.my_communities}),$(this.otherCommunitiesHint).tooltip({html:!0,placement:"right",template:'<div class="tooltip evnt-popup-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',title:this.localization.hint.other_communities})}),ht(this,"componentWillUnmount",()=>{$(this.myCommunitiesHint).tooltip("dispose"),$(this.otherCommunitiesHint).tooltip("dispose")}),ht(this,"sendAmplitude",()=>{u.a.sendAnyPageData(this.props.amplitudeEventName,{param_community_settings:this.props.values.communityIds})}),ht(this,"renderMyCommunities",()=>{const{info:{communities:e},values:{communityIds:t}}=this.props,{isExpanded:n,openUp:i}=this.state,s=e.map(e=>{const n="cid_"+e.id,i=void 0!==t.find(t=>t===e.id);return a.a.createElement("div",{key:e.id,className:"evnt-menu-item"},a.a.createElement("div",{className:"evnt-menu-item-collapse"},a.a.createElement("div",{className:"evnt-checkbox"},a.a.createElement("input",{type:"checkbox",id:n,checked:i,onChange:this.selectCommunity.bind(this,e)}),a.a.createElement("label",{htmlFor:n},e.title))))}),r=`${n?"evnt-open":""} ${i?"open-up":"open-down"} ${0===s.length?"disabled":""}`,o=e.filter(e=>t.includes(e.id)).length,l=o>0?a.a.createElement("span",{className:"evnt-button-counter"},o):null,c=0===s.length?'<p className="description-text">You should be a Community owner or assistant to assosiate event with Community</p>':null;return a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.localization.my_communities,a.a.createElement("span",{className:"evnt-hint-icon",ref:e=>this.myCommunitiesHint=e})),a.a.createElement("div",{className:"evnt-tree-autocomplete evnt-without-children "+r},a.a.createElement("div",{className:"evnt-tree-autocomplete-wrapper"},a.a.createElement("div",{className:"evnt-tree-autocomplete-button",ref:e=>this.button=e,onClick:this.toggleExpanded},a.a.createElement("div",{className:"evnt-button-inner"},a.a.createElement("span",{className:"evnt-button-text"},e.length>0?this.localization.please_select:this.localization.no_please_select),l)),a.a.createElement("div",{className:"evnt-tree-autocomplete-menu",ref:e=>this.select=e},a.a.createElement("div",{className:"evnt-menu-scroll"},a.a.createElement("div",{className:"evnt-menu-items-wrapper"},s))))),c))}),ht(this,"toggleExpanded",()=>{const{communities:e}=this.props.info;if(0===e.length)return;const{isExpanded:t}=this.state;this.setState({isExpanded:!t},this.setOpenup)}),ht(this,"setOpenup",()=>{const e=$(ve.a.findDOMNode(this.select)).height()||CommunitiesSelect.MAX_MENU_HEIGHT,t=$(ve.a.findDOMNode(this.button));if(!t.length)return;const n=t.offset(),i=$(window).height()+this.getBodyScrollTop()-(n.top-t.height())<e;this.setState({openUp:i})}),ht(this,"getBodyScrollTop",()=>window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop),ht(this,"selectCommunity",(e,t)=>{let{communityIds:n}=this.props.values;t.target.checked?n.push(e.id):n=n.filter(t=>t!==e.id),this.props.actions.setValue({communityIds:n})}),ht(this,"renderOtherCommunities",()=>{const{values:{communityIds:e}}=this.props,{isLoading:t,textValue:n,items:i}=this.state;let s=null;return 0===e.length&&(s=a.a.createElement("p",{className:"evnt-additional-text"},this.localization.info)),a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.localization.other_communities,a.a.createElement("span",{className:"evnt-hint-icon",ref:e=>this.otherCommunitiesHint=e})),a.a.createElement("div",{className:"evnt-autocomplete"},a.a.createElement(ut.a,{value:n,items:i,onChange:this.onChange,onSelect:this.onSelect,getItemValue:this.getItemValue,renderInput:this.renderInput,renderItem:this.renderItem,renderMenu:this.renderMenu,inputProps:{onBlur:this.clearValue}}),t&&a.a.createElement("div",{className:"evnt-autocomplete-loader"},a.a.createElement("div",{className:"evnt-loader"}))),s))}),ht(this,"onChange",(e,t)=>{this.setState({textValue:t},()=>{this.loadItems(t)})}),ht(this,"onSelect",(e,t)=>{let{dependencies:n,values:{communityIds:i}}=this.props;i.filter(e=>e===t.id).length>0||(i.push(t.id),0===n.filter(e=>e.id===t.id).length&&n.push(t),this.props.actions.setValue({communityIds:i})),this.setState({textValue:""})}),ht(this,"getItemValue",e=>e.title),ht(this,"renderInput",e=>a.a.createElement("input",pt({type:"text",className:"evnt-text-fields form-control small"},e,{placeholder:this.localization.other_communities_placeholder}))),ht(this,"renderItem",(e,t)=>{const{textValue:n}=this.state;return a.a.createElement("li",{key:e.id,className:t?"active":null},a.a.createElement("a",{href:"#",className:"dropdown-item",onClick:e=>{e.preventDefault()}},a.a.createElement(dt.a,{className:"title",value:e.title,highlight:n})))}),ht(this,"renderMenu",e=>{const t={top:"36px",left:"0px",display:e&&e.length>0?"block":"none"};return a.a.createElement("ul",{style:t,className:"typeahead dropdown-menu"},e)}),ht(this,"clearValue",()=>{this.setState({textValue:"",items:[]})}),ht(this,"clearSelection",e=>{const{value:t}=this.state,n=t.filter(t=>t.id!==e.id);this.setState({textValue:"",value:n})}),ht(this,"renderSelectedCommunities",()=>{const{dependencies:e,values:{communityIds:t}}=this.props,n=[];if(t.forEach(t=>{const i=e.find(e=>e.id==t);i&&n.push(i)}),0===n.length)return null;const i=n.map(e=>a.a.createElement("li",{key:e.id,className:"evnt-list-item"},a.a.createElement("div",{className:"evnt-item-image"},a.a.createElement("div",{className:"evnt-image-wrapper"},a.a.createElement("img",{src:e.logo,alt:""}))),a.a.createElement("div",{className:"evnt-item-info"},a.a.createElement("p",{className:"evnt-item-title"},e.title)),a.a.createElement("div",{className:"evnt-delete-item",onClick:()=>this.deleteCommunity(e.id)})));return a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.localization.selected_communities),a.a.createElement("ul",{className:"evnt-cards-list"},i),a.a.createElement("p",{className:"evnt-additional-text"},this.localization.info)))}),ht(this,"deleteCommunity",e=>{let{communityIds:t}=this.props.values;t=t.filter(t=>t!==e),this.props.actions.setValue({communityIds:t})}),this.CancelToken=E.a.CancelToken,this.source=this.CancelToken.source(),this.localization=this.props.localization,this.state={isExpanded:!1,openUp:!1,isLoading:!1,textValue:"",items:[],value:[]}}loadItems(e){const{values:{communityIds:t}}=this.props;this.setState({isLoading:!0},()=>{this.source&&(this.source.cancel("Operation canceled due to new request."),this.source=this.CancelToken.source()),e?E.a.get("/api/v2/communities/search/other",{headers:{"X-Requested-With":"XMLHttpRequest"},params:{query:e,ignored_ids:t},cancelToken:this.source.token}).then(e=>{let t=e.data.slice(0,5);this.setState({isLoading:!1,items:t})}).catch(e=>{this.setState({isLoading:!1}),this.globalErrorHandler.handleResponse(e.response)}):this.setState({isLoading:!1,items:[]})})}render(){return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("h2",null,this.localization.title))),this.renderMyCommunities(),this.renderOtherCommunities(),this.renderSelectedCommunities())}}function ft(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class gt extends i.Component{constructor(e){super(e),ft(this,"sendAmplitude",e=>{u.a.sendAnyPageData(this.props.amplitudeEventName,{param_social_connected:void 0===this.props.values.socials?"":this.props.values.socials.map(e=>e.title).join(",")}),e&&u.a.sendAnyPageData("event_onboarding_created",{param_event_id:e.id})}),ft(this,"showNewSection",()=>{this.setState({showNewSection:!0,selectedNewSocial:Object.assign({id:Math.random().toString(36).slice(2),isValid:!0,link:""},this.props.info.socials[0])},()=>{setTimeout(()=>{const e=ve.a.findDOMNode(this.newSocialLink);e&&e.focus()},0)})}),ft(this,"hideNewSection",()=>{this.setState({showNewSection:!1,selectedNewSocial:{}})}),ft(this,"selectNewSocial",e=>{const t={id:Math.random().toString(36).slice(2),icon:e.icon,title:e.title,placeholder:e.placeholder,isValid:!0};this.setState({selectedNewSocial:t},()=>{setTimeout(()=>{const e=ve.a.findDOMNode(this.newSocialLink);e&&e.focus()},0)})}),ft(this,"addSocial",()=>{const{values:e,actions:t}=this.props,n=this.newSocialLink.value,i=Object.assign({},this.state.selectedNewSocial),a="Email"===i.title?this.emailRegexp:this.urlRegExp;""!==n&&a.test(n)?(i.isValid=!0,i.link=n,this.setState({showNewSection:!1,selectedNewSocial:{}},()=>{let n=e.socials?e.socials:[];n.unshift(i),t.setValue({socials:n})})):(i.isValid=!1,this.setState({selectedNewSocial:i}))}),ft(this,"removeItem",e=>{const{values:t,actions:n}=this.props;n.setValue({socials:t.socials.filter(t=>t.id!==e)})}),ft(this,"updateLink",(e,t)=>{const n=t.target.value,{values:i,actions:a}=this.props,{invalidIds:s}=this.state,r=i.socials.find(t=>t.id===e),o=s.findIndex(t=>t===e),l="Email"===r.title?this.emailRegexp:this.urlRegExp;""!==n&&l.test(n)?(r.link=n,s.splice(o,1),this.setState({invalidIds:s},()=>{a.setValue({socials:i.socials})})):-1===o&&(s.push(e),this.setState({invalidIds:s}))}),this.localization=this.props.localization,this.urlRegExp=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]+-?)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/i,this.emailRegexp=/^[A-Z0-9a-zА-Яа-я]+[A-Z0-9._%a-zА-Яа-я\-+!$%’*\/=?^`{|}]*@((?:[A-Z0-9a-zА-Яа-я\-]+\.)+[A-Za-zА-Яа-я]{2,10})$/i,this.state={showNewSection:!1,selectedNewSocial:{},invalidIds:[]}}render(){const{info:e,values:t}=this.props,{showNewSection:n,selectedNewSocial:i,invalidIds:s}=this.state;let r=null;if(n){const e=i.isValid?null:a.a.createElement("p",{className:"evnt-error-text"},"Email"===i.title?this.localization.add_section.email_invalid:this.localization.add_section.link_invalid);r=a.a.createElement("div",{className:"evnt-form-group form-group social-group choose-new "+(i.isValid?null:"error")},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},this.localization.add_section.title),a.a.createElement("div",{className:"evnt-icons-wrapper"},this.props.info.socials.map(e=>{const t=e.icon===i.icon?" active":"";return a.a.createElement("div",{key:"key-"+e.icon,className:`evnt-social-icon facebook ${e.icon} ${t}`,onClick:this.selectNewSocial.bind(this,e)},a.a.createElement("span",null))})),a.a.createElement("div",{className:"evnt-social-field-wrapper"},a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control small",ref:e=>this.newSocialLink=e,placeholder:i.placeholder,defaultValue:""}),a.a.createElement("div",{className:"evnt-social-icon "+i.icon}),e),a.a.createElement("div",{className:"evnt-buttons-wrapper"},a.a.createElement(D.a,{text:this.localization.add_section.cancel,size:"small",additionalClasses:"cancel-button",onClick:this.hideNewSection}),a.a.createElement(D.a,{text:this.localization.add_section.add,size:"small",color:"sky",additionalClasses:"submit-button",onClick:this.addSocial}))))}else r=a.a.createElement("div",{className:"evnt-form-group form-group social-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("span",{className:"evnt-add-new",onClick:this.showNewSection},this.localization.add_section.show_socials)));let o=null;return t.socials&&(o=t.socials.map(e=>{const t=s.includes(e.id)?a.a.createElement("p",{className:"evnt-error-text"},"Email"===e.title?this.localization.add_section.email_invalid:this.localization.add_section.link_invalid):null;return a.a.createElement("div",{key:e.id,className:"evnt-form-group form-group social-group "+(t?"error":"")},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},e.title),a.a.createElement("div",{className:"evnt-group-table social-table"},a.a.createElement("div",{className:"evnt-social-field-wrapper"},a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control small",defaultValue:e.link,placeholder:e.placeholder,onChange:this.updateLink.bind(this,e.id)}),t,a.a.createElement("div",{className:"evnt-social-icon "+e.icon})),a.a.createElement("div",{className:"evnt-delete-button",onClick:this.removeItem.bind(this,e.id)}))))})),a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("h2",null,this.localization.title))),a.a.createElement("div",{className:"evnt-form-group form-group social-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("label",{className:"evnt-form-label"},"Email"),a.a.createElement("div",{className:"evnt-social-field-wrapper"},a.a.createElement("input",{type:"text",className:"evnt-text-fields form-control small disabled",disabled:!0,title:"",defaultValue:e.email}),a.a.createElement("div",{className:"evnt-social-icon email"})))),r,o)}}function bt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class yt extends i.Component{constructor(e){super(e),bt(this,"openSite",()=>{u.a.sendAnyPageData("event_onboarding_final",{param_final_step:"open event",param_event_id:this.props.event.id}),window.location="/events/"+this.props.event.url}),bt(this,"editEvent",()=>{u.a.sendAnyPageData("event_onboarding_final",{param_final_step:"edit event",param_event_id:this.props.event.id}),window.location=`/admin/events/${this.props.event.id}/redirect`}),bt(this,"handleAskHelp",()=>{u.a.sendAnyPageData("event_onboarding_help",{param_onboarding_step:this.props.completed?"congratulation":this.props.step})}),this.steps=e.steps,this.popupLocalization=window.PORTAL_LOCALE.popups.new_event}render(){const{step:e,steps:t,values:n,errors:i,completed:s,actions:r,info:o,dependencies:l}=this.props,{ask:c,help:m}=this.popupLocalization.footer,u=a.a.createElement("p",{className:"evnt-contact"},c,c?" ":"",a.a.createElement("a",{onClick:this.handleAskHelp,href:o.ask_help},m));let d=[];if(s){d=[a.a.createElement(D.a,{text:this.popupLocalization.footer.open,size:"small",additionalClasses:"submit-button",onClick:this.openSite,key:"open"}),a.a.createElement(D.a,{text:this.popupLocalization.footer.edit,size:"small",color:"grass",additionalClasses:"submit-button",onClick:this.editEvent,key:"edit"})]}else{const s=t.findIndex(t=>t.type===e),o=void 0===Object.keys(i).find(e=>t[s].errorKeys.includes(e));let c=null;if(s>0){let e=s-1;for(;this.steps[e].dependsOn&&(!l[this.steps[e].type]||!l[this.steps[e].type].isActive);)e--;c=a.a.createElement(D.a,{text:this.popupLocalization.footer.back,size:"small",additionalClasses:"cancel-button",onClick:r.setStep.bind(this,t[e].type),key:"back"})}let m=null;if(s<t.length-1){let e=s+1;for(;this.steps[e].dependsOn&&(!l[this.steps[e].type]||!l[this.steps[e].type].isActive);)e++;const i=void 0===t[s].mandatoryFields.map(e=>void 0!==n[e]&&valueFilled(n[e])).find(e=>!0!==e),c=i&&o?"":"disabled";m=a.a.createElement(D.a,{text:this.popupLocalization.footer.next,size:"small",color:"sky",additionalClasses:"submit-button "+c,onClick:r.setStep.bind(this,t[e].type),disabled:!(i&&o),key:"next"})}let u=null;if(s===t.length-1){const e=void 0===t[s].mandatoryFields.map(e=>void 0!==n[e]&&valueFilled(n[e])).find(e=>!0!==e),i=e&&o?"":"disabled";u=a.a.createElement(D.a,{text:this.popupLocalization.footer.create,size:"small",color:"sky",additionalClasses:"submit-button "+i,onClick:r.save,disabled:!(e&&o),key:"create"})}d=[c,m,u]}return a.a.createElement("div",{className:"evnt-popup-footer"},u,d)}}class wt extends i.Component{render(){const{localization:e}=this.props;return a.a.createElement("div",{className:"evnt-form-content",id:"onboarding-event-fifth-page"},a.a.createElement("div",{className:"evnt-form-group form-group title-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("h2",null,e.head))),a.a.createElement("div",{className:"evnt-form-group form-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",{className:"evnt-form-description"},e.body),a.a.createElement("p",{className:"evnt-form-description"},e.final))))}}function Et(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class _t extends i.Component{constructor(e){var t;super(e),t=this,Et(this,"componentDidMount",()=>{this.loadData()}),Et(this,"loadData",()=>{const e=this;E.a.get("/api/v2/events/new-event-info").then(t=>{const n=t.data;n.hasOwnProperty("communities")||(e.wizardSteps=e.wizardSteps.filter(e=>"community"!==e.type));const i=n&&n.identity_settings&&n.identity_settings.enabled&&n.identity_settings.default_value;e.setState({info:n,values:Object.assign(this.state.values,{is_internal:i}),dependencies:Object.assign(this.state.dependencies,{community:Object.assign([],n.communities)})})}).catch(e=>{403===e.response.status?this.alertHandler.show(window.PORTAL_LOCALE.errors.blocked_head,window.PORTAL_LOCALE.errors.blocked_text):handleGlobalError(e.response),this.closeCallback(s.b,!1)})}),Et(this,"getValue",e=>this.state.values[e]),Et(this,"setValue",(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const{values:i,errors:a}=t.state;e.hasOwnProperty("format_id")?e.location=null:"categories"!==e&&"subcategories"!==e||(e={[e]:n});const s={values:Object.assign(i,e)};n&&"categories"!==e&&"subcategories"!==e&&(s.errors=n),t.setState(s)})),Et(this,"setDependencyState",(e,t)=>{let{dependencies:n}=this.state;n[e]=t,this.setState({dependencies:n})}),Et(this,"setStep",e=>{let{inProgress:t,step:n}=this.state;t||n===e||(this.currentStep.sendAmplitude(),this.setState({step:e}))}),Et(this,"componentWillUnmount",()=>{$("body").removeClass("evnt-no-scroll evnt-blur"),document.documentElement.scrollTop=this.scrollPosition}),Et(this,"hidePopup",()=>{const{inProgress:e}=this.state;e?this.alertHandler.show(this.popupLocalization.errors.progress_head,this.popupLocalization.errors.progress_text):(u.a.sendAnyPageData("event_onboarding_close",{param_onboarding_step:this.state.completed?"congratulation":this.state.step}),this.closeCallback(s.b,!1))}),Et(this,"save",()=>{const e=this;if(e.state.inProgress)return;e.setState({inProgress:!0});const{values:t,info:n}=this.state,i=new Date(t.startDate),a=new Date(t.endDate);let s=null;const r=Intl.DateTimeFormat().resolvedOptions().timeZone;if(r){let e=n.time_zones.find(e=>e.full_name===r);if(e)s=e.value;else{const t=Math.round(60*(new Date).getTimezoneOffset()*-1);e=n.time_zones.find(e=>e.offset===t),e&&(s=e.value)}}const o={authenticity_token:$("meta[name=csrf-token]").attr("content"),community_ids:t.communityIds,description:t.description,start_date:new Date(i.getTime()-6e4*i.getTimezoneOffset()),end_date:new Date(a.getTime()-6e4*a.getTimezoneOffset()),start_time:t.startTime,end_time:t.endTime,time_zone:s||"UTC",format_id:t.formatId,link_stream:t.linkStream,participant_registration:t.participantRegistration,title:t.title,is_unlisted:!1,categories:t.categories,languages:t.languages,subcategories:t.subcategories,is_internal:t.is_internal};if(0===t.communityIds.length&&delete o.community_ids,t.location){const e=t.location;delete e.url,o.location=e}t.socials&&(o.on_the_web=t.socials.map(e=>({icon:e.icon,link:e.link,title:e.title}))),E.a.post("/api/v2/events/create",o,{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(t=>{const n=t.data;this.currentStep.sendAmplitude(n),e.setState({inProgress:!1,completed:!0,event:n})}).catch(t=>{e.setState({inProgress:!1});const n=t.response;n&&422===n.status&&n.data?n.data.link_stream&&e.setState({errors:{link_stream:"invalid"},step:"general"}):403===t.response.status?this.alertHandler.show(window.PORTAL_LOCALE.errors.blocked_head,window.PORTAL_LOCALE.errors.blocked_text):handleGlobalError(n,"CAN'T CREATE NEW COMMUNITY")})}),this.alertHandler=new Le.a,this.closeCallback=this.props.closeCallback,this.popupLocalization=window.PORTAL_LOCALE.popups.new_event,this.wizardSteps=[{type:"general",component:ot,wizardItemClass:"title-item",mandatoryFields:["title","languages","startDate","endDate","startTime","endTime","formatId"],errorKeys:["dateTime"],fieldsToCheckIfFilled:[],amplitudeEventName:"event_onboarding_step_1"},{type:"description",component:ct,wizardItemClass:"about-item",mandatoryFields:["description"],errorKeys:[],fieldsToCheckIfFilled:[],amplitudeEventName:"event_onboarding_step_2"},{type:"categories",component:ze,wizardItemClass:"categories-item",mandatoryFields:[],errorKeys:[],fieldsToCheckIfFilled:["categories"],amplitudeEventName:"event_onboarding_step_3"},{type:"subcategories",component:Ue,wizardItemClass:"subcategories-item",mandatoryFields:[],errorKeys:[],dependsOn:"categories",fieldsToCheckIfFilled:["subcategories"],amplitudeEventName:"event_onboarding_step_4"},{type:"community",component:vt,wizardItemClass:"communities-item",mandatoryFields:[],errorKeys:[],fieldsToCheckIfFilled:["communityIds"],amplitudeEventName:"event_onboarding_step_5"},{type:"social",component:gt,wizardItemClass:"social-item",mandatoryFields:[],errorKeys:[],fieldsToCheckIfFilled:["socials"],amplitudeEventName:"event_onboarding_step_6"}],this.state={info:null,completed:!1,inProgress:!1,step:"general",values:{communityIds:[],participantRegistration:!0},errors:{},dependencies:{}}}render(){const{info:e,completed:t,inProgress:n,step:i,values:s,errors:r,event:o,dependencies:l}=this.state;if(null===e)return null;const c={getValue:this.getValue,setValue:this.setValue,setDependencyState:this.setDependencyState,setStep:this.setStep,hidePopup:this.hidePopup,save:this.save};let m=null,u=null,d=null;if(t)u=a.a.createElement(wt,{localization:this.popupLocalization.congrats});else{n&&(m=a.a.createElement("div",{className:"evnt-popup-loader"},a.a.createElement("div",{className:"evnt-loader"}))),d=a.a.createElement(Qe,{step:i,steps:this.wizardSteps,values:s,errors:r,dependencies:l,actions:c});const t=this.wizardSteps.find(e=>e.type===i),o=t.component;u=a.a.createElement(o,{step:i,info:e,values:s,value:s[i],dependencies:l[i],errors:r,actions:c,localization:this.popupLocalization.wizard[i],portalLocale:this.popupLocalization.wizard[i],amplitudeEventName:t.amplitudeEventName,ref:e=>this.currentStep=e})}return a.a.createElement(J.a,null,a.a.createElement("div",{className:"evnt-popup evnt-onboarding-event-popup"},a.a.createElement("div",{className:"evnt-popup-container"},a.a.createElement("div",{className:"evnt-popup-heading"},a.a.createElement("h3",null,this.popupLocalization.title),a.a.createElement("div",{className:"evnt-popup-close",onClick:this.hidePopup})),a.a.createElement("div",{className:"evnt-popup-scroll"},a.a.createElement("div",{className:"evnt-popup-body"},m,d,u)),a.a.createElement(yt,{completed:t,step:i,steps:this.wizardSteps,dependencies:l,values:s,errors:r,actions:c,event:o,info:e}))))}}class Nt extends i.Component{constructor(e){super(e),this.policies=e.policies,this.popupLocalization=e.popupLocalization}render(){const{selectedPolicy:e}=this.props,t=this.policies.map(t=>{let n="";return n=e===t.key?"active":"completed disabled",a.a.createElement("li",{key:t.key,className:"evnt-wizard-navigation-item "+n},a.a.createElement("span",{className:"evnt-item-text"},this.popupLocalization[t.key].title))});return a.a.createElement("div",{className:"evnt-wizard-navigation-wrapper"},a.a.createElement("ul",{className:"evnt-wizard-navigation"},t))}}function kt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class St extends i.Component{constructor(e){super(e),kt(this,"componentWillUnmount",()=>{window.removeEventListener("resize",this.setResponsive),this.disabledSign&&$(this.disabledSign).tooltip("dispose")}),kt(this,"componentDidUpdate",e=>{this.disabledSign&&(this.props.isViewed?$(this.disabledSign).tooltip("dispose"):this.enableTooltip())}),kt(this,"setResponsive",()=>{const e=ce.a.isResponsive()||ce.a.isMobile();this.isResponsive!==e&&(this.isResponsive=e,this.enableTooltip())}),kt(this,"enableTooltip",()=>{this.isResponsive?$(this.disabledSign).tooltip("dispose"):$(this.disabledSign).tooltip({html:!0,placement:"top",template:'<div class="tooltip evnt-popup-tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',title:this.localization.sign_tooltip})}),this.actions=e.actions,this.localization=e.localization,this.isResponsive=ce.a.isResponsive()||ce.a.isMobile()}componentDidMount(){window.addEventListener("resize",this.setResponsive),this.enableTooltip()}render(){const{policy:e,completed:t,inProgress:n,returnUrl:i}=this.props;let s=null,r=null;return t?(s=a.a.createElement("p",{className:"evnt-footer-text"},this.localization.signed),r=a.a.createElement(D.a,{text:this.localization.finish,size:"small",color:"sky",additionalClasses:"sign submit-button",link:i,key:"finish"})):e.isAgreed?(s=a.a.createElement("p",{className:"evnt-footer-text"},this.localization.signed),r=a.a.createElement(D.a,{text:this.localization.next,size:"small",color:"sky",additionalClasses:"sign submit-button",onClick:this.actions.nextPolicy,key:"next"})):r=e.isViewed?a.a.createElement(D.a,{text:this.localization.sign,size:"small",color:"sky",additionalClasses:""+(n?"":"sign submit-button"),inProgress:n,onClick:this.actions.signPolicy.bind(this,e.id),key:"sign"}):a.a.createElement("div",{key:"disabled",ref:e=>this.disabledSign=e,className:"evnt-button-wrapper","data-original-title":"",title:""},a.a.createElement("button",{className:"evnt-button small sky sign submit-button disabled",disabled:""},this.localization.sign)),a.a.createElement("div",{className:"evnt-popup-footer"},s,a.a.createElement(D.a,{text:this.localization.cancel,size:"small",additionalClasses:"cancel-button",onClick:this.actions.hidePopup}),r)}}function Ct(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Pt extends i.Component{constructor(e){super(e),Ct(this,"componentDidMount",()=>{const e=this;E.a.get("/api/v2/policy.json?policy_id=3").then(t=>{const n=t.data.properties;let i=Object(it.g)("policy_gr");n.hasOwnProperty(i)||(i="en"),e.setState({policyContent:n,policyGr:i,inLoading:!1})}).catch(e=>{handleGlobalError(e.response)})}),Ct(this,"onScroll",()=>{if(this.props.policy.isViewed)return;if(this.scrollBlock.scrollTop>=this.scrollBlock.scrollHeight-this.scrollBlock.clientHeight-10){const e=this.props.policy;this.props.actions.setPolicyProperty(e.key,"isViewed",!0)}}),this.localization=e.localization,this.state={policyContent:null,inLoading:!0,policyGr:"en"}}render(){const{policyContent:e,inLoading:t,policyGr:n}=this.state;return t?a.a.createElement("div",{className:"evnt-policy-loader"},a.a.createElement("div",{className:"evnt-loader"})):a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-heading-form"},a.a.createElement("div",{className:"evnt-form-group form-group text-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",null,this.localization.description)))),a.a.createElement("div",{ref:e=>this.scrollBlock=e,className:"evnt-body-form",onScroll:this.onScroll},a.a.createElement("div",{className:"evnt-form-group form-group content-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("div",{className:"evnt-policy-content"}),a.a.createElement("div",{className:"evnt-policy-content",dangerouslySetInnerHTML:{__html:e[n].content}})))))}}function Lt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class Tt extends i.Component{constructor(e){super(e),Lt(this,"onScroll",()=>{if(this.props.policy.isViewed)return;if(this.scrollBlock.scrollTop>=this.scrollBlock.scrollHeight-this.scrollBlock.clientHeight-10){const e=this.props.policy;this.props.actions.setPolicyProperty(e.key,"isViewed",!0)}}),this.localization=e.localization}render(){const{user:e,policy:t}=this.props,n=new Date,i=`«${n.getDate()}» ${["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][n.getMonth()]} ${n.getFullYear()}`;return a.a.createElement("div",{className:"evnt-form-content"},a.a.createElement("div",{className:"evnt-heading-form"},a.a.createElement("div",{className:"evnt-form-group form-group text-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("p",null,this.localization.description)))),a.a.createElement("div",{ref:e=>this.scrollBlock=e,className:"evnt-body-form",onScroll:this.onScroll},a.a.createElement("div",{className:"evnt-form-group form-group content-group"},a.a.createElement("div",{className:"evnt-group-wrapper"},a.a.createElement("div",{className:"evnt-policy-content"},a.a.createElement("h2",{style:{"text-align":"center"}},"СОГЛАСИЕ НА ОБРАБОТКУ ПЕРСОНАЛЬНЫХ ДАННЫХ, РАЗРЕШЕННЫХ СУБЪЕКТОМ ПЕРСОНАЛЬНЫХ ДАННЫХ ДЛЯ РАСПРОСТРАНЕНИЯ"),a.a.createElement("p",null,"Я, ",a.a.createElement("span",{className:"completed"},e.name)," (далее - «Субъект») (контактная информация: адрес электронной почты ",a.a.createElement("span",{className:"completed"},e.email),") настоящим даю свободно, своей волей и в своем интересе свое информированное и сознательное согласие на обработку персональных данных, разрешенных мной для распространения, в соответствии со следующими условиями:"),a.a.createElement("ol",null,a.a.createElement("li",null,a.a.createElement("strong",null,"Определения"),a.a.createElement("br",null),"Для целей настоящего Согласия имеют значения следующие определения, представленные ниже:",a.a.createElement("ol",{className:"cyrilic"},a.a.createElement("li",null,a.a.createElement("strong",null,"Под «Оператором»")," понимается Общество с ограниченной ответственностью «ЭПАМ Систэмз», расположенное по адресу 115404, 9-я Радиальная ул., дом 2, Москва, Российская Федерация, ИНН: 7719232155, ОГРН: 1037739707147."),a.a.createElement("li",null,a.a.createElement("strong",null,"Под «Юридическими лицами ЭПАМ»")," понимаются лица, входящие в одну группу компаний с Оператором, перечень которых указан по следующей ссылке: ",a.a.createElement("a",{target:"_blank",href:"https://privacy.epam.com/core/interaction/showpolicy?type=CommonEpamAddress&client=&country=RU"},"https://privacy.epam.com/core/interaction/showpolicy?type=CommonEpamAddress&client=&country=RU")),a.a.createElement("li",null,a.a.createElement("strong",null,"Под «Персональными данными»")," понимается: любая информация, относящаяся к прямо или косвенно определенному или определяемому физическому лицу (Субъекту), а именно: ФИО, изображение Субъекта (фотография, видеозаписи с мероприятий, организуемых Оператором и/или Юридическими лицами ЭПАМ либо с их участием, а также на которых Субъект представляет Оператора), сведения о занимаемой должности Субъекта, сведения об имеющемся у Субъекта опыте работы, сведения об участии в проектах, навыках, ссылки на аккаунты Субъекта в социальных сетях, место нахождения, а также персональные данные, которые могут быть указаны Субъектом в размещаемых им подписях к бэйджам на информационных ресурсах (сайтах/приложении), указанных в пп. Д) п. 1 и пп. 2.2 настоящего Согласия."),a.a.createElement("li",null,a.a.createElement("strong",null,"Под «Обработкой»")," понимается любое действие (операция) или совокупность действий (операций) с Персональными данными, совершаемые с использованием средств автоматизации или без использования таких средств, включая сбор, запись, систематизацию, накопление, хранение, уточнение (обновление, изменение), извлечение, использование, передачу (распространение, предоставление, доступ), включая трансграничную передачу, в том числе на территории иностранных государств, не обеспечивающих адекватной защиты прав субъектов персональных данных, обезличивание, блокирование, удаление, уничтожение. Под обработкой также понимаются действия, указанные в п. 2.2 Согласия."),a.a.createElement("li",null,a.a.createElement("strong",null,"Цель обработки Персональных данных:")," обработка и распространение моих Персональных данных на информационных ресурсах (сайтах) группы компаний, в которую входит Оператор и Юридические лица ЭПАМ, а именно ",a.a.createElement("a",{target:"_blank",href:"https://events.epam.com/"},"https://events.epam.com/"),", ",a.a.createElement("a",{target:"_blank",href:"https://wearecommunity.io/"},"https://wearecommunity.io/"),", а также в приложении Events Mobi, осуществляется в целях информирования пользователей (посетителей) этих сайтов о проводимых мероприятиях, моих профессиональных навыках и компетенциях и о деятельности Оператора и/или Юридических лиц ЭПАМ."))),a.a.createElement("li",null,a.a.createElement("strong",null,"Согласие в соответствии с Федеральным законом Российской Федерации от 27 июля 2006 года № 152-ФЗ «О персональных данных»"),a.a.createElement("ol",null,a.a.createElement("li",null,"Я предоставляю Оператору свои Персональные данные, указанные в настоящем Согласии, и даю свободно, своей волей и в своем интересе свое информированное и сознательное согласие на Обработку всех перечисленных в настоящем Согласии моих Персональных данных, разрешенных мной для распространения, в соответствии с целями, согласованными в п. Д) статьи 1 настоящего Согласия, в том числе на трансграничную передачу Юридическим лицам ЭПАМ."),a.a.createElement("li",null,"Настоящим даю согласие на распространение моих Персональных данных на информационных ресурсах (сайтах) группы компаний, в которую входит Оператор и Юридические лица ЭПАМ, а именно https://events.epam.com/, https://wearecommunity.io/, а также в приложении Events Mobi. Я понимаю, что мои персональные данные, размещенные на данных сайтах/ресурсах, будут доступны неограниченному кругу лиц на территории всех стран мира."))),a.a.createElement("li",null,a.a.createElement("strong",null,"Источники получения Персональных данных, перечень действий с Персональными данными и используемые Оператором способы обработки"),a.a.createElement("ol",null,a.a.createElement("li",null,"Источниками получения Персональных данных Субъекта являются:",a.a.createElement("ol",null,a.a.createElement("li",null,"информация, документы, содержащие Персональные данные, предоставленные самим Субъектом;"),a.a.createElement("li",null,"информация, документы, содержащие Персональные данные, полученные от третьих лиц, осуществляющих обработку Персональных данных на законных основаниях, в том числе от государственных органов, других организаций, индивидуальных предпринимателей, физических лиц;"),a.a.createElement("li",null,"информация, содержащая Персональные данные, полученная из общедоступных источников Персональных данных и источников, в которых содержатся Персональные данные, разрешенные Субъектом для распространения, а также передачи и обработки неопределенным кругом лиц;"),a.a.createElement("li",null,"информация, документы, содержащие Персональные данные и созданные/полученные в ходе осуществления взаимодействия между Оператором и Субъектом;"),a.a.createElement("li",null,"информация, документы, содержащие Персональные данные и созданные/полученные в ходе осуществления взаимодействия между Оператором и Субъектом;"))),a.a.createElement("li",null,"Перечень действий с Персональными данными: автоматизированная, неавтоматизированная и смешанная обработка, в том числе сбор, запись, систематизация, накопление, хранение, уточнение (обновление, изменение), извлечение, использование, передача (распространение, предоставление, доступ), обезличивание, блокирование, удаление, уничтожение Персональных данных, размещение в общедоступных источниках персональных данных, а также передача Персональных данных: (i) по сетям связи общего пользования, (ii) по информационно-телекоммуникационным сетям международного информационного обмена, (iii) трансграничная передача Персональных данных на территорию стран, где находятся Юридические лица ЭПАМ, в соответствии с условиями настоящего Согласия."),a.a.createElement("li",null,"Способы, применяемые для обработки Персональных данных: (i) автоматизированная обработка; (ii) обработка без использования средств автоматизации (неавтоматизированная); (iii) смешанная обработка; (iv) обработка с получением персональных данных, существующих в электронном виде, путем копирования и иными способами, не уничтожающими персональные данные; (v) хранение персональных данных в бумажном виде, а также в электронном виде на серверах Оператора и Юридических лиц ЭПАМ; (vi) просмотр персональных данных с целью определения, содержится ли в них информация, относящаяся к Цели обработки Персональных данных; (vii) предоставление доступа к персональным данным, размещенным в общедоступных источниках, неограниченному кругу лиц на территории всех стран мира; (viii) другие способы обработки, соответствующие Цели обработки Персональных данных, согласованным с Субъектом в Согласии."))),a.a.createElement("li",null,a.a.createElement("strong",null,"Условия и запреты")," на передачу неограниченному кругу лиц и обработку неограниченным кругом лиц Персональных данных, указанных в настоящем Согласии, Субъектом не устанавливаются, если в п. 5, 6, 7, 8, 9 настоящего Согласия Субъект по собственному желанию не укажет такие запреты и условия."),a.a.createElement("li",null,a.a.createElement("strong",null,"Условия Обработки Персональных данных неограниченным кругом лиц"),a.a.createElement("ol",null,a.a.createElement("li",null,"Условие Обработки Персональных данных неограниченным кругом лиц: не установлено.",a.a.createElement("br",null),"Персональные данные, в отношении которых устанавливается указанное выше условие Обработки Персональных данных неограниченным кругом лиц: не определены."),a.a.createElement("li",null,"Условие Обработки Персональных данных неограниченным кругом лиц: не установлено.",a.a.createElement("br",null),"Персональные данные, в отношении которых устанавливается указанное выше условие Обработки Персональных данных неограниченным кругом лиц: не определены."))),a.a.createElement("li",null,a.a.createElement("strong",null,"Запреты Обработки Персональных данных неограниченным кругом лиц:"),a.a.createElement("ol",null,a.a.createElement("li",null,"Запрет Обработки Персональных данных неограниченным кругом лиц: не установлен.",a.a.createElement("br",null),"Персональные данные, в отношении которых устанавливается указанный выше запрет Обработки Персональных данных неограниченным кругом лиц: не определены."),a.a.createElement("li",null,"Запрет Обработки Персональных данных неограниченным кругом лиц: не установлен.",a.a.createElement("br",null),"Персональные данные, в отношении которых устанавливается указанный выше запрет Обработки Персональных данных неограниченным кругом лиц: не определены."))),a.a.createElement("li",null,a.a.createElement("strong",null,"Условия, при которых полученные Персональные данные могут передаваться Оператором только по его внутренней сети, обеспечивающей доступ к информации лишь для строго определенных сотрудников:")," не установлены."),a.a.createElement("li",null,a.a.createElement("strong",null,"Условия, при которых полученные Персональные данные могут передаваться Оператором с использованием информационно-телекоммуникационных сетей:")," не установлены."),a.a.createElement("li",null,a.a.createElement("strong",null,"Условия, при которых передача полученных Оператором Персональных данных не осуществляется:")," не установлены."),a.a.createElement("li",null,a.a.createElement("strong",null,"Условия вступления в силу и отзыва Согласия, срок действия Согласия"),a.a.createElement("ol",null,a.a.createElement("li",null,"Настоящее Согласие вступает в силу с даты его предоставления посредством сайта ",a.a.createElement("a",{target:"_blank",href:"https://docs.epam.com"}," https://docs.epam.com")," и действует до достижения Целей обработки Персональных данных Субъекта или до момента отзыва согласия таким Субъектом/получения Оператором требования Субъекта о прекращении передачи Персональных данных (до наступления более раннего из указанных обстоятельств), если отсутствуют иные законные основания для обработки персональных данных Субъекта. На протяжении данного срока Оператор, иные указанные в настоящем Согласии лица вправе обрабатывать, в том числе хранить, указанные в настоящем Согласии Персональные данные Субъекта в соответствии с условиями настоящего Согласия."),a.a.createElement("li",null,"Настоящее Согласие может быть отозвано Субъектом в любое время посредством письменного уведомления об отзыве, направленного заказным письмом или переданного лично Субъектом по адресу: Общество с ограниченной ответственностью «ЭПАМ Систэмз», 115404, Российская Федерация, г. Москва, 9-я Радиальная ул., дом 2. Отзыв настоящего Согласия вступает в силу с даты вручения соответствующего уведомления Оператору."),a.a.createElement("li",null,"Субъект также вправе в любое время направить Оператору требование о прекращении передачи (распространения, предоставления, доступа) Персональных данных. Данное требование должно включать в себя фамилию, имя, отчество (при наличии), контактную информацию (номер телефона, адрес электронной почты или почтовый адрес) Субъекта, а также перечень Персональных данных, обработка которых подлежит прекращению. Такое требование должно быть направлено по адресу: ",a.a.createElement("span",{className:"completed"},a.a.createElement("a",{href:"mailto:privacy@epam.com"},"privacy@epam.com")),"."),a.a.createElement("li",null,"В случае отзыва настоящего Согласия или получения требования о прекращении передачи Персональных данных Оператор вправе продолжить обработку моих персональных данных в случаях и в порядке, предусмотренных Федеральным законом от 27 июля 2006 года № 152-ФЗ «О персональных данных» и другими нормативным актами."),a.a.createElement("li",null,". Если какие-либо положения настоящего Согласия будут признаны несоответствующими законодательству Российской Федерации или недействительными, это не должно влиять на действительность и правомочность прочих положений Согласия.")))),a.a.createElement("p",null,"Настоящим я также подтверждаю, что до предоставления настоящего Согласия ознакомлен с информацией об обработке моих персональных данных, а также с правами, предоставленными мне в соответствии с действующим законодательством о персональных данных."),a.a.createElement("p",null,"Я, ",a.a.createElement("span",{className:"completed"},e.name),", согласен(на) на обработку моих персональных данных на изложенных выше условиях. ")),a.a.createElement("div",{class:"evnt-policy-sign"},a.a.createElement("div",{class:"evnt-sign-wrapper completed"},t.isAgreed?a.a.createElement("span",{class:"evnt-checkmark"}):null,a.a.createElement("p",null,"(Подпись)")),a.a.createElement("div",{class:"evnt-date-wrapper"},a.a.createElement("p",{class:"completed"},i)))))))}}function Ot(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class It extends i.Component{constructor(e){super(e),Ot(this,"componentDidMount",()=>{}),Ot(this,"componentWillUnmount",()=>{}),Ot(this,"setPolicyProperty",(e,t,n)=>{const i=this.state.policies,a=i.find(t=>t.key===e);a&&(a[t]=n,this.setState({policies:i}))}),Ot(this,"signPolicy",e=>{const{inProgress:t,policies:n}=this.state;if(t)return;const i=n.find(t=>t.id===e);i&&this.setState({inProgress:!0},()=>{E.a.post("/api/v2/sign-policy",{policy_id:i.id,authenticity_token:$("meta[name=csrf-token]").attr("content")},{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(()=>{i.isAgreed=!0;const e=n.filter(e=>e.isAgreed).length==n.length;this.setState({inProgress:!1,policies:n,completed:e})}).catch(e=>{this.setState({inProgress:!1}),handleGlobalError(e.response)})})}),Ot(this,"nextPolicy",()=>{const{policies:e,selectedPolicy:t}=this.state,n=e.findIndex(e=>e.key==t);this.setState({selectedPolicy:e[n+1].key})}),Ot(this,"hidePopup",()=>{this.closeCallback(s.d,!1)}),this.alertHandler=new Le.a,this.closeCallback=this.props.closeCallback,this.popupLocalization=window.PORTAL_LOCALE.popups.policies;const t=[{key:"terms_of_conditions",isViewed:!1,isAgreed:!1,component:Pt},{key:"consent_for_ru",isViewed:!1,isAgreed:!1,component:Tt}];let n=[],i=null,a=null;this.returnUrl="/",window.hasOwnProperty("REQUIRED_POLICIES")&&window.REQUIRED_POLICIES.policies.length>0&&(window.REQUIRED_POLICIES.policies.forEach(e=>{let i=t.find(t=>t.key==e.key);i&&(i.id=e.id,i.page_id=e.page_id,n.push(i))}),i=n[0].key,a=window.REQUIRED_POLICIES.user,this.returnUrl=window.REQUIRED_POLICIES.return_url||"/"),this.state={completed:!1,inProgress:!1,policies:n,selectedPolicy:i,user:a}}render(){const{completed:e,policies:t,selectedPolicy:n,user:i,inProgress:s}=this.state;if(0==t.length)return null;let r=a.a.createElement("div",{className:"evnt-popup-close",onClick:this.hidePopup});e&&(r=a.a.createElement("a",{href:this.returnUrl},a.a.createElement("div",{className:"evnt-popup-close"})));const o=a.a.createElement(Nt,{policies:t,selectedPolicy:n,popupLocalization:this.popupLocalization}),l=t.find(e=>e.key===n),c=l.component,m=a.a.createElement(c,{policy:l,user:i,actions:{setPolicyProperty:this.setPolicyProperty},localization:this.popupLocalization[n]}),u=a.a.createElement(St,{completed:e,policy:l,inProgress:s,localization:this.popupLocalization,returnUrl:this.returnUrl,actions:{hidePopup:this.hidePopup,signPolicy:this.signPolicy,nextPolicy:this.nextPolicy}});return a.a.createElement(J.a,null,a.a.createElement("div",{className:"evnt-popup evnt-terms-of-conditions-consent-popup"},a.a.createElement("div",{className:"evnt-popup-container"},a.a.createElement("div",{className:"evnt-popup-heading"},a.a.createElement("h3",null,this.popupLocalization.title),r),a.a.createElement("div",{className:"evnt-popup-scroll"},a.a.createElement("div",{className:"evnt-popup-body"},o,m)),u)))}}var xt=n(52);function Rt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class At{constructor(e){Rt(this,"handleGlobalError",(e,t,n)=>{let i="Error",a="Sorry! Something went wrong. Please try again later.";if("undefined"!=typeof I18n&&(i=window.I18n.global_errors.title,a=window.I18n.global_errors.something_wrong),t=t||i,e&&e.hasOwnProperty("status")){if(401===e.status)a="undefined"!=typeof I18n?window.I18n.global_errors.session_expired:"Your authentication session was expired, please login.";else if(422===e.status){let t=e.data,n={};"object"==typeof t?(n=t,t=t.toString()):n=JSON.parse(t);for(const e in n)a=(s=(e.length>0?e+": ":"")+n[e].join(", "),String(s).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))+"<br />"}}else e&&e.hasOwnProperty("socket_error")?a=e.socket_error:"undefined"!=typeof I18n&&(a=window.I18n.global_errors.something_wrong);var s;this.modalError.show(t,a,!0,!1,!0,n)}),Rt(this,"handleGlobalTextError",(e,t,n)=>{this.modalError.show(e,t,!1,!1,!0,n)}),this.modalError=e}}function Dt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const jt=n(49);class Mt{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Dt(this,"registerCallbacks",e=>{e.forEach(e=>{this.callbacks.hasOwnProperty(e.action)||(this.callbacks[e.action]=[]),this.callbacks[e.action].push(e)})}),Dt(this,"unbindCallbacks",e=>{Object.keys(this.callbacks).forEach(t=>{this.callbacks[t]=this.callbacks[t].filter(t=>t.id!==e)})}),Dt(this,"connect",()=>{this.webSocketRailsConnect()}),Dt(this,"webSocketRailsConnect",()=>{let e=this;e.is_connected||(window.ActionCable=window.ActionCable||jt.createConsumer("//"+window.location.host+"/websocket"),e.cable=window.ActionCable,e.userChannel=e.cable.subscriptions.create({channel:"ChatUserChannel",room:"chat_user_"+e.user_id},{connected:function(){e.is_connected=!0,e.callbacks.hasOwnProperty("connected")&&e.callbacks.connected.forEach(e=>{e.callback()})},disconnected:function(){e.is_connected=!1},rejected:function(){e.is_connected=!1},received:function(t){"error"===t.action?e.processError(t.message):e.callbacks.hasOwnProperty(t.action)&&e.callbacks[t.action].forEach(e=>{e.callback(t.message)})}}))}),Dt(this,"perform",(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.userChannel.perform(e,n)})),Dt(this,"processError",e=>{handleGlobalError(e,"Error")}),Dt(this,"unbindChannels",()=>{this.cable.subscriptions.remove(this.userChannel)}),Dt(this,"guid",()=>{function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}),this.user_id=e,this.callbacks=n,this.is_connected=!1,this.dispatcher=null,this.cable=null,this.webSocketRailsConnect()}}var $t=n(54);function zt(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return Ht})),n.d(t,"b",(function(){return Ut}));const Ht=a.a.createContext(void 0,void 0);class Ut extends i.Component{constructor(e){var t;super(e),t=this,zt(this,"handleAdBlock",()=>{if(0===document.getElementById("adDetect").offsetHeight&&!Q.a.checkKeyWithExpiration("adBlockWarning")){const e=()=>{Q.a.setKeyWithExpiration("adBlockWarning",864e5)};this.pushSnackbar(!0,[window.PORTAL_LOCALE.snackbars.adblock.text1,window.PORTAL_LOCALE.snackbars.adblock.text2],$t.a.ICONS.adblock,e)}}),zt(this,"popupVisibility",(function(e,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;a&&(a.preventDefault(),a.stopPropagation());const{state:s}=t;s.showPopups[e]=n,s.popupParams[e]=i,t.setState(s)})),zt(this,"pushSnackbar",(e,t,n,i)=>{this.snackbarsRef.current.push(e,t,n,i)}),this.user=window.USER,this.event=window.EVENT,this.portal_settings=window.PORTAL_SETTINGS,this.layoutHandler=new r.a(this.user,this.event?this.event:null),window.POLICY&&window.POLICY.title&&this.layoutHandler.setPolicyPage(window.POLICY),window.ADDITIONAL_POLICIES&&window.ADDITIONAL_POLICIES.forEach(e=>this.layoutHandler.setPolicyPage(e)),this.state={showPopups:{login:!1,community:!1,requiredPolicies:!1},popupParams:{login:null,community:null,requiredPolicies:null},showLoginPopup:!1,loginParams:null},this.store=e.store,this.portal_settings.chats_enabled&&window.USER&&window.USER.id&&(this.userWSHandler=new Mt(this.user.id))}componentDidMount(){if(window.handleGlobalError=new At(this.modalError).handleGlobalError,window.handleGlobalTextError=new At(this.modalError).handleGlobalTextError,this.user.hasOwnProperty("user_error")){const{user_error:e}=this.user;delete this.user.user_error,delete window.USER.user_error,this.modalError.show(e.title,e.text,!1,!1,!0)}else window.REQUIRED_POLICIES&&this.popupVisibility(s.d,!0,window.REQUIRED_POLICIES);if(this.handleAdBlock(),window.AUTHENTICATION_METHOD){const e=window.AUTHENTICATION_METHOD,t={method:e.provider,authentication_type:e.event,iamUserID:window.USER.global_id};u.a.sendEvent("authentication",t,()=>{window.AUTHENTICATION_METHOD=null})}}render(){const{showPopups:e,popupParams:t}=this.state,{viewOnly:n,pageComponent:i}=this.props,r=i,o={user:this.user,actions:{popup:{toggle:this.popupVisibility},snackbars:{push:this.pushSnackbar}}};this.userWSHandler&&(o.userWSHandler=this.userWSHandler);let l=null;e[s.c]&&(l=a.a.createElement(Pe,{closeCallback:this.popupVisibility,viewOnly:n,loginParams:t[s.c]}));let c=null;e[s.a]&&(c=a.a.createElement(Xe,{closeCallback:this.popupVisibility,viewOnly:n,pagePresenter:t[s.c]}));let m=null;e[s.b]&&(m=a.a.createElement(_t,{closeCallback:this.popupVisibility}));let u=null;return e[s.d]&&(u=a.a.createElement(It,{data:t[s.d],closeCallback:this.popupVisibility})),a.a.createElement(Ht.Provider,{value:o},a.a.createElement(Y,{key:"header",layoutHandler:this.layoutHandler}),a.a.createElement(r,{key:"content",store:this.store}),a.a.createElement(X,{key:"footer",layoutHandler:this.layoutHandler}),l,c,m,u,a.a.createElement(pe,{viewOnly:n}),a.a.createElement(xt.a,{ref:e=>{this.modalError=e}}),a.a.createElement(ke,{viewOnly:n}),a.a.createElement($t.a,{ref:this.snackbarsRef=a.a.createRef(),viewOnly:n}))}}},25:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o}));var i=n(6);function a(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&$("html").css({"overflow-y":"hidden"})}function s(){$("html").css({"overflow-y":"auto"})}function r(){const e=$(".evnt-popup"),t=$(".evnt-popup-scroll"),n=$(".evnt-popup-heading"),a=$(".evnt-popup-footer");if(e.is(":visible")){let s=$(window).height()-n.outerHeight(!0)-parseInt(e.css("padding-top"))-parseInt(e.css("padding-bottom"));e.hasClass("evnt-login-popup")||(s-=a.outerHeight(!0)),i.a.viewportWidth()<=576?t.css({"max-height":s}):t.css({"max-height":"auto"})}}function o(){const e=$(".evnt-image-button-popup"),t=e.find("img");let n=t.height(),i=t.width();const a=e.find(".evnt-popup-heading"),s=e.find(".evnt-popup-footer"),r=()=>{n>=i?(t.removeClass("evnt-horizontal-img").addClass("evnt-vertical-img"),t.css("height",$(window).height()-a.outerHeight(!0)-s.outerHeight(!0)-48-24),n=t.height(),i=t.width(),$(window).width()<i+48+24&&(t.removeClass("evnt-vertical-img").addClass("evnt-horizontal-img"),t.removeAttr("style"))):n<i&&(t.removeClass("evnt-vertical-img").addClass("evnt-horizontal-img"),t.removeAttr("style"),n=t.height(),i=t.width(),$(window).height()<a.outerHeight(!0)+s.outerHeight(!0)+n+48&&(t.removeClass("evnt-horizontal-img").addClass("evnt-vertical-img"),t.css("height",$(window).height()-a.outerHeight(!0)-s.outerHeight(!0)-48-24)))};$(t[0]).on("load",()=>{n=t.height(),i=t.width(),r()}),r()}},26:function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"c",(function(){return s}));const i="menuCreateEvent",a="menuCreateCommunity",s="menuOpenChats"},265:function(e,t,n){"use strict";var i=n(0),a=n.n(i),s=n(6),r=n(124),o=n(125),l=n(126),c=n(127),m=n(108),u=n(3);function d(e){let{event:t,isResponsive:n,isSmallResponsive:s,viewOnly:d}=e;const p=Object(i.useCallback)(e=>{d&&e.preventDefault(),u.a.sendData("event",{param_event_name:t.title,param_event_source:"promoted",param_event_id:t.id})}),{url:h,size:v,languages:f,time_stamp:g,branding:b,title:y,community:w,event_status:E,attendees:_,speakers:N}=t,k=r.a.prepareBranding(b),S=a.a.createElement(l.a,{time_stamp:g}),C=a.a.createElement(o.a,{viewOnly:d,title:y,languages:f,is_responsive:n});let P=null;E&&(P=a.a.createElement("div",{className:"evnt-card-cell status-cell"},a.a.createElement("span",{className:""+E},window.PORTAL_LOCALE.cards.events.statuses[E.replace(/-/g,"_")])));let L=null,T=null;_>0&&"l"===v&&(s?T=a.a.createElement("div",{className:"evnt-card-cell attendees-cell mobile"},a.a.createElement("p",null,_)):L=a.a.createElement("div",{className:"evnt-details-cell attendees-cell desktop"},a.a.createElement("p",null,_)));const O=a.a.createElement(c.a,{viewOnly:d,speakers:N,photo_count:s||"l"!==v?3:4,isResponsive:n,isSmallResponsive:s});let I=null;return w&&(I=a.a.createElement(m.a,{viewOnly:d,image:w.logo,title:w.title,is_responsive:n})),a.a.createElement("div",{className:`evnt-promo-card size-${v}${k.class_name}`},a.a.createElement("a",{href:`/events/${h}?utm_source=from_promoted_block&utm_medium=wearecommunity&utm_campaign=event_from_promoted_events&utm_term=from_wearecommunity_site`,onClick:p},a.a.createElement("div",{className:"evnt-card-wrapper"},a.a.createElement("div",{className:"evnt-background-container"},a.a.createElement("div",{className:"evnt-background",style:k.styles})),a.a.createElement("div",{className:"evnt-card-heading"},a.a.createElement("div",{className:"evnt-event-details-table"},S,L)),a.a.createElement("div",{className:"evnt-card-body"},T,P,C),a.a.createElement("div",{className:"evnt-card-footer"},a.a.createElement("div",{className:"evnt-people-table"},O,I)))))}var p=n(1),h=n.n(p);n(369);function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class f{constructor(e,t,n){v(this,"init",()=>{const{eventsCount:e,withMain:t}=this;let n=1200;(t&&2===e||!t&&3===e)&&(n=1024),s.a.isResponsive(n)||s.a.isMobile()?this.$slider.hasClass("slick-initialized")||this.$slider.slick({infinite:!0,slidesToShow:1,slidesToScroll:1,speed:600,dots:!0,arrows:!0,appendDots:this.$sliderNav,appendArrows:this.$sliderNav,draggable:!0}):this.$slider.hasClass("slick-initialized")&&this.$slider.slick("unslick")}),this.$component=$(h.a.findDOMNode(e)),this.eventsCount=t,this.withMain=n,this.$slider=this.$component.find(".evnt-promo-cards-slider"),this.$sliderNav=this.$component.find(".evnt-promo-cards-slider-nav")}}var g=n(395),b=n.n(g);function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return w}));class w extends i.Component{constructor(e){var t;super(e),t=this,y(this,"setResponsive",()=>{const{viewOnly:e}=this.props,t=(s.a.isResponsive()||s.a.isMobile())&&!e,n=s.a.isResponsive(576)&&!e;this.isResponsive===t&&this.isSmallResponsive===n||(this.isResponsive=t,this.isSmallResponsive=n,this.forceUpdate())}),y(this,"initSlider",()=>{const{eventsCount:e,withMain:t,props:{viewOnly:n}}=this;(e>2||2===e&&t)&&!n&&(this.$sliderHandler=new f(this,e,t),this.$sliderHandler.init())}),y(this,"prepareEvents",()=>{const{events:e}=this;this.eventsCount=e.length,0!==this.eventsCount&&(this.withMain=e.some(e=>e.is_main),1===this.eventsCount?e[0].size="l":2===this.eventsCount?(e[0].size="l",e[1].size=this.withMain?"m":"l"):3===this.eventsCount?(e.forEach(e=>e.size="m"),this.withMain&&(e[0].size="l")):4===this.eventsCount&&(this.withMain?(e[0].size="l",e[1].size="m",e[2].size="s",e[3].size="s"):e.forEach(e=>e.size="m")))}),y(this,"renderEvent",(function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return a.a.createElement(d,{localeSource:t.localeSource,key:n,event:e,isResponsive:t.isResponsive,isSmallResponsive:t.isSmallResponsive,viewOnly:t.props.viewOnly})})),y(this,"oneEvent",()=>a.a.createElement("div",{className:"evnt-promo-cards-column cell-12"},this.renderEvent(this.events[0]))),y(this,"twoEvents",()=>{const{events:e,withMain:t}=this;let n=null;if(t){const t=e[0],i=e[1];n=[a.a.createElement("div",{key:"promo-main",className:"evnt-promo-cards-column cell-8"},this.renderEvent(t)),a.a.createElement("div",{key:"promo-m",className:"evnt-promo-cards-column cell-4"},this.renderEvent(i))]}else n=e.map((e,t)=>a.a.createElement("div",{key:t,className:"evnt-promo-cards-column cell-6"},this.renderEvent(e,t)));return n}),y(this,"threeEvents",()=>{const{events:e,withMain:t}=this;let n=null;if(t){const t=e[0],i=[e[1],e[2]];n=[a.a.createElement("div",{key:"promo-main",className:"evnt-promo-cards-column cell-6"},this.renderEvent(t)),a.a.createElement("div",{key:"promo-m",className:"evnt-promo-cards-column cell-6"},i.map((e,t)=>this.renderEvent(e,t)))]}else n=e.map((e,t)=>a.a.createElement("div",{key:t,className:"evnt-promo-cards-column cell-4"},this.renderEvent(e,t)));return n}),y(this,"fourEvents",()=>{const{events:e,withMain:t}=this;let n=null;if(t)n=[a.a.createElement("div",{key:"promo-main",className:"evnt-promo-cards-column cell-6"},this.renderEvent(e[0])),a.a.createElement("div",{key:"promo-m",className:"evnt-promo-cards-column cell-3"},this.renderEvent(e[1])),a.a.createElement("div",{key:"promo-s",className:"evnt-promo-cards-column cell-3"},this.renderEvent(e[2],"3-1"),this.renderEvent(e[3],"3-2"))];else{n=[[e[0],e[1]],[e[2],e[3]]].map((e,t)=>a.a.createElement("div",{key:"promo-cell-"+t,className:"evnt-promo-cards-column cell-6"},e.map((e,t)=>this.renderEvent(e,t))))}return n}),this.isResponsive=(s.a.isResponsive()||s.a.isMobile())&&!this.props.viewOnly,this.isSmallResponsive=s.a.isResponsive(576)&&!this.props.viewOnly,this.events=e.events||e.properties.events_to_display,this.localeSource=e.localeSource||window.I18n,this.sectionClassesByCount={1:{class:"one-event",renderMethod:"oneEvent"},2:{class:"two-events",renderMethod:"twoEvents"},3:{class:"three-events",renderMethod:"threeEvents"},4:{class:"four-events",renderMethod:"fourEvents"}},this.prepareEvents(),this.additional_class=window.ADDITIONAL_CLASS?" "+window.ADDITIONAL_CLASS:""}componentDidMount(){this.initSlider(),window.addEventListener("resize",this.initSlider),window.addEventListener("resize",this.setResponsive)}componentWillUnmount(){window.removeEventListener("resize",this.initSlider),window.removeEventListener("resize",this.setResponsive)}render(){const{eventsCount:e,withMain:t}=this;if(0===e)return null;const n=this.sectionClassesByCount[e],i=this[n.renderMethod](),s=e>1?a.a.createElement("div",{className:"evnt-promo-cards-slider-nav"}):null;let r=null;return null!=window.ADDITIONAL_CLASS&&(r={backgroundImage:`url(${b.a})`}),a.a.createElement("section",{style:r,className:`evnt-panel evnt-hero-panel evnt-landing-hero ${n.class}${t?" with-main-event":""}${this.additional_class}`},a.a.createElement("div",{className:"evnt-panel-wrapper"},a.a.createElement("div",{className:"evnt-promo-cards-wrapper"},a.a.createElement("div",{className:"evnt-cards-container"},a.a.createElement("h3",null,this.localeSource.pages.landing.promoted_events),a.a.createElement("div",{className:"evnt-promo-cards-row evnt-promo-cards-slider"},i),s))))}}},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(6),a=n(45),s=n(14),r=n(3),o=n(5);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;l(this,"setPolicyPage",e=>{this.policyPageInfo||(this.policyPageInfo=[]),this.policyPageInfo=this.policyPageInfo.concat({...e,title:this.currentLocale.menu[e.key]})}),l(this,"isEvent",()=>null!==this.event),l(this,"isCommunityMenu",()=>null!==this.event&&"community"==this.event.type),l(this,"isSignedUser",()=>null!==this.user.id),l(this,"isMobile",()=>i.a.isMobile()),l(this,"isResponsive",()=>i.a.isResponsive()),l(this,"viewportWidth",()=>i.a.viewportWidth()),l(this,"menuItems",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){const e=[];return Object.assign([],t.portalMenuItems).forEach(t=>{"page"===t.type?e.push(t):Object.assign([],t.items).forEach(t=>e.push(t))}),e}return Object.assign([],t.portalMenuItems)})),l(this,"policyMenuItems",()=>Object.assign([],this.policyPageInfo)),l(this,"eventMenuItems",(function(e){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const i=[],a=Object.assign([],t.event.menu_items);return a.forEach(t=>{if("page"===t.type)t.displayed_in.includes(e)&&i.push(t);else if(1!==e||n){t.items.filter(t=>t.displayed_in.includes(e)).forEach(e=>i.push(e))}else{let n=[];Object.assign([],t.items).filter(t=>t.displayed_in.includes(e)).forEach(e=>n.push(e)),n.length>0&&(t.items=n,i.push(t))}}),window.ONLY_VIEW||i.some(e=>"group"===e.type||!e.url.startsWith("#"))&&(1!==new Set(i.filter(e=>"group"!==e.type).map(e=>e.url.split("#")[0])).size||i.some(e=>"group"===e.type))?i:[]})),l(this,"sendStats",()=>{s.a.sendData("event","Client menu","client_menu_using","'Create event' link clicked"),r.a.sendAnyPageData("create_component",{param_create_option:"event"})}),l(this,"footerItems",()=>this.isEvent()?this.eventMenuItems(2):Object.assign([],this.policyPageInfo?this.menuItems(!0).concat(this.policyPageInfo):this.portalMenuItems)),l(this,"prepareCopyright",()=>this.isEvent()&&this.event.copyright?this.event.copyright:this.currentLocale?`${(new Date).getFullYear()} ${this.currentLocale.copyright}`:null),l(this,"onTheWeb",()=>{if(this.isEvent()){const e=this.event.on_the_web.map(e=>({icon:a.a.mapTitleToClass(e.title)+"-icon",url:e.link}));return this.event.org_team&&e.push({icon:"email-icon",url:this.event.org_team}),Object(o.k)(e,"icon","url")}return this.portalOnTheWeb}),this.user=e,this.event=n,this.pageName=window.PORTAL_PAGE_NAME,this.currentLocale=window.PORTAL_LOCALE,this.portal_settings=window.PORTAL_SETTINGS,this.portalMenuItems=this.portal_settings.portal_menu.map(e=>{let t={key:e.key,type:e.type,url:e.url,title:this.currentLocale.menu[e.key],selected:this.pageName===e.key,icon:e.icon};return"group"===e.type?t.items=e.items.map(e=>({key:e.key,title:this.currentLocale.menu[e.key],selected:this.pageName===e.key,url:e.url,icon:e.icon})):Object.assign(t,{url:e.url}),t});const c=this.portal_settings.socials;this.portalOnTheWeb=[{icon:"facebook-icon",url:c.fb},{icon:"twitter-icon",url:c.twitter},{icon:"vk-icon",url:c.vk},{icon:"email-icon",url:"mailto:"+c.email}].filter(e=>e.url.replace("mailto:","").length>0),this.enterpriseMenuIcon=this.portal_settings.enterprise_menu.icon}}l(c,"goToItem",e=>{if(0===e.indexOf("#")){const t=e.split("#")[1];$("html, body").animate({scrollTop:$("#"+t).offset().top-$("header").height()},500)}else window.location=e})},3:function(e,t,n){"use strict";function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));class a{}i(a,"sendData",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof amplitude)try{var i=new amplitude.Identify;const a=`${window.PORTAL_PAGE_NAME&&window.PORTAL_PAGE_NAME.length>0?window.PORTAL_PAGE_NAME:window.PAGE_NAME?window.PAGE_NAME:"undefined"}_${e}_event`;let s={event:"all_events",event_name:a};window.USER&&null!==window.USER.id?(i=i.set("userId",window.USER.id).set("globalId",window.USER.global_id).set("userStatus",window.USER.user_status),s.iamUserID=window.USER.global_id,s.user_status=window.USER.user_status):i=i.unset("userId"),amplitude.getInstance().identify(i),amplitude.getInstance().logEvent(a,t,n),window.globalDataLayer=window.globalDataLayer||[],window.globalDataLayer.push(Object.assign(s,t))}catch(e){n&&n(),console.log("Amplitude is not available.")}else n&&n()})),i(a,"sendAnyPageData",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if("undefined"!=typeof amplitude)try{var i=new amplitude.Identify;const a=`any_${e}_event`;let s={event:"all_events",event_name:a};window.USER&&null!==window.USER.id?(i=i.set("userId",window.USER.id).set("globalId",window.USER.global_id).set("userStatus",window.USER.user_status),s.iamUserID=window.USER.global_id,s.user_status=window.USER.user_status):i=i.unset("userId"),amplitude.getInstance().identify(i),amplitude.getInstance().logEvent(a,t,n),window.globalDataLayer=window.globalDataLayer||[],window.globalDataLayer.push(Object.assign(s,t))}catch(e){n&&n(),console.log("Amplitude is not available.")}else n&&n()})),i(a,"sendEvent",(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=window.PORTAL_PAGE_NAME&&window.PORTAL_PAGE_NAME.length>0?window.PORTAL_PAGE_NAME:window.PAGE_NAME?window.PAGE_NAME:"undefined";if("undefined"!=typeof amplitude)try{var a=new amplitude.Identify;const s=e+"_event";let r={event:"all_events",event_name:s};window.USER&&null!==window.USER.id?(a=a.set("userId",window.USER.id).set("globalId",window.USER.global_id).set("userStatus",window.USER.user_status),r.iamUserID=window.USER.global_id,r.user_status=window.USER.user_status):a=a.unset("userId"),amplitude.getInstance().identify(a);let o={};"undefined"!==i&&(o={param_page_source:i}),o=t?Object.assign(o,t):o,amplitude.getInstance().logEvent(s,o,n),window.globalDataLayer=window.globalDataLayer||[],window.globalDataLayer.push(Object.assign(r,o))}catch(e){n&&n(),console.log("Amplitude is not available.")}else n&&n()}))},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i=n(1),a=n.n(i),s=n(2),r=n.n(s),o=n(3),l=n(18);function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class m{constructor(e){var t=this;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(c(this,"setPaddingWidth",e=>{this.paddingWidth=e,this.resize()}),c(this,"barWidth",()=>{const e=a.a.findDOMNode(this.component.refs.navigationLogo),t=a.a.findDOMNode(this.component.refs.navigationTools),n=a.a.findDOMNode(this.component.refs.extendedMenu),i=a.a.findDOMNode(this.component);return i?i.offsetWidth-this.paddingWidth-(e?e.offsetWidth:0)-(t?t.offsetWidth:0)-(n?126:0):0}),c(this,"resize",(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const n=t.component.state.extendedMenuItems.length;if(t.navigationItemsWidth<=t.barWidth()){if(0===n)return;t.component.setState({menuItems:t.menuItems,extendedMenuItems:[]})}else{let i=Object.assign([],t.menuItems),a=0,s=t.navigationItemsWidth-t.barWidth()+t.moreWidth;for(;s>=0&&i[i.length-a-1];)s-=i[i.length-a-1].width,a++;let r={menuItems:i};if(r.extendedMenuItems=r.menuItems.splice(-a),(e?0:n)===r.extendedMenuItems.length)return;t.component.setState(r)}})),this.component=e,this.paddingWidth=n,!this.component.refs.navigationBar||!this.component.refs.extendedMenu)return;this.navigationItemsWidth=a.a.findDOMNode(this.component.refs.navigationBar).offsetWidth,this.moreWidth=a.a.findDOMNode(this.component.refs.extendedMenu).offsetWidth;let i=this.component.state;this.menuItems=Object.assign([],i.menuItems).map(e=>{let t=Object.assign({},e);const n=a.a.findDOMNode(this.component.refs[t.key]);return t.width=n.offsetWidth,t}),this.resize(!0)}}c(m,"changeLanguage",(e,t)=>{r.a.put("/api/v2/change-portal-locale/"+e,{authenticity_token:$("meta[name=csrf-token]").attr("content")},{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(()=>{o.a.sendAnyPageData("language",{param_select_language:e}),t&&t()}).catch(()=>{(new l.a).show(I18n.global_errors.title,I18n.global_errors.something_wrong)})})},34:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var i=n(84);const a=n.n(i).a},36:function(e,t,n){e.exports=n.p+"data/5d53ae6e871f4e9a95cde3906c531083.svg"},37:function(e,t,n){e.exports=n.p+"data/1e564d5f853f39bbce5026e0cd4293e9.svg"},39:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(0),a=n.n(i);class s extends i.Component{render(){const{item:e,actions:t}=this.props;return a.a.createElement("li",{className:`nav-item${e.selected?" active":""}${e.icon?" "+e.icon:""}`},a.a.createElement("a",{className:"nav-link",href:e.url,onClick:t.itemClick.bind(this,e.url,e.key)},e.title))}}},395:function(e,t,n){e.exports=n.p+"data/ab45aa5ef495042235d477ca79185e9d.png"},4:function(e,t,n){"use strict";var i=n(0),a=n.n(i),s=n(29),r=n.n(s),o=n(1695),l=n(63),c=n.n(l);t.a=e=>{let{text:t,size:n="medium",color:i,icon:s,link:l,additionalClasses:m="",id:u,inProgress:d=!1,disabled:p=!1,onClick:h}=e,v=r()("evnt-button",n,c.a.button,i,{disabled:p},m);return d?(v=r()(v,"evnt-loader-button"),a.a.createElement("span",{className:v,id:u||Object(o.a)()},a.a.createElement("div",{className:"evnt-loader"}),a.a.createElement("span",null,t))):(v=r()(v,{["evnt-icon-button "+s]:!!s}),l?a.a.createElement("a",{href:l,id:u||Object(o.a)(),className:v,onClick:h},t):a.a.createElement("button",{type:"button",id:u||Object(o.a)(),disabled:p,className:v,onClick:h},t))}},42:function(e,t,n){"use strict";var i=n(0),a=n.n(i),s=n(1),r=n.n(s),o=n(5);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(){super(...arguments),l(this,"selectMainItem",()=>{const{model:e,actions:t}=this.props;let n=[e.id];t.update(n,!e.selected)}),l(this,"highlight",(e,t)=>{if(!t||!t.trim())return e;const n=e.toLowerCase().indexOf(t.toLowerCase());if(-1===n)return e;return e.substring(0,n)+'<span class="highlight-text">'+e.substring(n,n+t.length)+"</span>"+e.substring(n+t.length)}),l(this,"selectSubRow",e=>{const{model:t}=this.props,{actions:n}=this.props,i=[e.id];e.selected||t.selected||i.push(t.id),n.update(i,!e.selected)})}render(){const{model:e,filterText:t}=this.props;return a.a.createElement("div",{className:"evnt-menu-item"},a.a.createElement("div",{className:"evnt-menu-item-collapse"},a.a.createElement("div",{className:"evnt-checkbox",onClick:this.selectMainItem},a.a.createElement("input",{type:"checkbox",checked:e.selected,onChange:()=>{}}),a.a.createElement("label",{dangerouslySetInnerHTML:{__html:this.highlight(Object(o.m)(e.title),t)}}))))}}var m=n(12);function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return p}));const d={please_select:"Set languages",start_typing:"Start typing",nothing_found:"Nothing found"};class p extends i.Component{constructor(e){super(e),u(this,"getBodyScrollTop",()=>window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop),u(this,"setOpenup",()=>{if(this.props.openUp)return;const e=$(r.a.findDOMNode(this.select)).height()||p.MAX_MENU_HEIGHT,t=$(r.a.findDOMNode(this.button));if(!t.length)return;const n=t.offset(),i=$(window).height()+this.getBodyScrollTop()-(n.top-t.height())<e;this.setState({openUp:i})}),u(this,"componentDidMount",()=>{document.addEventListener("click",e=>{$(e.target).parents(".evnt-tree-autocomplete").length<1&&this.state.isExpanded&&this.toggleExpanded()}),this.updateFiltered()}),u(this,"val",()=>this.state.value),u(this,"setError",()=>this.setState({errorSet:!0})),u(this,"clearError",()=>this.setState({errorSet:!1})),u(this,"update",(e,t,n)=>{let i=this.state.value;i=t?i.concat(e):i.filter(t=>!e.find(e=>e==t)),!t&&!this.props.uncheckAll&&this.state.value.length>0&&i.length<1?this.alertHandler.show("CANNOT PERFORM AN ACTION","You are trying to deselect the last item. Field can not be empty."):this.setValue(i,n)}),u(this,"setValue",(e,t)=>{this.setState({value:e,count:e.length},()=>{this.updateFiltered(),setTimeout(this.setOpenup,1e3),this.props.changeCallback&&this.props.changeCallback(e),t&&this.props.collapseCallback&&this.props.collapseCallback(e)})}),u(this,"updateFiltered",()=>{const{value:e,filterText:t}=this.state,n=[];let i=this.availableLanguages.map(t=>{const i=Object.assign({},t);return i.selected=!!e.find(e=>e==t.id),i.selected&&n.push(i),i}),a=[];t&&(i=i.filter(e=>-1!==e.title.toLowerCase().indexOf(t))),this.setState({filteredLanguages:i,bottomMenuCategories:n},()=>{a.forEach(e=>{this.refs["language_item_"+e.id]&&this.refs["language_item_"+e.id].expand()})})}),u(this,"applyTextFiltering",e=>{e.target.value.trim()?this.setState({filterText:e.target.value.toLowerCase()},()=>this.updateFiltered()):this.setState({filterText:""},()=>{this.clearSearch()})}),u(this,"expanded",()=>this.state.isExpanded),u(this,"toggleExpanded",()=>{this.state.isExpanded&&this.clearSearch(),this.state.isExpanded&&this.props.collapseCallback&&this.props.collapseCallback(this.state.value),this.setState({isExpanded:!this.state.isExpanded},()=>this.setOpenup())}),u(this,"clearSearch",()=>{this.refs.searchInput&&(this.refs.searchInput.value=""),this.setState({filterText:""},()=>{this.updateFiltered()})}),u(this,"deleteBottomItem",e=>{const t=[e.id];this.update(t,!1,!0)}),this.state={value:e.value||[],isExpanded:!1,filteredLanguages:[],filterText:"",bottomMenuCategories:[],openUp:e.openUp,errorSet:!1},this.state.count=this.state.value.length,this.availableLanguages=e.values,this.locale=e.locale||d,this.alertHandler=new m.a}render(){const{title:e,error:t,viewOnly:n}=this.props,{count:i,filteredLanguages:s,filterText:r,isExpanded:o,bottomMenuCategories:l,openUp:m,errorSet:u}=this.state;let d=null;if(!n){const e=i?a.a.createElement("span",{className:"evnt-button-counter"},i):null;d=a.a.createElement("div",{className:"evnt-tree-autocomplete-wrapper"},a.a.createElement("div",{className:"evnt-tree-autocomplete-button",ref:e=>this.button=e,onClick:this.toggleExpanded},a.a.createElement("div",{className:"evnt-button-inner"},a.a.createElement("span",{className:"evnt-button-text"},this.locale.please_select),e)),a.a.createElement("div",{className:"evnt-tree-autocomplete-menu",ref:e=>this.select=e},a.a.createElement("div",{className:"evnt-menu-scroll"},a.a.createElement("div",{className:"evnt-menu-items-wrapper"},s.filter(e=>!e.disabled).map(e=>a.a.createElement(c,{model:e,ref:"language_item_"+e.id,filterText:r,key:e.id,actions:{update:this.update}}))))))}const p=a.a.createElement("div",{className:"evnt-tree-autocomplete-results"},l.map(e=>a.a.createElement("div",{key:e.id,className:"evnt-result-label"},a.a.createElement("label",null,e.short_title))));return a.a.createElement(a.a.Fragment,null,a.a.createElement("label",{className:"evnt-form-label"},e),a.a.createElement("div",{className:`evnt-tree-autocomplete evnt-without-children ${o?"evnt-open":""} ${m?"open-up":"open-down"} ${t||u?"error":""}`},d,p))}}u(p,"MAX_MENU_HEIGHT",282)},45:function(e,t,n){"use strict";function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));class a{}i(a,"TITLE_CLASSES",{Facebook:"facebook",Linkedin:"linked-in",LinkedIn:"linked-in",Twitter:"twitter",VK:"vk",VKontakte:"vk",Telegram:"telegram",Slack:"slack",Skype:"skype",YouTube:"youtube",Youtube:"youtube",Instagram:"instagram",GitHub:"github",SoundCloud:"soundcloud",Soundcloud:"soundcloud",Medium:"medium",Email:"email","Custom link":"link",Yammer:"yammer","Microsoft Teams":"teams",Airtable:"airtable",Anchor:"anchor","Apple Podcast":"apple-podcast",Behance:"behance",Confluence:"confluence",Discord:"discord",Dribbble:"dribbble","Google Podcast":"google-podcast",Notion:"notion",Twitch:"twitch",Video:"video",Vimeo:"vimeo","Yandex Podcast":"yandex-podcast","Web-site":"link"}),i(a,"TITLE_PLACEHOLDERS",{Facebook:"https://facebook.com",Linkedin:"https://linkedin.com",LinkedIn:"https://linkedin.com",Twitter:"https://twitter.com",VK:"https://vk.com",VKontakte:"https://vk.com",Telegram:"https://t.me/joinchat",Slack:"https://yourworkspace.slack.com",Skype:"https://join.skype.com/invite",YouTube:"https://youtube.com/user",Youtube:"https://youtube.com/user",Instagram:"https://instagram.com",GitHub:"https://github.com",Github:"https://github.com",SoundCloud:"https://soundcloud.com",Soundcloud:"https://soundcloud.com",Medium:"https://medium.com",Email:"ex.customemail@example.com",Yammer:"https://yammer.com","Microsoft Teams":"https://teams.microsoft.com/","Custom link":"https://example.com",Airtable:"https://www.airtable.com",Anchor:"https://anchor.fm","Apple Podcast":"https://www.apple.com/apple-podcasts/",Behance:"https://www.behance.net",Confluence:"https://www.atlassian.com/software/confluence",Discord:"https://discord.com",Dribbble:"https://dribbble.com","Google Podcast":"https://podcasts.google.com",Notion:"https://www.notion.so",Twitch:"https://www.twitch.tv",Video:"https://example.com",Vimeo:"https://vimeo.com","Yandex Podcast":"https://music.yandex.ru/non-music","Web-site":"https://example.com"}),i(a,"mapTitleToClass",e=>a.TITLE_CLASSES.hasOwnProperty(e)?a.TITLE_CLASSES[e]:""),i(a,"mapTitleToPh",e=>a.TITLE_PLACEHOLDERS.hasOwnProperty(e)?a.TITLE_PLACEHOLDERS[e]:"")},46:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(0),a=n.n(i),s=n(8),r=n.n(s);function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{render(){const{value:e,highlight:t,props:n}=this.props;if(!t.trim())return a.a.createElement("span",n,e);let s=e.split(new RegExp(`(${RegExp.escape(t)})`,"gi"));return a.a.createElement("span",n,s.map((e,n)=>e.toLowerCase()===t.toLowerCase()?a.a.createElement("strong",{key:n},e):a.a.createElement(i.Fragment,{key:n},e)))}}o(l,"propTypes",{value:r.a.string.isRequired,highlight:r.a.string,props:r.a.array}),o(l,"defaultProps",{highlight:null,props:null})},5:function(e,t,n){"use strict";(function(e){function i(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function a(e,t,n){return n.replace(new RegExp(e,"g"),t)}function s(e){return e.toLowerCase().replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}))}function r(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const a=window.PORTAL_SETTINGS.current_locale;return i&&e.tz.zone(i.id)?e.unix(t).tz(i.id).locale(a).format(n):e.unix(t).locale(a).format(n)}function o(t,n){const i=window.PORTAL_SETTINGS.current_locale;return e.unix(t).utc().locale(i).format(n)}function l(t,n){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;i&&e.tz.zone(i.id)?(t=e.unix(t).tz(i.id),n=e.unix(n).tz(i.id)):(t=e.unix(date),n=e.unix(n));const a=window.PORTAL_LOCALE.pages.calendar,s=window.PORTAL_SETTINGS.current_locale;let r=a.time_format;return t.format("YYYY-MM-DD")!==n.format("YYYY-MM-DD")&&(r=a.date_time_format),`${t.locale(s).format(r)} - ${n.locale(s).format(r)}`}function c(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i={compareOneField:(e,t,n,i)=>e[n]>t[n]?i?1:-1:e[n]<t[n]?i?-1:1:0,compareMultiField:(e,t,n,a)=>{let s=0;for(const r of n)if(s=i.compareOneField(e,t,r,a),0!==s)break;return s}};let a=e.sort((e,a)=>Array.isArray(t)?i.compareMultiField(e,a,t,n):i.compareOneField(e,a,t,n));return a}function m(e){return`/${window.PORTAL_SETTINGS&&window.PORTAL_SETTINGS.public_profiles_enabled?"users":"speakers"}/${e}`}function u(e,t){const n=Math.floor(e/60),i=e%60;let a=(n>0?n+` ${t.dur_h} `:"")+(i>0?i+" "+t.dur_m:"");return 0===a.length&&(a="0 "+t.dur_m),a}function d(){$(".main-content-actions .saved-action").fadeIn(700).delay(600).fadeOut(700)}function p(e){if(Array.isArray(e))return e.map(e=>p(e));if(e instanceof Object){const t={};for(let n in e)t[n]=p(e[n]);return t}return e}function h(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})}function v(e,t,n){return Object.entries(h(e,t)).flatMap(e=>{const[i,a]=e;return[...new Set(a.map(e=>e[n]))].map(e=>({[t]:i,[n]:e}))})}function f(e,t){if(!e||!t)return!1;if(e.length!=t.length)return!1;for(var n=0,i=e.length;n<i;n++)if(e[n]instanceof Array&&t[n]instanceof Array){if(!e[n].equals(t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}function g(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e.offsetTop;const i=e.offsetHeight;for(;e.offsetParent;)n+=(e=e.offsetParent).offsetTop;return n+i-t>=window.pageYOffset}function b(){return"hh:mm A"===window.TIME_FORMAT}function y(t){return b()?e(t,window.TIME_FORMAT).format("HH:mm"):t}function w(t){return t.indexOf("M")>-1?b()?t:e(t,"hh:mm A").format("HH:mm"):b()?e(t,"HH:mm").format(window.TIME_FORMAT):t}function E(e){const t=document.cookie.match(new RegExp("(^| )"+e+"=([^;]+)"));return t?t[2]:null}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{h:"h",m:"m"};const n=Math.trunc(e/60),i=e%60;return(n>0?n+`${t.h}${i>0?" ":""}`:"")+(i>0?i+t.m:"")}n.d(t,"m",(function(){return i})),n.d(t,"p",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"j",(function(){return l})),n.d(t,"s",(function(){return c})),n.d(t,"t",(function(){return m})),n.d(t,"o",(function(){return u})),n.d(t,"r",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"k",(function(){return v})),n.d(t,"a",(function(){return f})),n.d(t,"n",(function(){return g})),n.d(t,"q",(function(){return b})),n.d(t,"h",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"g",(function(){return E})),n.d(t,"i",(function(){return _})),RegExp.escape=function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}}).call(this,n(38))},52:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(0),a=n.n(i),s=n(1),r=n.n(s),o=n(4);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(){var e;super(...arguments),e=this,l(this,"show",(function(t,n,i,a,s){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;if(e.refs.title.innerText=t,i)e.refs.body.innerHTML=n;else if(s)e.refs.body.innerText=n;else if(a){let t="";for(const e in n)n.hasOwnProperty(e)&&(t+=`${e} ${n[e].join(", ")}.`);e.refs.title.innerText=t}const l=$(r.a.findDOMNode(e));o&&l.unbind("hidden.bs.modal").on("hidden.bs.modal",()=>{o(),l.modal("hide")}),l.modal("show")})),l(this,"close",()=>{$(r.a.findDOMNode(this)).modal("hide")})}render(){return a.a.createElement("div",{className:"evnt-modal evnt-error-modal modal","data-backdrop":"static"},a.a.createElement("div",{className:"modal-dialog"},a.a.createElement("div",{className:"modal-content"},a.a.createElement("div",{className:"modal-header"},a.a.createElement("h5",{className:"modal-title",ref:"title"}),a.a.createElement("button",{type:"button",className:"close",onClick:this.close})),a.a.createElement("div",{className:"modal-body"},a.a.createElement("p",{ref:"body"})),a.a.createElement("div",{className:"modal-footer"},a.a.createElement(o.a,{size:"small",onClick:this.close,text:"OK"})))))}}},528:function(e,t,n){e.exports=n.p+"data/38bcec2adbb7a210c01bb6531230305d.svg"},529:function(e,t,n){e.exports=n.p+"data/f0d8581a012d0a3398064aa4019c64a8.svg"},54:function(e,t,n){"use strict";var i=n(0),a=n.n(i),s=n(1),r=n.n(s),o=n(32);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c extends i.Component{constructor(){super(...arguments),l(this,"dismiss",()=>{this.props.dismissCallback(this.props.data.id)})}componentDidMount(){this.props.data.isStatic||(setTimeout(()=>{$(r.a.findDOMNode(this)).addClass("snackbar-open")},0),setTimeout(this.dismiss,3e3))}render(){const{isStatic:e,texts:t,icon:n}=this.props.data;let i=e?"static-snackbar":"",s=null;n&&(i+=" with-icon",s=a.a.createElement("div",{className:"evnt-snackbar-icon"},a.a.createElement("img",{src:n,alt:""})));let r=Array.isArray(t)?t:[t];return r=r.map((e,t)=>a.a.createElement("p",{key:t},e)),a.a.createElement("div",{className:"evnt-snackbar "+i},a.a.createElement("div",{className:"evnt-snackbar-wrapper"},a.a.createElement("div",{className:"evnt-snackbar-content"},s,a.a.createElement("div",{className:"evnt-snackbar-text"},r),a.a.createElement("div",{className:"evnt-snackbar-close",onClick:this.dismiss}))))}}var m=n(36),u=n.n(m),d=n(37),p=n.n(d);function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return v}));class v extends i.Component{constructor(e){super(e),h(this,"push",(e,t,n,i)=>{const a={id:window.generate_uuid(),isStatic:e,texts:t,icon:n,dismissCallback:i};this.setState(Object(o.a)(e=>(e.snacks.unshift(a),e)))}),h(this,"dismiss",e=>{const t=this.state.snacks.find(t=>t.id===e);t&&t.dismissCallback&&t.dismissCallback(),this.setState(Object(o.a)(t=>(t.snacks=t.snacks.filter(t=>t.id!==e),t)))});const t=document.createElement("div");t.className="evnt-snackbars-container",document.body.append(t),this.mountTo=t,this.state={snacks:[]}}render(){if(this.props.viewOnly)return null;const{snacks:e}=this.state,t=e.filter(e=>!e.isStatic),n=e.filter(e=>e.isStatic).concat(t.slice(t.length-v.MAX_DISPLAYED)).map(e=>a.a.createElement(c,{key:e.id,data:e,dismissCallback:this.dismiss}));return r.a.createPortal(n,this.mountTo)}}h(v,"ICONS",{adblock:u.a,calendar:p.a}),h(v,"MAX_DISPLAYED",1)},55:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(0),a=n.n(i),s=n(1);function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o extends i.Component{constructor(e){super(e),r(this,"click",(e,t)=>{e&&(window.location.href=e)}),r(this,"hover",()=>{const e=s.findDOMNode(this);window.innerWidth-e.offsetLeft<200&&"drop-menu-left"===this.dropClass?(this.dropClass="drop-menu-right",this.forceUpdate(this.hover)):window.innerWidth-e.offsetLeft>200&&"drop-menu-right"===this.dropClass&&(this.dropClass="drop-menu-left",this.forceUpdate(this.hover));const t=$(e).find(">.dropdown-menu");t.css({maxHeight:"none"}).removeClass("scrolling");const n=t.outerHeight(!0);let i=0;$(e).parents().hasClass("evnt-platform-header")?i=$(window).height()-$("header .evnt-platform-header").outerHeight(!0):($(e).parents().hasClass("evnt-sub-header")||$(e).parents().hasClass("evnt-event-header"))&&(i=$(window).height()-$("header").outerHeight(!0)),i<n&&t.css({maxHeight:i}).addClass("scrolling")}),this.dropClass="drop-menu-left"}render(){const{item:e,actions:t}=this.props,n=e.items.filter(e=>e.selected).length>0,i=e.items.map(e=>a.a.createElement("a",{key:e.key,className:"dropdown-item"+(e.selected?" active":""),href:e.url,onClick:t.itemClick.bind(this,e.url,e.key)},e.title)),s=e.url||(isNaN(e.key)?"/"+e.key:"#");return a.a.createElement("li",{className:"nav-item dropdown"+(n?" active":""),onClick:this.click.bind(this,e.url),onMouseEnter:this.hover},a.a.createElement("a",{className:"nav-link dropdown-toggle",href:s,"data-toggle":"dropdown"},e.title),a.a.createElement("div",{className:"dropdown-menu "+this.dropClass},i))}}},56:function(e,t,n){"use strict";var i=n(0),a=n.n(i);class s extends i.Component{render(){const{item:e,actions:t}=this.props;return a.a.createElement("a",{key:e.key,className:"dropdown-item"+(e.selected?" active":""),href:e.url,onClick:t.itemClick.bind(this,e.url,e.key)},e.title)}}var r=n(1);function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l extends i.Component{constructor(){super(...arguments),o(this,"click",(e,t)=>{isNaN(e)&&(window.location.href="/"+e)}),o(this,"hover",()=>{const e=r.findDOMNode(this),t=$(e).find(".dropdown-menu:first");let n=t.offset(),i=$(e).offset(),a=$(e).find(".dropdown-item.dropdown-toggle"),s=0,o=0,l=0;const c=document.documentElement&&document.documentElement.scrollTop||document.body&&document.body.scrollTop;$(window).height()-i.top+c<=t.outerHeight(!0)&&$(window).height()/2-i.top+c<=0?(s=i.top-c+a.outerHeight(!0)<=t.outerHeight(!0)?0:i.top-c-t.outerHeight(!0)+a.outerHeight(!0),o=i.top-c+a.outerHeight(!0)):(s=i.top-c,o=$(window).height()-(i.top-c)),$(window).height()-(n.top+c)<=0||$(window).height()-(n.top+c)-t.outerHeight(!0)<=0?t.css({maxHeight:o}).addClass("scrolling"):t.css({maxHeight:"none"}).removeClass("scrolling"),l=t.hasClass("drop-submenu-right")||this.props.rightSubmenu?$(window).width()-i.left-2*t.width():$(window).width()-i.left,t.show().css({position:"fixed",zIndex:1002,top:s,right:l}).addClass("scrolling")})}render(){const{item:e,actions:t}=this.props,n=e.items.filter(e=>e.selected).length>0,i=e.items.map(e=>a.a.createElement("a",{key:e.key,className:"dropdown-item"+(e.selected?" active":""),href:e.url,onClick:t.itemClick.bind(this,e.url,e.key)},e.title));return a.a.createElement("ul",{className:"evnt-navigation navbar-nav subnavbar-nav"},a.a.createElement("li",{className:"nav-item dropdown subdropdown"+(n?" active":""),onClick:this.click.bind(this,e.key),onMouseEnter:this.hover},a.a.createElement("a",{href:isNaN(e.key)?"/"+e.key:"#",className:"dropdown-item dropdown-toggle","data-toggle":"dropdown"},e.title),a.a.createElement("div",{className:"dropdown-menu"},i)))}}function c(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return u}));const m={page:s,group:l};class u extends i.Component{constructor(e){super(e),c(this,"hover",()=>{const e=r.findDOMNode(this);window.innerWidth-e.offsetLeft<200&&"drop-menu-left"===this.dropClass?(this.dropClass="drop-menu-right",this.forceUpdate(this.hover)):window.innerWidth-e.offsetLeft>200&&"drop-menu-right"===this.dropClass&&(this.dropClass="drop-menu-left",this.forceUpdate(this.hover));const t=$(e).find(".dropdown-menu:first");t.css({maxHeight:"none"}).removeClass("scrolling");const n=t.outerHeight(!0);let i=0;$(e).parents().hasClass("evnt-platform-header")?i=$(window).height()-$("header .evnt-platform-header").outerHeight(!0):($(e).parents().hasClass("evnt-sub-header")||$(e).parents().hasClass("evnt-event-header"))&&(i=$(window).height()-$("header").outerHeight(!0)),i<n&&t.css({maxHeight:i}).addClass("scrolling")}),this.dropClass="drop-menu-left"}render(){const{menuItems:e,actions:t,rightSubmenu:n}=this.props;if(0===e.length)return null;const i=e.filter(e=>"page"===e.type?e.selected:e.items.filter(e=>e.selected).length>0).length>0,s=e.map(e=>{const i=m[e.type];return a.a.createElement(i,{key:e.key,ref:e.key,item:e,actions:{itemClick:t.itemClick},rightSubmenu:n})});return a.a.createElement("ul",{className:"evnt-navigation navbar-nav extended-menu",ref:"more"},a.a.createElement("li",{className:"nav-item dropdown"+(i?" active":""),onMouseEnter:this.hover},a.a.createElement("a",{className:"nav-link dropdown-toggle",href:"#",id:"extendedMenu","data-toggle":"dropdown"},I18n.client.event_pages_erb.menu.more),a.a.createElement("div",{className:"dropdown-menu "+this.dropClass,ref:e=>this.dropdown_menu=e},s)))}}},6:function(e,t,n){"use strict";function i(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return a}));class a{}i(a,"isMobile",()=>/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)),i(a,"isResponsive",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return a.viewportWidth()<=e})),i(a,"checkHeight",(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return a.viewportHeight()>=e})),i(a,"viewportWidth",()=>{let e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),e[t+"Width"]}),i(a,"viewportHeight",()=>{let e=window,t="inner";return"innerHeight"in window||(t="client",e=document.documentElement||document.body),e[t+"Height"]})},63:function(e,t,n){},66:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(2),a=n.n(i),s=n(15);function r(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class o{}r(o,"subscribe",e=>a.a.post(e.baseUrl+"/subscribe",{authenticity_token:$("meta[name=csrf-token]").attr("content")},{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{}).catch(t=>{const n=new s.a;let i=t.response.status;return 401===i?e.showLoginPopup?e.showLoginPopup():n.show(I18n.global_errors.title,I18n.global_errors.session_expired):404===i||n.show(I18n.global_errors.title,I18n.global_errors.something_wrong),Promise.reject(t)})),r(o,"unsubscribe",e=>a.a.delete(e.baseUrl+"/unsubscribe",{params:{authenticity_token:$("meta[name=csrf-token]").attr("content")},headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{}).catch(t=>{const n=new s.a;let i=t.response.status;return 401===i?e.showLoginPopup?e.showLoginPopup():n.show(I18n.global_errors.title,I18n.global_errors.session_expired):404===i||n.show(I18n.global_errors.title,I18n.global_errors.something_wrong),Promise.reject(t)}))},67:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(5);function a(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class s{constructor(){a(this,"show",(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=$("#info_modal");a.find("h5").text(e),n?a.find(".modal-body").html(t):a.find(".modal-body").html(`<p>${Object(i.m)(t)}</p>`),a.modal("show")}))}}},7:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return r}));const i="login",a="community",s="event",r="requiredPolicies"},70:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i=n(2),a=n.n(i),s=n(15),r=n(14),o=n(3);function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class c{}l(c,"add",e=>{const t=`/api/v2/events/${e.eventId}/${e.talkId?`talks/${e.talkId}/`:""}calendar`;return a.a.post(t,{translatableId:e.translatableId,locale:e.locale,authenticity_token:$("meta[name=csrf-token]").attr("content")},{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(t=>{const{event:n,talk:i}=t.data;r.a.sendData("event","Calendar","add_calendar",`Event - "${n}"${i?`, talk - "${i}"`:""}`);let a=null,s={};e.talkId?(a="talk",s.param_talk_id=e.talkId,s.param_talk_source=e.section_title,s.param_page_url=window.location.href):(a="event",s.param_event_source=e.section_title,s.param_page_url=window.location.href),s.param_event_id=e.eventId,o.a.sendData(`add_${a}_to_calendar`,s)}).catch(t=>{const n=new s.a;let i=t.response.status;return 401===i?e.showLoginPopup?e.showLoginPopup():n.show(I18n.global_errors.title,I18n.global_errors.session_expired):403===i||404===i?e.talkId&&void 0!==window.I18n?n.show(I18n.global_errors.title,I18n.error_messages.security.not_found):n.show(I18n.global_errors.title,I18n.global_errors.action):n.show(I18n.global_errors.title,I18n.global_errors.something_wrong),Promise.reject(t)})}),l(c,"delete",e=>{const t=`/api/v2/events/${e.eventId}/${e.talkId?`talks/${e.talkId}/`:""}calendar`;return a.a.delete(t,{headers:{"X-Requested-With":"XMLHttpRequest"},data:{authenticity_token:$("meta[name=csrf-token]").attr("content")}}).then(e=>{}).catch(t=>{const n=new s.a;let i=t.response.status;return 401===i?e.showLoginPopup?e.showLoginPopup():n.show(I18n.global_errors.title,I18n.global_errors.session_expired):403===i||404===i?e.talkId&&void 0!==window.I18n?n.show(I18n.global_errors.action,I18n.error_messages.security.not_found):n.show(I18n.global_errors.title,I18n.global_errors.action):n.show(I18n.global_errors.title,I18n.global_errors.something_wrong),Promise.reject(t)})})},72:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var i=n(2),a=n.n(i),s=n(15),r=n(3);function o(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class l{}o(l,"like",e=>{const t=`/api/v2/articles/${e.articleId}/like`;return a.a.put(t,{translatableId:e.translatableId,locale:e.locale,authenticity_token:$("meta[name=csrf-token]").attr("content")},{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(e=>{r.a.sendData("like",{param_page_url:window.location.href,param_page_name:document.title,param_entity_type:"article"})}).catch(t=>{const n=new s.a;let i=t.response.status;if(401===i)e.showLoginPopup?e.showLoginPopup():n.show(I18n.global_errors.title,I18n.global_errors.session_expired);else if(403===i||404===i)e.talkId&&void 0!==window.I18n?n.show(I18n.global_errors.title,I18n.error_messages.security.not_found):n.show(I18n.global_errors.title,I18n.global_errors.action);else{let e=null;e=t.response.data?t.response.data.article[0]:I18n.global_errors.something_wrong,n.show(I18n.global_errors.title,e)}return Promise.reject(t)})}),o(l,"unlike",e=>{const t=`/api/v2/articles/${e.articleId}/unlike`;return a.a.put(t,{authenticity_token:$("meta[name=csrf-token]").attr("content")},{headers:{"X-Requested-With":"XMLHttpRequest"}}).catch(t=>{const n=new s.a;let i=t.response.status;return 401===i?e.showLoginPopup?e.showLoginPopup():n.show(I18n.global_errors.title,I18n.global_errors.session_expired):403===i||404===i?e.talkId&&void 0!==window.I18n?n.show(I18n.global_errors.action,I18n.error_messages.security.not_found):n.show(I18n.global_errors.title,I18n.global_errors.action):n.show(I18n.global_errors.title,I18n.global_errors.something_wrong),Promise.reject(t)})})},73:function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var i,a,s,r=n(2),o=n.n(r),l=n(15),c=n(3);class m{}i=m,s=e=>{const t=encodeURIComponent($("meta[name=csrf-token]").attr("content")),n={blocked_by_sender:()=>{const e={title:I18n.error_messages.direct_messages.blocked_by_sender.title,body:I18n.error_messages.direct_messages.blocked_by_sender.body,buttonText:I18n.error_messages.direct_messages.blocked_by_sender.button_text,buttonCallback:e=>{e.preventDefault(),e.stopPropagation(),window.location.href="/user-profile/edit/privacy"}},t=new CustomEvent("show_custom_callback_popup",{detail:e});document.dispatchEvent(t)},blocked_by_receiver:()=>{const e=I18n.error_messages.direct_messages.blocked_by_receiver;(new l.a).show(e.title,e.body)},receiver_is_obfuscated:()=>{const e=I18n.error_messages.direct_messages.receiver_is_obfuscated;(new l.a).show(e.title,e.body)}};return o.a.get(`/api/v2/portal/chats/check-permissions/${e.toId}?authenticity_token=${t}`).then(t=>{c.a.sendAnyPageData("send_message",{param_from_page:window.location.href},()=>{window.location.href="/chats?user_id="+e.toId})}).catch(e=>{const t=e.response.data[0];return n[t](),Promise.reject(e)})},(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a="chat"))in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s},79:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var i,a,s,r=n(2),o=n.n(r),l=n(18);class c{}i=c,s=e=>{const t=`/api/v2/communities/${e.communityId}/channels/${e.channelId}/discussions/${e.discussionId}/like`;return o.a.put(t,{isLiked:e.isLiked,translatableId:e.translatableId,locale:e.locale,authenticity_token:$("meta[name=csrf-token]").attr("content")},{headers:{"X-Requested-With":"XMLHttpRequest"}}).then(t=>{const n=new CustomEvent("likeDiscussion_"+e.discussionId,{detail:{isLiked:!e.isLiked,likesCount:t.data.likes_count}});window.dispatchEvent(n)}).catch(t=>{const n=new l.a;let i=t.response.status;if(401===i)e.showLoginPopup?e.showLoginPopup():n.show(I18n.global_errors.title,I18n.global_errors.session_expired);else if(403===i||404===i)void 0!==window.I18n?n.show(I18n.global_errors.title,I18n.error_messages.security.not_found):n.show(I18n.global_errors.title,I18n.global_errors.action);else{let e=null;e=t.response.data?t.response.data.discussion[0]:I18n.global_errors.something_wrong,n.show(I18n.global_errors.title,e)}return Promise.reject(t)})},(a=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(a="like"))in i?Object.defineProperty(i,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[a]=s},82:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var i=n(0),a=n.n(i),s=n(1),r=n(56),o=n(31),l=n(39),c=n(55),m=n(27),u=n(6),d=n(3),p=n(4);function h(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const v={page:l.a,group:c.a};class f extends i.Component{constructor(e){super(e),h(this,"componentDidMount",()=>{window.addEventListener("resize",this.setResponsive),this.layoutHandler&&this.onLoad(),window.addEventListener("setEntity",this.setEntity)}),h(this,"componentDidUpdate",()=>{this.handleResize=!1}),h(this,"componentWillUnmount",()=>{this.handleResize=!0,window.removeEventListener("resize",this.resizeNavigation),window.removeEventListener("resize",this.setResponsive),window.removeEventListener("setEntity",this.setEntity)}),h(this,"setResponsive",()=>{const e=u.a.isResponsive();this.state.isResponsive!==e&&this.setState({isResponsive:e},()=>{this.layoutHandler&&!e&&this.setCommunityTitleClass()})}),h(this,"onLoad",()=>{FontDetect.onFontLoaded("Oswald Regular",()=>{this.setCommunityTitleClass();const{logo:e}=this.layoutHandler.event,t=()=>{const e=this.layoutHandler.eventMenuItems(1);this.setState({menuItems:e,extendedMenuItems:e.length>0?[{key:"0",title:"",type:"page",url:"#",icon:"",selected:!1}]:[]},()=>{this.layoutHandler.isResponsive()||(this.handler=new o.a(this,36)),window.addEventListener("resize",this.resizeNavigation)})};if(e.image){let n=new Image;n.onload=t,n.onerror=t,n.src=e.image}else t()})}),h(this,"setCommunityTitleClass",()=>{const e=$(s.findDOMNode(this)),t=e.find(".evnt-title");e.length>0&&t.find("span").height()>18&&t.addClass("multiline")}),h(this,"setEntity",e=>{this.layoutHandler=new m.a(window.USER,e.detail.entity),this.setState({manageEntityButton:this.layoutHandler.viewportWidth()>this.width,fromEvent:!0},this.onLoad)}),h(this,"resizeNavigation",()=>{this.handler||this.layoutHandler.isResponsive()||(this.handler=new o.a(this,36)),!this.handleResize&&this.layoutHandler&&this.handler&&this.layoutHandler.viewportWidth()>this.width&&this.handler.resize()}),h(this,"logoClick",(e,t)=>{t.preventDefault(),d.a.sendEvent("header_logo_community",null,()=>{window.location=e})}),h(this,"itemClick",(e,t,n)=>{n.preventDefault(),n.stopPropagation(),m.a.goToItem(e);let i={param_select_value:t};i.param_community_id=this.layoutHandler.event.id,d.a.sendData("navi",i)}),this.layoutHandler=this.props.layoutHandler,this.width=1024,this.state={menuItems:[],extendedMenuItems:[],manageEntityButton:this.layoutHandler&&this.layoutHandler.viewportWidth()>this.width,fromEvent:null===this.layoutHandler,isResponsive:u.a.isResponsive()},this.handleResize=!0,this.handler=null}render(){if(!this.layoutHandler||this.state.isResponsive)return null;const{menuItems:e,extendedMenuItems:t,manageEntityButton:n,fromEvent:i}=this.state,{event:s,event:{logo:o,can_manage:l}}=this.layoutHandler;let c=null;if(o.image&&o.show_logo||o.text||o.same_as_event_title){const e=o.show_logo&&o.image?a.a.createElement("span",{className:"evnt-logo"},a.a.createElement("img",{src:o.image,height:"36",alt:""})):null,t=o.same_as_event_title&&s?s.title.substring(0,60):o.text,n=t?a.a.createElement("span",{className:"evnt-title"},a.a.createElement("span",null,t)):null;c=a.a.createElement("a",{href:"",className:"evnt-brand-logo",ref:"navigationLogo",onClick:this.logoClick.bind(this,"/communities/"+s.event_url)},e,n)}let m=null;if(e.length>0){const t=e.map(e=>{const t=v[e.type];return a.a.createElement(t,{key:e.key,ref:e.key,item:e,actions:{itemClick:this.itemClick}})});m=a.a.createElement("ul",{className:"evnt-navigation navbar-nav",ref:"navigationBar"},t)}let u=null;t.length>0&&(u=a.a.createElement(r.a,{menuItems:t,actions:{itemClick:this.itemClick},ref:"extendedMenu"}));let d=null;if(l&&n&&!i){const e=`/admin/communities/${s.id}/redirect`;d=a.a.createElement("ul",{className:"evnt-header-tools navbar-nav",ref:"navigationTools"},a.a.createElement("li",{className:"evnt-tools-menu manage nav-item"},a.a.createElement(p.a,{text:I18n.client.event_pages_erb.menu.edit_entity.communities,size:"small",color:"transparent sky",link:e})))}return a.a.createElement("div",{className:"evnt-sub-header"+(i?" scrolled":"")},c,a.a.createElement("div",{className:"evnt-navigation-wrapper navbar-expand"},m,u,d))}}},83:function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var i=n(0),a=n.n(i),s=n(14),r=n(3),o=n(20),l=n(40),c=n(7),m=n(22),u=n(26);function d(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}class p extends i.Component{constructor(e){super(e),d(this,"componentDidMount",()=>{const e=new o.a;e.isAction(this.actionAfterLoginType)&&e.performAction(null,this);const t=Object(l.parse)(location.search);"create_community"===t.after_actions_type&&"1"==t.after_actions_valid&&(this.triggerShow(),window.history.pushState(null,null,window.location.href.split("?")[0]))}),d(this,"createCommunity",(e,t)=>{t.preventDefault(),t.stopPropagation(),this.showPopup(e),s.a.sendData("event","Client menu","client_menu_using","'Create community' link clicked"),this.props.header_menu?r.a.sendAnyPageData("create_component",{param_create_option:"community"}):r.a.sendData("request_new_community",null)}),d(this,"triggerShow",()=>{this.button.click()}),d(this,"showPopup",e=>{if(e.user.id)e.actions.popup.toggle(c.a,!0);else{const t={actionBeforeLoginParams:{actionType:"action",action:"triggerShow",type:this.actionAfterLoginType},origin:{url:"/",type:"create_community",saveAfterAction:!0}};e.actions.popup.toggle(c.c,!0,t)}}),this.currentLocale=window.PORTAL_LOCALE,this.portalLocale=this.currentLocale.pages.communities,this.user=window.USER,this.actionAfterLoginType=u.a}render(){const{title:e,customClass:t}=this.props;let n=t;n||(n=this.props.isSimple?"evnt-button sky small":"dropdown-item create-icon");let i=e;return i||(i=this.props.isSimple?this.currentLocale.menu.create:this.currentLocale.menu.create_community),a.a.createElement(m.a.Consumer,null,e=>a.a.createElement("a",{className:n,href:"#",onClick:this.createCommunity.bind(this,e),ref:e=>this.button=e},i))}}},84:function(e,t,n){e.exports=n.p+"data/7a0eddf5d235f0598f9834c7b3cd8040.svg"},85:function(e,t,n){e.exports=n.p+"data/75a71f875118339721bb6feb9f291b55.svg"},86:function(e,t,n){e.exports=n.p+"data/2548521ac7970e45117d99eb0c842163.svg"},861:function(e,t,n){e.exports=n.p+"data/4c5da6fb52dc5a0aa694b1bfed7f3894.svg"},862:function(e,t,n){e.exports=n.p+"data/defd00c4eb0c878ec4f5afdb22d94902.svg"},87:function(e,t,n){e.exports=n.p+"data/fbd8cbde011954f6ed8057df805b7287.svg"}});